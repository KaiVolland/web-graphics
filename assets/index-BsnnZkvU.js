var qt=Object.defineProperty;var Dt=(n,e,t)=>e in n?qt(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var $=(n,e,t)=>(Dt(n,typeof e!="symbol"?e+"":e,t),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function t(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(o){if(o.ep)return;o.ep=!0;const i=t(o);fetch(o.href,i)}})();function O(){}function rt(n,e){for(const t in e)n[t]=e[t];return n}function yt(n){return n()}function ft(){return Object.create(null)}function ve(n){n.forEach(yt)}function We(n){return typeof n=="function"}function we(n,e){return n!=n?e==e:n!==e||n&&typeof n=="object"||typeof n=="function"}function Vt(n){return Object.keys(n).length===0}function St(n,...e){if(n==null){for(const s of e)s(void 0);return O}const t=n.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function qe(n,e,t){n.$$.on_destroy.push(St(e,t))}function Mt(n,e,t,s){if(n){const o=xt(n,e,t,s);return n[0](o)}}function xt(n,e,t,s){return n[1]&&s?rt(t.ctx.slice(),n[1](s(e))):t.ctx}function zt(n,e,t,s){if(n[2]&&s){const o=n[2](s(t));if(e.dirty===void 0)return o;if(typeof o=="object"){const i=[],a=Math.max(e.dirty.length,o.length);for(let r=0;r<a;r+=1)i[r]=e.dirty[r]|o[r];return i}return e.dirty|o}return e.dirty}function Ft(n,e,t,s,o,i){if(o){const a=xt(e,t,s,i);n.p(a,o)}}function It(n){if(n.ctx.length>32){const e=[],t=n.ctx.length/32;for(let s=0;s<t;s++)e[s]=-1;return e}return-1}function Ot(n){return n&&We(n.destroy)?n.destroy:O}function h(n,e){n.appendChild(e)}function H(n,e,t){n.insertBefore(e,t||null)}function U(n){n.parentNode&&n.parentNode.removeChild(n)}function g(n){return document.createElement(n)}function Te(n){return document.createTextNode(n)}function P(){return Te(" ")}function ot(){return Te("")}function J(n,e,t,s){return n.addEventListener(e,t,s),()=>n.removeEventListener(e,t,s)}function c(n,e,t){t==null?n.removeAttribute(e):n.getAttribute(e)!==t&&n.setAttribute(e,t)}function V(n){return n===""?null:+n}function jt(n){return Array.from(n.childNodes)}function C(n,e){n.value=e??""}function ht(n,e,t){n.classList.toggle(e,!!t)}function Nt(n,e,{bubbles:t=!1,cancelable:s=!1}={}){return new CustomEvent(n,{detail:e,bubbles:t,cancelable:s})}function Be(n,e){return new n(e)}let De;function Re(n){De=n}function Xe(){if(!De)throw new Error("Function called outside component initialization");return De}function Lt(n){Xe().$$.on_mount.push(n)}function Gt(n){Xe().$$.after_update.push(n)}function Bt(n){Xe().$$.on_destroy.push(n)}function Ut(){const n=Xe();return(e,t,{cancelable:s=!1}={})=>{const o=n.$$.callbacks[e];if(o){const i=Nt(e,t,{cancelable:s});return o.slice().forEach(a=>{a.call(n,i)}),!i.defaultPrevented}return!0}}function pt(n,e){const t=n.$$.callbacks[e.type];t&&t.slice().forEach(s=>s.call(this,e))}const $e=[],Ue=[];let Ce=[];const dt=[],Et=Promise.resolve();let nt=!1;function At(){nt||(nt=!0,Et.then(Pt))}function Yt(){return At(),Et}function st(n){Ce.push(n)}const Qe=new Set;let Pe=0;function Pt(){if(Pe!==0)return;const n=De;do{try{for(;Pe<$e.length;){const e=$e[Pe];Pe++,Re(e),Ht(e.$$)}}catch(e){throw $e.length=0,Pe=0,e}for(Re(null),$e.length=0,Pe=0;Ue.length;)Ue.pop()();for(let e=0;e<Ce.length;e+=1){const t=Ce[e];Qe.has(t)||(Qe.add(t),t())}Ce.length=0}while($e.length);for(;dt.length;)dt.pop()();nt=!1,Qe.clear(),Re(n)}function Ht(n){if(n.fragment!==null){n.update(),ve(n.before_update);const e=n.dirty;n.dirty=[-1],n.fragment&&n.fragment.p(n.ctx,e),n.after_update.forEach(st)}}function Wt(n){const e=[],t=[];Ce.forEach(s=>n.indexOf(s)===-1?e.push(s):t.push(s)),t.forEach(s=>s()),Ce=e}const je=new Set;let Le;function it(){Le={r:0,c:[],p:Le}}function at(){Le.r||ve(Le.c),Le=Le.p}function ne(n,e){n&&n.i&&(je.delete(n),n.i(e))}function ae(n,e,t,s){if(n&&n.o){if(je.has(n))return;je.add(n),Le.c.push(()=>{je.delete(n),s&&(t&&n.d(1),s())}),n.o(e)}else s&&s()}function Ye(n,e){const t={},s={},o={$$scope:1};let i=n.length;for(;i--;){const a=n[i],r=e[i];if(r){for(const l in a)l in r||(s[l]=1);for(const l in r)o[l]||(t[l]=r[l],o[l]=1);n[i]=r}else for(const l in a)o[l]=1}for(const a in s)a in t||(t[a]=void 0);return t}function He(n){return typeof n=="object"&&n!==null?n:{}}function _e(n){n&&n.c()}function he(n,e,t){const{fragment:s,after_update:o}=n.$$;s&&s.m(e,t),st(()=>{const i=n.$$.on_mount.map(yt).filter(We);n.$$.on_destroy?n.$$.on_destroy.push(...i):ve(i),n.$$.on_mount=[]}),o.forEach(st)}function pe(n,e){const t=n.$$;t.fragment!==null&&(Wt(t.after_update),ve(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function Xt(n,e){n.$$.dirty[0]===-1&&($e.push(n),At(),n.$$.dirty.fill(0)),n.$$.dirty[e/31|0]|=1<<e%31}function Se(n,e,t,s,o,i,a=null,r=[-1]){const l=De;Re(n);const u=n.$$={fragment:null,ctx:[],props:i,update:O,not_equal:o,bound:ft(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(l?l.$$.context:[])),callbacks:ft(),dirty:r,skip_bound:!1,root:e.target||l.$$.root};a&&a(u.root);let p=!1;if(u.ctx=t?t(n,e.props||{},(d,y,...f)=>{const m=f.length?f[0]:y;return u.ctx&&o(u.ctx[d],u.ctx[d]=m)&&(!u.skip_bound&&u.bound[d]&&u.bound[d](m),p&&Xt(n,d)),y}):[],u.update(),p=!0,ve(u.before_update),u.fragment=s?s(u.ctx):!1,e.target){if(e.hydrate){const d=jt(e.target);u.fragment&&u.fragment.l(d),d.forEach(U)}else u.fragment&&u.fragment.c();e.intro&&ne(n.$$.fragment),he(n,e.target,e.anchor),Pt()}Re(l)}class xe{constructor(){$(this,"$$");$(this,"$$set")}$destroy(){pe(this,1),this.$destroy=O}$on(e,t){if(!We(t))return O;const s=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return s.push(t),()=>{const o=s.indexOf(t);o!==-1&&s.splice(o,1)}}$set(e){this.$$set&&!Vt(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Zt="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Zt);const ke=[];function kt(n,e){return{subscribe:Ze(n,e).subscribe}}function Ze(n,e=O){let t;const s=new Set;function o(r){if(we(n,r)&&(n=r,t)){const l=!ke.length;for(const u of s)u[1](),ke.push(u,n);if(l){for(let u=0;u<ke.length;u+=2)ke[u][0](ke[u+1]);ke.length=0}}}function i(r){o(r(n))}function a(r,l=O){const u=[r,l];return s.add(u),s.size===1&&(t=e(o,i)||O),r(n),()=>{s.delete(u),s.size===0&&t&&(t(),t=null)}}return{set:o,update:i,subscribe:a}}function $t(n,e,t){const s=!Array.isArray(n),o=s?[n]:n;if(!o.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const i=e.length<2;return kt(t,(a,r)=>{let l=!1;const u=[];let p=0,d=O;const y=()=>{if(p)return;d();const m=e(s?u[0]:u,a,r);i?a(m):d=We(m)?m:O},f=o.map((m,S)=>St(m,w=>{u[S]=w,p&=~(1<<S),l&&y()},()=>{p|=1<<S}));return l=!0,y(),function(){ve(f),d(),l=!1}})}function Kt(n,e){if(n instanceof RegExp)return{keys:!1,pattern:n};var t,s,o,i,a=[],r="",l=n.split("/");for(l[0]||l.shift();o=l.shift();)t=o[0],t==="*"?(a.push("wild"),r+="/(.*)"):t===":"?(s=o.indexOf("?",1),i=o.indexOf(".",1),a.push(o.substring(1,~s?s:~i?i:o.length)),r+=~s&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(r+=(~s?"?":"")+"\\"+o.substring(i))):r+="/"+o;return{keys:a,pattern:new RegExp("^"+r+(e?"(?=$|/)":"/?$"),"i")}}function Jt(n){let e,t,s;const o=[n[2]];var i=n[0];function a(r,l){let u={};if(l!==void 0&&l&4)u=Ye(o,[He(r[2])]);else for(let p=0;p<o.length;p+=1)u=rt(u,o[p]);return{props:u}}return i&&(e=Be(i,a(n)),e.$on("routeEvent",n[7])),{c(){e&&_e(e.$$.fragment),t=ot()},m(r,l){e&&he(e,r,l),H(r,t,l),s=!0},p(r,l){if(l&1&&i!==(i=r[0])){if(e){it();const u=e;ae(u.$$.fragment,1,0,()=>{pe(u,1)}),at()}i?(e=Be(i,a(r,l)),e.$on("routeEvent",r[7]),_e(e.$$.fragment),ne(e.$$.fragment,1),he(e,t.parentNode,t)):e=null}else if(i){const u=l&4?Ye(o,[He(r[2])]):{};e.$set(u)}},i(r){s||(e&&ne(e.$$.fragment,r),s=!0)},o(r){e&&ae(e.$$.fragment,r),s=!1},d(r){r&&U(t),e&&pe(e,r)}}}function Qt(n){let e,t,s;const o=[{params:n[1]},n[2]];var i=n[0];function a(r,l){let u={};if(l!==void 0&&l&6)u=Ye(o,[l&2&&{params:r[1]},l&4&&He(r[2])]);else for(let p=0;p<o.length;p+=1)u=rt(u,o[p]);return{props:u}}return i&&(e=Be(i,a(n)),e.$on("routeEvent",n[6])),{c(){e&&_e(e.$$.fragment),t=ot()},m(r,l){e&&he(e,r,l),H(r,t,l),s=!0},p(r,l){if(l&1&&i!==(i=r[0])){if(e){it();const u=e;ae(u.$$.fragment,1,0,()=>{pe(u,1)}),at()}i?(e=Be(i,a(r,l)),e.$on("routeEvent",r[6]),_e(e.$$.fragment),ne(e.$$.fragment,1),he(e,t.parentNode,t)):e=null}else if(i){const u=l&6?Ye(o,[l&2&&{params:r[1]},l&4&&He(r[2])]):{};e.$set(u)}},i(r){s||(e&&ne(e.$$.fragment,r),s=!0)},o(r){e&&ae(e.$$.fragment,r),s=!1},d(r){r&&U(t),e&&pe(e,r)}}}function en(n){let e,t,s,o;const i=[Qt,Jt],a=[];function r(l,u){return l[1]?0:1}return e=r(n),t=a[e]=i[e](n),{c(){t.c(),s=ot()},m(l,u){a[e].m(l,u),H(l,s,u),o=!0},p(l,[u]){let p=e;e=r(l),e===p?a[e].p(l,u):(it(),ae(a[p],1,1,()=>{a[p]=null}),at(),t=a[e],t?t.p(l,u):(t=a[e]=i[e](l),t.c()),ne(t,1),t.m(s.parentNode,s))},i(l){o||(ne(t),o=!0)},o(l){ae(t),o=!1},d(l){l&&U(s),a[e].d(l)}}}function _t(){const n=window.location.href.indexOf("#/");let e=n>-1?window.location.href.substr(n+1):"/";const t=e.indexOf("?");let s="";return t>-1&&(s=e.substr(t+1),e=e.substr(0,t)),{location:e,querystring:s}}const lt=kt(null,function(e){e(_t());const t=()=>{e(_t())};return window.addEventListener("hashchange",t,!1),function(){window.removeEventListener("hashchange",t,!1)}}),tn=$t(lt,n=>n.location);$t(lt,n=>n.querystring);const mt=Ze(void 0);function nn(n,e){if(e=vt(e),!n||!n.tagName||n.tagName.toLowerCase()!="a")throw Error('Action "link" can only be used with <a> tags');return gt(n,e),{update(t){t=vt(t),gt(n,t)}}}function sn(n){n?window.scrollTo(n.__svelte_spa_router_scrollX,n.__svelte_spa_router_scrollY):window.scrollTo(0,0)}function gt(n,e){let t=e.href||n.getAttribute("href");if(t&&t.charAt(0)=="/")t="#"+t;else if(!t||t.length<2||t.slice(0,2)!="#/")throw Error('Invalid value for "href" attribute: '+t);n.setAttribute("href",t),n.addEventListener("click",s=>{s.preventDefault(),e.disabled||rn(s.currentTarget.getAttribute("href"))})}function vt(n){return n&&typeof n=="string"?{href:n}:n||{}}function rn(n){history.replaceState({...history.state,__svelte_spa_router_scrollX:window.scrollX,__svelte_spa_router_scrollY:window.scrollY},void 0),window.location.hash=n}function on(n,e,t){let{routes:s={}}=e,{prefix:o=""}=e,{restoreScrollState:i=!1}=e;class a{constructor(_,v){if(!v||typeof v!="function"&&(typeof v!="object"||v._sveltesparouter!==!0))throw Error("Invalid component object");if(!_||typeof _=="string"&&(_.length<1||_.charAt(0)!="/"&&_.charAt(0)!="*")||typeof _=="object"&&!(_ instanceof RegExp))throw Error('Invalid value for "path" argument - strings must start with / or *');const{pattern:L,keys:E}=Kt(_);this.path=_,typeof v=="object"&&v._sveltesparouter===!0?(this.component=v.component,this.conditions=v.conditions||[],this.userData=v.userData,this.props=v.props||{}):(this.component=()=>Promise.resolve(v),this.conditions=[],this.props={}),this._pattern=L,this._keys=E}match(_){if(o){if(typeof o=="string")if(_.startsWith(o))_=_.substr(o.length)||"/";else return null;else if(o instanceof RegExp){const D=_.match(o);if(D&&D[0])_=_.substr(D[0].length)||"/";else return null}}const v=this._pattern.exec(_);if(v===null)return null;if(this._keys===!1)return v;const L={};let E=0;for(;E<this._keys.length;){try{L[this._keys[E]]=decodeURIComponent(v[E+1]||"")||null}catch{L[this._keys[E]]=null}E++}return L}async checkConditions(_){for(let v=0;v<this.conditions.length;v++)if(!await this.conditions[v](_))return!1;return!0}}const r=[];s instanceof Map?s.forEach((b,_)=>{r.push(new a(_,b))}):Object.keys(s).forEach(b=>{r.push(new a(b,s[b]))});let l=null,u=null,p={};const d=Ut();async function y(b,_){await Yt(),d(b,_)}let f=null,m=null;i&&(m=b=>{b.state&&(b.state.__svelte_spa_router_scrollY||b.state.__svelte_spa_router_scrollX)?f=b.state:f=null},window.addEventListener("popstate",m),Gt(()=>{sn(f)}));let S=null,w=null;const R=lt.subscribe(async b=>{S=b;let _=0;for(;_<r.length;){const v=r[_].match(b.location);if(!v){_++;continue}const L={route:r[_].path,location:b.location,querystring:b.querystring,userData:r[_].userData,params:v&&typeof v=="object"&&Object.keys(v).length?v:null};if(!await r[_].checkConditions(L)){t(0,l=null),w=null,y("conditionsFailed",L);return}y("routeLoading",Object.assign({},L));const E=r[_].component;if(w!=E){E.loading?(t(0,l=E.loading),w=E,t(1,u=E.loadingParams),t(2,p={}),y("routeLoaded",Object.assign({},L,{component:l,name:l.name,params:u}))):(t(0,l=null),w=null);const D=await E();if(b!=S)return;t(0,l=D&&D.default||D),w=E}v&&typeof v=="object"&&Object.keys(v).length?t(1,u=v):t(1,u=null),t(2,p=r[_].props),y("routeLoaded",Object.assign({},L,{component:l,name:l.name,params:u})).then(()=>{mt.set(u)});return}t(0,l=null),w=null,mt.set(void 0)});Bt(()=>{R(),m&&window.removeEventListener("popstate",m)});function q(b){pt.call(this,n,b)}function A(b){pt.call(this,n,b)}return n.$$set=b=>{"routes"in b&&t(3,s=b.routes),"prefix"in b&&t(4,o=b.prefix),"restoreScrollState"in b&&t(5,i=b.restoreScrollState)},n.$$.update=()=>{n.$$.dirty&32&&(history.scrollRestoration=i?"manual":"auto")},[l,u,p,s,o,i,q,A]}class an extends xe{constructor(e){super(),Se(this,e,on,en,we,{routes:3,prefix:4,restoreScrollState:5})}}function ln(n){let e;return{c(){e=Te("Nothing to see here. Go to Engine or Shader Art.")},m(t,s){H(t,e,s)},p:O,i:O,o:O,d(t){t&&U(e)}}}class un extends xe{constructor(e){super(),Se(this,e,null,ln,we,{})}}const cn=`#version 300 es

layout(location = 0) in vec2 aPosition;
out vec2 fragCoord;

void main()
{
    fragCoord = aPosition;
    gl_Position = vec4(aPosition, 0.0, 1.0);
}
`,fn=`#version 300 es

precision mediump float;

in vec2 fragCoord;
uniform float uTime;
uniform float uDensity;

out vec4 fragColor;

//https://iquilezles.org/articles/palettes/
vec3 palette( float t ) {
    vec3 a = vec3(0.5, 0.5, 0.5);
    vec3 b = vec3(0.5, 0.5, 0.5);
    vec3 c = vec3(1.0, 1.0, 1.0);
    vec3 d = vec3(0.263,0.416,0.557);

    return a + b*cos( 6.28318*(c*t+d) );
}

void main()
{
    vec2 uv = fragCoord;
    float d = length(uv);

    vec2 uv0 = uv;
    vec3 finalColor = vec3(0.0);

    for (float i = 0.0; i < 4.0; i++) {
        uv = fract(uv * uDensity / 10.0) - 0.5;

        float d = length(uv) * exp(-length(uv0));

        vec3 col = palette(length(uv0) + i*.4 + uTime*.4);

        d = sin(d * 8. + uTime)/8.;
        d = abs(d);

        d = pow(0.01 / d, 1.2);

        finalColor += col * d;
    }

    fragColor = vec4(finalColor, 1.0);
}
`,Ne=Ze(15),Ge=Ze(1e3);function hn(n){let e,t,s,o,i;return{c(){e=g("input"),t=P(),s=g("input"),c(e,"type","number"),c(e,"min","100"),c(e,"max","3000"),c(s,"id",n[0]),c(s,"type","range"),c(s,"min","100"),c(s,"max","3000")},m(a,r){H(a,e,r),C(e,n[1]),H(a,t,r),H(a,s,r),C(s,n[1]),o||(i=[J(e,"input",n[2]),J(s,"change",n[3]),J(s,"input",n[3])],o=!0)},p(a,[r]){r&2&&V(e.value)!==a[1]&&C(e,a[1]),r&1&&c(s,"id",a[0]),r&2&&C(s,a[1])},i:O,o:O,d(a){a&&(U(e),U(t),U(s)),o=!1,ve(i)}}}function pn(n,e,t){let s;qe(n,Ge,r=>t(1,s=r));let{id:o="speed-slider"}=e;function i(){s=V(this.value),Ge.set(s)}function a(){s=V(this.value),Ge.set(s)}return n.$$set=r=>{"id"in r&&t(0,o=r.id)},[o,s,i,a]}class dn extends xe{constructor(e){super(),Se(this,e,pn,hn,we,{id:0})}}function _n(n){let e,t,s,o,i;return{c(){e=g("input"),t=P(),s=g("input"),c(e,"type","number"),c(e,"min","1"),c(e,"max","30"),c(s,"id",n[0]),c(s,"type","range"),c(s,"min","1"),c(s,"max","30")},m(a,r){H(a,e,r),C(e,n[1]),H(a,t,r),H(a,s,r),C(s,n[1]),o||(i=[J(e,"input",n[2]),J(s,"change",n[3]),J(s,"input",n[3])],o=!0)},p(a,[r]){r&2&&V(e.value)!==a[1]&&C(e,a[1]),r&1&&c(s,"id",a[0]),r&2&&C(s,a[1])},i:O,o:O,d(a){a&&(U(e),U(t),U(s)),o=!1,ve(i)}}}function mn(n,e,t){let s;qe(n,Ne,r=>t(1,s=r));let{id:o="density-slider"}=e;function i(){s=V(this.value),Ne.set(s)}function a(){s=V(this.value),Ne.set(s)}return n.$$set=r=>{"id"in r&&t(0,o=r.id)},[o,s,i,a]}class gn extends xe{constructor(e){super(),Se(this,e,mn,_n,we,{id:0})}}function vn(n){let e,t,s,o,i,a,r,l,u,p,d,y,f,m;return i=new dn({props:{id:"speed-slider"}}),u=new gn({props:{id:"density-slider"}}),{c(){e=g("div"),t=g("div"),s=g("label"),s.textContent="Speed",o=P(),_e(i.$$.fragment),a=P(),r=g("label"),r.textContent="Density",l=P(),_e(u.$$.fragment),p=P(),d=g("canvas"),y=P(),f=g("div"),f.innerHTML='<a href="https://www.youtube.com/watch?v=f4s1h2YETNY&amp;t=583s">Shader code by kishimisu</a>',c(s,"for","speed-slider"),c(r,"for","speed-slider"),c(t,"class","toolbar"),c(d,"class","svelte-syf6pw"),c(e,"class","shaderArt svelte-syf6pw")},m(S,w){H(S,e,w),h(e,t),h(t,s),h(t,o),he(i,t,null),h(t,a),h(t,r),h(t,l),he(u,t,null),h(e,p),h(e,d),n[1](d),h(e,y),h(e,f),m=!0},p:O,i(S){m||(ne(i.$$.fragment,S),ne(u.$$.fragment,S),m=!0)},o(S){ae(i.$$.fragment,S),ae(u.$$.fragment,S),m=!1},d(S){S&&U(e),pe(i),pe(u),n[1](null)}}}function wn(n,e,t){let s,o;qe(n,Ge,r=>t(2,s=r)),qe(n,Ne,r=>t(3,o=r));let i;Lt(()=>{const r=i.getContext("webgl2");if(!r)return;const l=r.createProgram();if(!l)return;const u=r.createShader(r.VERTEX_SHADER);if(!u)return;r.shaderSource(u,cn),r.compileShader(u),r.attachShader(l,u);const p=r.createShader(r.FRAGMENT_SHADER);if(!p)return;r.shaderSource(p,fn),r.compileShader(p),r.attachShader(l,p),r.linkProgram(l),r.getProgramParameter(l,r.LINK_STATUS)||(console.log(r.getShaderInfoLog(u)),console.log(r.getShaderInfoLog(p)));const d=new Float32Array([-1,-1,1,-1,-1,1,1,-1,-1,1,1,1]),y=r.getUniformLocation(l,"uResolution");r.uniform2f(y,1024,1024);const f=r.getUniformLocation(l,"uTime");r.uniform1f(f,0);const m=r.getUniformLocation(l,"uDensity");r.uniform1f(m,15);const S=r.createBuffer();r.bindBuffer(r.ARRAY_BUFFER,S),r.bufferData(r.ARRAY_BUFFER,d,r.STATIC_DRAW);const w=0;r.enableVertexAttribArray(w),r.vertexAttribPointer(w,2,r.FLOAT,!1,2*4,0);const R=(q=0)=>{(i.width!==i.clientWidth||i.height!==i.clientHeight)&&(t(0,i.width=i.clientWidth,i),t(0,i.height=i.clientHeight,i),r.viewport(0,0,r.canvas.width,r.canvas.height)),r.clearColor(0,0,0,1),r.clear(r.COLOR_BUFFER_BIT),r.uniform1f(m,o),r.uniform1f(f,q/1e6*s),r.useProgram(l),r.drawArrays(r.TRIANGLES,0,6),requestAnimationFrame(R)};R()});function a(r){Ue[r?"unshift":"push"](()=>{i=r,t(0,i)})}return[i,a]}class bn extends xe{constructor(e){super(),Se(this,e,wn,vn,we,{})}}function yn(n){let e,t,s,o;const i=n[3].default,a=Mt(i,n,n[2],null);return{c(){e=g("a"),a&&a.c(),c(e,"href",n[0]),c(e,"class","svelte-1dzzut9"),ht(e,"active",n[1]===n[0])},m(r,l){H(r,e,l),a&&a.m(e,null),t=!0,s||(o=Ot(nn.call(null,e)),s=!0)},p(r,[l]){a&&a.p&&(!t||l&4)&&Ft(a,i,r,r[2],t?zt(i,r[2],l,null):It(r[2]),null),(!t||l&1)&&c(e,"href",r[0]),(!t||l&3)&&ht(e,"active",r[1]===r[0])},i(r){t||(ne(a,r),t=!0)},o(r){ae(a,r),t=!1},d(r){r&&U(e),a&&a.d(r),s=!1,o()}}}function Sn(n,e,t){let s;qe(n,tn,r=>t(1,s=r));let{$$slots:o={},$$scope:i}=e,{href:a=""}=e;return n.$$set=r=>{"href"in r&&t(0,a=r.href),"$$scope"in r&&t(2,i=r.$$scope)},[a,s,i,o]}class et extends xe{constructor(e){super(),Se(this,e,Sn,yn,we,{href:0})}}const xn=`#version 300 es

// an attribute is an input (in) to a vertex shader.
// It will receive data from a buffer
in vec4 a_position;
in vec4 a_color;
in vec3 a_normal;

uniform vec3 u_lightWorldPosition;
uniform vec3 u_viewWorldPosition;

uniform mat4 u_world;
uniform mat4 u_worldViewProjection;
uniform mat4 u_worldInverseTranspose;

// // a varying the color to the fragment shader
out vec4 v_color;

// varying to pass the normal to the fragment shader
out vec3 v_normal;
out vec3 v_surfaceToLight;
out vec3 v_surfaceToView;

void main() {
  // Multiply the position by the matrix.
  gl_Position = u_worldViewProjection * a_position;

  // // Pass the color to the fragment shader.
  v_color = a_color;

  // Pass the normal to the fragment shader
  v_normal = mat3(u_worldInverseTranspose) * a_normal;

  // compute the world position of the surface
  vec3 surfaceWorldPosition = (u_world * a_position).xyz;

  // compute the vector of the surface to the light
  // and pass it to the fragment shader
  v_surfaceToLight = u_lightWorldPosition - surfaceWorldPosition;

  // compute the vector of the surface to the view/camera
  // and pass it to the fragment shader
  v_surfaceToView = u_viewWorldPosition - surfaceWorldPosition;
}
`,Ln=`#version 300 es

precision highp float;

// // the varied color passed from the vertex shader
in vec4 v_color;

// Passed in and varied from the vertex shader.
in vec3 v_normal;
in vec3 v_surfaceToLight;
in vec3 v_surfaceToView;

// we need to declare an output for the fragment shader
out vec4 outColor;

uniform float u_shininess;
uniform vec3 u_lightColor;
uniform vec3 u_specularColor;

void main() {
  outColor = v_color;

  // because v_normal is a varying it's interpolated
  // so it will not be a unit vector. Normalizing it
  // will make it a unit vector again
  vec3 normal = normalize(v_normal);

  vec3 surfaceToLightDirection = normalize(v_surfaceToLight);
  vec3 surfaceToViewDirection = normalize(v_surfaceToView);
  vec3 halfVector = normalize(surfaceToLightDirection + surfaceToViewDirection);

  // compute the light by taking the dot product
  // of the normal to the light's reverse direction
  float light = dot(normal, surfaceToLightDirection);
  float specular = 0.0;
  if (light > 0.0) {
    specular = pow(dot(normal, halfVector), u_shininess);
  }

  // Lets multiply just the color portion (not the alpha)
  // by the light
  outColor.rgb *= light * u_lightColor;

  // Just add in the specular
  outColor.rgb += specular * u_specularColor;
}
`;class En{constructor(e){$(this,"_gl",null);$(this,"_canvas");$(this,"_width");$(this,"_height");this._width=e.width,this._height=e.height,this._canvas=e,this.updateGL(),this.updateViewPort()}set canvas(e){this._canvas=e,this.updateGL(),this.updateViewPort()}updateGL(){const e=this._canvas.getContext("webgl2");if(!e)throw`Could not get webgl2 context of canvas element: ${this._canvas}`;this._gl=e}updateViewPort(){if(!this._gl)throw"Could not update viewport.";this._gl.viewport(0,0,this._gl.canvas.width,this._gl.canvas.height)}linkProgram(e){if(!this._gl)throw"Could not link program.";this._gl.linkProgram(e.webGLProgram),this._gl.getProgramParameter(e.webGLProgram,this._gl.LINK_STATUS)||(e.vertexShader&&console.log(this._gl.getShaderInfoLog(e.vertexShader.webGLShader)),e.fragmentShader&&console.log(this._gl.getShaderInfoLog(e.fragmentShader.webGLShader)))}get width(){return this._width}get height(){return this._height}get gl(){return this._gl}}class Ct{constructor({gl:e,source:t}){$(this,"_gl");$(this,"_webGLShader");$(this,"source",null);this._gl=e,this._webGLShader=this.create(),t&&(this._gl.shaderSource(this._webGLShader,t),this._gl.compileShader(this._webGLShader))}get webGLShader(){return this._webGLShader}}class Tt extends Ct{constructor({gl:e,source:t}){super({gl:e,source:t})}create(){const e=this._gl.createShader(this._gl.VERTEX_SHADER);if(!e)throw"Could not create VertexShader";return e}updateSource(e){}}class Rt extends Ct{constructor({gl:e,source:t}){super({gl:e,source:t})}create(){const e=this._gl.createShader(this._gl.FRAGMENT_SHADER);if(!e)throw"Could not create FragmentShader";return e}updateSource(e){}}class An{constructor(e){$(this,"_gl");$(this,"_webGLProgram");$(this,"_vertexShader",null);$(this,"_fragmentShader",null);this._gl=e;const t=e.createProgram();if(!t)throw"Could not create program";this._webGLProgram=t}attachShader(e){this._gl.attachShader(this._webGLProgram,e.webGLShader),e instanceof Tt&&(this._vertexShader=e),e instanceof Rt&&(this._fragmentShader=e)}getUniformLocation(e){return this._gl.getUniformLocation(this._webGLProgram,e)}get webGLProgram(){return this._webGLProgram}get vertexShader(){return this._vertexShader}get fragmentShader(){return this._fragmentShader}}class tt{constructor({gl:e,name:t,program:s,pointerProperties:o,createVao:i}){$(this,"_gl");$(this,"_buffer");$(this,"_name");$(this,"_program",null);$(this,"_vao",null);$(this,"_pointerProperties");$(this,"_createVao");this._gl=e,this._name=t,s&&(this._program=s),this._createVao=i||!1;const a=e.createBuffer();if(!a)throw"Could not create buffer";this._pointerProperties={normalize:!1,stride:0,offset:0,...o},this._buffer=a}get name(){return this._name}get buffer(){return this._buffer}get vao(){if(!this._vao)throw"Could not get vao of attribute. Was the data set already?";return this._vao}getLocation(){if(!this._program)throw"Could not get location of attribute. No program attached.";return this._gl.getAttribLocation(this._program.webGLProgram,this._name)}setBufferData(e){this._createVao&&(this._vao=this._gl.createVertexArray(),this._gl.bindVertexArray(this._vao)),this._gl.enableVertexAttribArray(this.getLocation()),this._gl.bindBuffer(this._gl.ARRAY_BUFFER,this._buffer),this._gl.bufferData(this._gl.ARRAY_BUFFER,e,this._gl.STATIC_DRAW);const{size:t,type:s,normalize:o,stride:i,offset:a}=this._pointerProperties;this._gl.vertexAttribPointer(this.getLocation(),t,s,o,i,a)}}class ye{constructor({gl:e,type:t,name:s,program:o,value:i}){$(this,"_gl");$(this,"_value",null);$(this,"_type");$(this,"_name");$(this,"_program",null);this._gl=e,this._name=s,this._type=t,o&&(this._program=o),console.log(`Creating uniform ${s} with type ${t} and value ${i}`),i!==void 0&&(this.value=i)}get value(){return this._value}set value(e){this._value=e;const t=this.getLocation();if(Array.isArray(e))switch(this._type){case"2f":this._gl.uniform2f(t,e[0],e[1]);break;case"2i":this._gl.uniform2i(t,e[0],e[1]);break;case"3f":this._gl.uniform3f(t,e[0],e[1],e[2]);break;case"3i":this._gl.uniform3i(t,e[0],e[1],e[2]);break;case"4f":this._gl.uniform4f(t,e[0],e[1],e[2],e[3]);break;case"4i":this._gl.uniform4i(t,e[0],e[1],e[2],e[3]);break;case"matrix2fv":this._gl.uniformMatrix2fv(t,!1,e);break;case"matrix3fv":this._gl.uniformMatrix3fv(t,!1,e);break;case"matrix4fv":this._gl.uniformMatrix4fv(t,!1,e);break;case"2fv":this._gl.uniform2fv(t,e);break;case"3fv":this._gl.uniform3fv(t,e);break;case"4fv":this._gl.uniform4fv(t,e);break;default:throw`Invalid value ${e} for type ${this._type}`}else switch(this._type){case"1f":this._gl.uniform1f(t,e);break;case"1i":this._gl.uniform1i(t,e);break;default:throw`Invalid value ${e} for type ${this._type}`}}getLocation(){if(!this._program)throw"Could not get location of uniform. No program attached.";return this._gl.getUniformLocation(this._program.webGLProgram,this._name)}}const de=new Float32Array([0,0,0,0,150,0,30,0,0,0,150,0,30,150,0,30,0,0,30,0,0,30,30,0,100,0,0,30,30,0,100,30,0,100,0,0,30,60,0,30,90,0,67,60,0,30,90,0,67,90,0,67,60,0,0,0,30,30,0,30,0,150,30,0,150,30,30,0,30,30,150,30,30,0,30,100,0,30,30,30,30,30,30,30,100,0,30,100,30,30,30,60,30,67,60,30,30,90,30,30,90,30,67,60,30,67,90,30,0,0,0,100,0,0,100,0,30,0,0,0,100,0,30,0,0,30,100,0,0,100,30,0,100,30,30,100,0,0,100,30,30,100,0,30,30,30,0,30,30,30,100,30,30,30,30,0,100,30,30,100,30,0,30,30,0,30,60,30,30,30,30,30,30,0,30,60,0,30,60,30,30,60,0,67,60,30,30,60,30,30,60,0,67,60,0,67,60,30,67,60,0,67,90,30,67,60,30,67,60,0,67,90,0,67,90,30,30,90,0,30,90,30,67,90,30,30,90,0,67,90,30,67,90,0,30,90,0,30,150,30,30,90,30,30,90,0,30,150,0,30,150,30,0,150,0,0,150,30,30,150,30,0,150,0,30,150,30,30,150,0,0,0,0,0,0,30,0,150,30,0,0,0,0,150,30,0,150,0]),wt=new Uint8Array([200,70,120,200,70,120,200,70,120,200,70,120,200,70,120,200,70,120,200,70,120,200,70,120,200,70,120,200,70,120,200,70,120,200,70,120,200,70,120,200,70,120,200,70,120,200,70,120,200,70,120,200,70,120,80,70,200,80,70,200,80,70,200,80,70,200,80,70,200,80,70,200,80,70,200,80,70,200,80,70,200,80,70,200,80,70,200,80,70,200,80,70,200,80,70,200,80,70,200,80,70,200,80,70,200,80,70,200,70,200,210,70,200,210,70,200,210,70,200,210,70,200,210,70,200,210,200,200,70,200,200,70,200,200,70,200,200,70,200,200,70,200,200,70,210,100,70,210,100,70,210,100,70,210,100,70,210,100,70,210,100,70,210,160,70,210,160,70,210,160,70,210,160,70,210,160,70,210,160,70,70,180,210,70,180,210,70,180,210,70,180,210,70,180,210,70,180,210,100,70,210,100,70,210,100,70,210,100,70,210,100,70,210,100,70,210,76,210,100,76,210,100,76,210,100,76,210,100,76,210,100,76,210,100,140,210,80,140,210,80,140,210,80,140,210,80,140,210,80,140,210,80,90,130,110,90,130,110,90,130,110,90,130,110,90,130,110,90,130,110,160,160,220,160,160,220,160,160,220,160,160,220,160,160,220,160,160,220]),bt=new Float32Array([0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0]);function Oe(n){return n*(Math.PI/180)}class Ve{constructor(e){$(this,"_values");this._values=this.create(e)}static substract(e,t){if(e.is1D(e)&&t.is1D(t))return new Pn([e._values[0]-t._values[0]]);if(e.is2D(e)&&t.is2D(t))return new kn([e._values[0]-t._values[0],e._values[1]-t._values[1]]);if(e.is3D(e)&&t.is3D(t))return new le([e._values[0]-t._values[0],e._values[1]-t._values[1],e._values[2]-t._values[2]]);if(e.is4D(e)&&t.is4D(t))return new ut([e._values[0]-t._values[0],e._values[1]-t._values[1],e._values[2]-t._values[2],e._values[3]-t._values[3]]);throw new Error("Vectors must have the same dimension to subtract.")}static dot(e,t){return e._values.reduce((s,o,i)=>s+o*t._values[i],0)}get values(){return this._values}set values(e){this._values=e}is1D(e){return e.values.length===1}is2D(e){return e.values.length===2}is3D(e){return e.values.length===3}is4D(e){return e.values.length===4}normalize(){const e=Math.sqrt(this._values.reduce((s,o)=>s+o*o,0)),t=this._values.map(s=>s/e);return this._values=t,this}toNormalized(){const e=Math.sqrt(this._values.reduce((o,i)=>o+i*i,0)),t=this._values.map(o=>o/e),s=this.constructor;return new s(t)}}class Pn extends Ve{create(e){return e||[1]}}class kn extends Ve{create(e){return e||[1,1]}}class le extends Ve{create(e){return e||[1,1,1]}static cross(e,t){const s=[e._values[1]*t._values[2]-e._values[2]*t._values[1],e._values[2]*t._values[0]-e._values[0]*t._values[2],e._values[0]*t._values[1]-e._values[1]*t._values[0]];return new le(s)}}class ut extends Ve{create(e){return e||[1,1,1,1]}}class $n{constructor(e){$(this,"_values");this._values=this.create(e)}transpose(){const e=Math.sqrt(this._values.length),t=Array.from({length:this._values.length},(s,o)=>{const i=Math.floor(o/e),a=o%e;return this._values[a*e+i]});return this._values=t,this}get values(){return this._values}set values(e){this._values=e}}const T=class T extends $n{static multiply(e,t){const[s,o,i,a,r,l,u,p,d,y,f,m,S,w,R,q]=e.values,[A,b,_,v,L,E,D,j,Y,X,M,Q,G,W,ee,z]=t.values;return new T([s*A+o*L+i*Y+a*G,s*b+o*E+i*X+a*W,s*_+o*D+i*M+a*ee,s*v+o*j+i*Q+a*z,r*A+l*L+u*Y+p*G,r*b+l*E+u*X+p*W,r*_+l*D+u*M+p*ee,r*v+l*j+u*Q+p*z,d*A+y*L+f*Y+m*G,d*b+y*E+f*X+m*W,d*_+y*D+f*M+m*ee,d*v+y*j+f*Q+m*z,S*A+w*L+R*Y+q*G,S*b+w*E+R*X+q*W,S*_+w*D+R*M+q*ee,S*v+w*j+R*Q+q*z])}static translation(e,t,s){return new T([1,0,0,0,0,1,0,0,0,0,1,0,e,t,s,1])}static xRotation(e){const t=Math.cos(e),s=Math.sin(e);return new T([1,0,0,0,0,t,s,0,0,-s,t,0,0,0,0,1])}static yRotation(e){const t=Math.cos(e),s=Math.sin(e);return new T([t,0,-s,0,0,1,0,0,s,0,t,0,0,0,0,1])}static zRotation(e){const t=Math.cos(e),s=Math.sin(e);return new T([t,s,0,0,-s,t,0,0,0,0,1,0,0,0,0,1])}static scaling(e,t,s){return new T([e,0,0,0,0,t,0,0,0,0,s,0,0,0,0,1])}static perspective(e,t,s,o){const i=Math.tan(Math.PI*.5-.5*e),a=1/(s-o);return new T([i/t,0,0,0,0,i,0,0,0,0,(s+o)*a,-1,0,0,s*o*a*2,0])}static orthographic(e,t,s,o,i,a){return new T([2/(t-e),0,0,0,0,2/(o-s),0,0,0,0,2/(i-a),0,(e+t)/(e-t),(s+o)/(s-o),(i+a)/(i-a),1])}static projection(e,t,s){return new T([2/e,0,0,0,0,-2/t,0,0,0,0,2/s,0,-1,1,0,1])}static lookAt(e,t,s=new le([0,1,0])){var o=Ve.substract(e,t).normalize(),i=le.cross(s,o).normalize(),a=le.cross(o,i).normalize();return new T([i.values[0],i.values[1],i.values[2],0,a.values[0],a.values[1],a.values[2],0,o.values[0],o.values[1],o.values[2],0,e.values[0],e.values[1],e.values[2],1])}create(e){return e||T.identity}translate(e,t,s){return T.multiply(this,T.translation(e,t,s))}rotateX(e){return T.multiply(this,T.xRotation(e))}rotateY(e){return T.multiply(this,T.yRotation(e))}rotateZ(e){return T.multiply(this,T.zRotation(e))}scale(e,t,s){return T.multiply(this,T.scaling(e,t,s))}invert(){const[e,t,s,o,i,a,r,l,u,p,d,y,f,m,S,w]=this.values,R=d*w,q=S*y,A=r*w,b=S*l,_=r*y,v=d*l,L=s*w,E=S*o,D=s*y,j=d*o,Y=s*l,X=r*o,M=u*m,Q=f*p,G=i*m,W=f*a,ee=i*p,z=u*a,me=e*m,se=f*t,ue=e*p,ge=u*t,x=e*a,Z=i*t,N=R*a+b*p+_*m-(q*a+A*p+v*m),K=q*t+L*p+j*m-(R*t+E*p+D*m),B=A*t+E*a+Y*m-(b*t+L*a+X*m),I=v*t+D*a+X*p-(_*t+j*a+Y*p),k=1/(e*N+i*K+u*B+f*I);return new T([k*N,k*K,k*B,k*I,k*(q*i+A*u+v*f-(R*i+b*u+_*f)),k*(R*e+E*u+D*f-(q*e+L*u+j*f)),k*(b*e+L*i+X*f-(A*e+E*i+Y*f)),k*(_*e+j*i+Y*u-(v*e+D*i+X*u)),k*(M*l+W*y+ee*w-(Q*l+G*y+z*w)),k*(Q*o+me*y+ge*w-(M*o+se*y+ue*w)),k*(G*o+se*l+x*w-(W*o+me*l+Z*w)),k*(z*o+ue*l+Z*y-(ee*o+ge*l+x*y)),k*(G*d+z*S+Q*r-(ee*S+M*r+W*d)),k*(ue*S+M*s+se*d-(me*d+ge*S+Q*s)),k*(me*r+Z*S+W*s-(x*S+G*s+se*r)),k*(x*d+ee*s+ge*r-(ue*r+Z*d+z*s))])}transformVector(e){const t=this.values,s=[];for(let o=0;o<4;++o){s[o]=0;for(let i=0;i<4;++i)s[o]+=e.values[i]*t[i*4+o]}return new ut(s)}};$(T,"identity",[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);let fe=T;function Cn(n){let e,t,s,o,i,a,r,l,u,p,d,y,f,m,S,w,R,q,A,b,_,v,L,E,D,j,Y,X,M,Q,G,W,ee,z,me,se,ue,ge,x,Z,N,K,B,I,k,Me,re,ze,te,Ee,Ke,oe,Fe,be,Ae,Ie,ie,Je,ct;return{c(){e=g("div"),t=g("canvas"),s=P(),o=g("div"),i=g("div"),a=g("span"),a.innerHTML='<span class=".label">Positon:</span>',r=P(),l=g("span"),u=g("span"),u.textContent="x",p=P(),d=g("input"),y=P(),f=g("span"),m=g("span"),m.textContent="y",S=P(),w=g("input"),R=P(),q=g("span"),A=g("span"),A.textContent="z",b=P(),_=g("input"),v=P(),L=g("div"),E=g("span"),E.innerHTML='<span class="label svelte-1pqx7i0">Scale:</span>',D=P(),j=g("span"),Y=g("span"),Y.textContent="x",X=P(),M=g("input"),Q=P(),G=g("span"),W=g("span"),W.textContent="y",ee=P(),z=g("input"),me=P(),se=g("span"),ue=g("span"),ue.textContent="z",ge=P(),x=g("input"),Z=P(),N=g("div"),K=g("span"),K.innerHTML='<span class="label svelte-1pqx7i0">Rotation:</span>',B=P(),I=g("span"),k=g("span"),k.textContent="x",Me=P(),re=g("input"),ze=P(),te=g("span"),Ee=g("span"),Ee.textContent="y",Ke=P(),oe=g("input"),Fe=P(),be=g("span"),Ae=g("span"),Ae.textContent="z",Ie=P(),ie=g("input"),c(t,"class","svelte-1pqx7i0"),c(a,"class","field svelte-1pqx7i0"),c(u,"class","label svelte-1pqx7i0"),c(d,"type","number"),c(d,"class","svelte-1pqx7i0"),c(l,"class","field svelte-1pqx7i0"),c(m,"class","label svelte-1pqx7i0"),c(w,"type","number"),c(w,"min",-1e3),c(w,"max",1e3),c(w,"class","svelte-1pqx7i0"),c(f,"class","field svelte-1pqx7i0"),c(A,"class","label svelte-1pqx7i0"),c(_,"type","number"),c(_,"min",-1e3),c(_,"max",1e3),c(_,"class","svelte-1pqx7i0"),c(q,"class","field svelte-1pqx7i0"),c(i,"class","control svelte-1pqx7i0"),c(E,"class","field svelte-1pqx7i0"),c(Y,"class","label svelte-1pqx7i0"),c(M,"type","number"),c(M,"min",.1),c(M,"max",3),c(M,"step",.1),c(M,"class","svelte-1pqx7i0"),c(j,"class","field svelte-1pqx7i0"),c(W,"class","label svelte-1pqx7i0"),c(z,"type","number"),c(z,"min",.1),c(z,"max",3),c(z,"step",.1),c(z,"class","svelte-1pqx7i0"),c(G,"class","field svelte-1pqx7i0"),c(ue,"class","label svelte-1pqx7i0"),c(x,"type","number"),c(x,"min",.1),c(x,"max",3),c(x,"step",.1),c(x,"class","svelte-1pqx7i0"),c(se,"class","field svelte-1pqx7i0"),c(L,"class","control svelte-1pqx7i0"),c(K,"class","field svelte-1pqx7i0"),c(k,"class","label svelte-1pqx7i0"),c(re,"type","number"),c(re,"step",15),c(re,"min",-360),c(re,"max",360),c(re,"class","svelte-1pqx7i0"),c(I,"class","field svelte-1pqx7i0"),c(Ee,"class","label svelte-1pqx7i0"),c(oe,"type","number"),c(oe,"step",15),c(oe,"min",-360),c(oe,"max",360),c(oe,"class","svelte-1pqx7i0"),c(te,"class","field svelte-1pqx7i0"),c(Ae,"class","label svelte-1pqx7i0"),c(ie,"type","number"),c(ie,"step",15),c(ie,"min",-360),c(ie,"max",360),c(ie,"class","svelte-1pqx7i0"),c(be,"class","field svelte-1pqx7i0"),c(N,"class","control svelte-1pqx7i0"),c(o,"class","controls svelte-1pqx7i0"),c(e,"class","engine svelte-1pqx7i0")},m(F,ce){H(F,e,ce),h(e,t),n[10](t),h(e,s),h(e,o),h(o,i),h(i,a),h(i,r),h(i,l),h(l,u),h(l,p),h(l,d),C(d,n[1]),h(i,y),h(i,f),h(f,m),h(f,S),h(f,w),C(w,n[2]),h(i,R),h(i,q),h(q,A),h(q,b),h(q,_),C(_,n[3]),h(o,v),h(o,L),h(L,E),h(L,D),h(L,j),h(j,Y),h(j,X),h(j,M),C(M,n[7]),h(L,Q),h(L,G),h(G,W),h(G,ee),h(G,z),C(z,n[8]),h(L,me),h(L,se),h(se,ue),h(se,ge),h(se,x),C(x,n[9]),h(o,Z),h(o,N),h(N,K),h(N,B),h(N,I),h(I,k),h(I,Me),h(I,re),C(re,n[4]),h(N,ze),h(N,te),h(te,Ee),h(te,Ke),h(te,oe),C(oe,n[5]),h(N,Fe),h(N,be),h(be,Ae),h(be,Ie),h(be,ie),C(ie,n[6]),Je||(ct=[J(d,"input",n[11]),J(w,"input",n[12]),J(_,"input",n[13]),J(M,"input",n[14]),J(z,"input",n[15]),J(x,"input",n[16]),J(re,"input",n[17]),J(oe,"input",n[18]),J(ie,"input",n[19])],Je=!0)},p(F,ce){ce[0]&2&&V(d.value)!==F[1]&&C(d,F[1]),ce[0]&4&&V(w.value)!==F[2]&&C(w,F[2]),ce[0]&8&&V(_.value)!==F[3]&&C(_,F[3]),ce[0]&128&&V(M.value)!==F[7]&&C(M,F[7]),ce[0]&256&&V(z.value)!==F[8]&&C(z,F[8]),ce[0]&512&&V(x.value)!==F[9]&&C(x,F[9]),ce[0]&16&&V(re.value)!==F[4]&&C(re,F[4]),ce[0]&32&&V(oe.value)!==F[5]&&C(oe,F[5]),ce[0]&64&&V(ie.value)!==F[6]&&C(ie,F[6])},i:O,o:O,d(F){F&&U(e),n[10](null),Je=!1,ve(ct)}}}function Tn(n,e,t){let s,o=0,i=0,a=0,r=0,l=0,u=0,p=1,d=1,y=1,f,m,S,w,R,q,A,b=!1,_=[0,0],v="rotate",L=[0,0,0],E=[0,0,0];const D=x=>{const Z=x instanceof TouchEvent;b=!0,Z?(v="rotate",_=[x.touches[0].clientX,x.touches[0].clientY]):(v=x.button===0?"rotate":"scale",_=[x.clientX,x.clientY]),L=[r,l,u],E=[p,d,y]},j=()=>{b=!1,v="rotate"},Y=x=>{const Z=x instanceof TouchEvent;if(!b)return;const N=Z?x.touches[0].clientX:x.clientX,K=Z?x.touches[0].clientY:x.clientY,B=_[0]-N,I=_[1]-K;if(v==="rotate"&&(t(4,r=L[0]-I),t(5,l=L[1]-B)),v==="scale"){const k=s.clientHeight/4;t(7,p=E[0]+I/k),t(8,d=E[1]+I/k),t(9,y=E[2]+I/k)}};Lt(()=>{const x=new En(s);if(!x.gl)throw"Could not get gl from Engine.";s.addEventListener("contextmenu",k=>k.preventDefault()),s.addEventListener("mousedown",D),s.addEventListener("touchstart",D),s.addEventListener("mouseup",j),s.addEventListener("touchend",j),s.addEventListener("mousemove",Y),s.addEventListener("touchmove",Y),f=x.gl,A=new An(f);const Z=new Tt({gl:f,source:xn}),N=new Rt({gl:f,source:Ln});A.attachShader(Z),A.attachShader(N),x.linkProgram(A),f.useProgram(A.webGLProgram),w=new tt({gl:f,name:"a_position",program:A,createVao:!0,pointerProperties:{size:3,type:f.FLOAT}});var K=fe.translation(-50,-75,-15);K=K.rotateX(Math.PI);for(var B=0;B<de.length;B+=3){var I=K.transformVector(new ut([de[B+0],de[B+1],de[B+2],1]));de[B+0]=I.values[0],de[B+1]=I.values[1],de[B+2]=I.values[2]}w.setBufferData(de),R=new tt({gl:f,name:"a_color",program:A,pointerProperties:{size:3,normalize:!0,type:f.UNSIGNED_BYTE}}),R.setBufferData(wt),q=new tt({gl:f,name:"a_normal",program:A,pointerProperties:{size:3,type:f.FLOAT}}),q.setBufferData(bt),f.bindVertexArray(w.vao),new ye({gl:f,type:"3fv",name:"u_lightColor",program:A,value:new le([1,.6,.6]).normalize().values}),new ye({gl:f,type:"3fv",name:"u_specularColor",program:A,value:new le([1,.2,.2]).normalize().values}),new ye({gl:f,type:"1f",name:"u_shininess",program:A,value:50}),new ye({gl:f,type:"3fv",name:"u_viewWorldPosition",program:A,value:new le([0,0,400]).values}),new ye({gl:f,type:"3fv",name:"u_lightWorldPosition",program:A,value:new le([20,30,50]).values}),new ye({gl:f,type:"matrix4fv",name:"u_world",program:A,value:fe.identity}),m=new ye({gl:f,type:"matrix4fv",name:"u_worldInverseTranspose",program:A,value:new fe().transpose().invert().values}),S=new ye({gl:f,type:"matrix4fv",name:"u_worldViewProjection",program:A,value:fe.identity}),X()});function X(x){if(!f)return;(s.width!==s.clientWidth||s.height!==s.clientHeight)&&(t(0,s.width=s.clientWidth,s),t(0,s.height=s.clientHeight,s),f.viewport(0,0,f.canvas.width,f.canvas.height));let N=s.width,K=s.height;f.clearColor(0,0,0,0),f.clear(f.COLOR_BUFFER_BIT|f.DEPTH_BUFFER_BIT),f.enable(f.CULL_FACE),f.enable(f.DEPTH_TEST);const B=N/K,I=1,k=1e4,Me=Oe(60),re=fe.perspective(Me,B,I,k),ze=new le([0,0,400]);let te=new fe;te=te.rotateY(Oe(l)).rotateX(Oe(r)).rotateZ(Oe(u)).translate(o,i,a);const Ee=new le([te.values[12],te.values[13],te.values[14]]),oe=fe.lookAt(ze,Ee).invert();let Fe=fe.multiply(oe,re);const be=fe.multiply(te,Fe);m.value=te.values,S.value=be.values,w.setBufferData(de),q.setBufferData(bt),R.setBufferData(wt);const Ae=f.TRIANGLES,Ie=0,ie=de.length/3;f.drawArrays(Ae,Ie,ie),requestAnimationFrame(X)}function M(x){Ue[x?"unshift":"push"](()=>{s=x,t(0,s)})}function Q(){o=V(this.value),t(1,o)}function G(){i=V(this.value),t(2,i)}function W(){a=V(this.value),t(3,a)}function ee(){p=V(this.value),t(7,p)}function z(){d=V(this.value),t(8,d)}function me(){y=V(this.value),t(9,y)}function se(){r=V(this.value),t(4,r)}function ue(){l=V(this.value),t(5,l)}function ge(){u=V(this.value),t(6,u)}return[s,o,i,a,r,l,u,p,d,y,M,Q,G,W,ee,z,me,se,ue,ge]}class Rn extends xe{constructor(e){super(),Se(this,e,Tn,Cn,we,{},null,[-1,-1])}}function qn(n){let e;return{c(){e=Te("Engine")},m(t,s){H(t,e,s)},d(t){t&&U(e)}}}function Dn(n){let e;return{c(){e=Te("Home")},m(t,s){H(t,e,s)},d(t){t&&U(e)}}}function Vn(n){let e;return{c(){e=Te("Shader Art")},m(t,s){H(t,e,s)},d(t){t&&U(e)}}}function Mn(n){let e,t,s,o,i,a,r,l,u,p,d,y;return o=new et({props:{href:"/engine",$$slots:{default:[qn]},$$scope:{ctx:n}}}),a=new et({props:{href:"/home",$$slots:{default:[Dn]},$$scope:{ctx:n}}}),l=new et({props:{href:"/shaderart",$$slots:{default:[Vn]},$$scope:{ctx:n}}}),d=new an({props:{routes:n[0]}}),{c(){e=g("div"),t=g("header"),s=g("nav"),_e(o.$$.fragment),i=P(),_e(a.$$.fragment),r=P(),_e(l.$$.fragment),u=P(),p=g("main"),_e(d.$$.fragment),c(s,"class","svelte-ucdmxf"),c(t,"class","svelte-ucdmxf"),c(p,"class","svelte-ucdmxf"),c(e,"class","content svelte-ucdmxf")},m(f,m){H(f,e,m),h(e,t),h(t,s),he(o,s,null),h(s,i),he(a,s,null),h(s,r),he(l,s,null),h(e,u),h(e,p),he(d,p,null),y=!0},p(f,[m]){const S={};m&2&&(S.$$scope={dirty:m,ctx:f}),o.$set(S);const w={};m&2&&(w.$$scope={dirty:m,ctx:f}),a.$set(w);const R={};m&2&&(R.$$scope={dirty:m,ctx:f}),l.$set(R)},i(f){y||(ne(o.$$.fragment,f),ne(a.$$.fragment,f),ne(l.$$.fragment,f),ne(d.$$.fragment,f),y=!0)},o(f){ae(o.$$.fragment,f),ae(a.$$.fragment,f),ae(l.$$.fragment,f),ae(d.$$.fragment,f),y=!1},d(f){f&&U(e),pe(o),pe(a),pe(l),pe(d)}}}function zn(n){return[{"/":un,"/shaderart":bn,"/engine":Rn}]}class Fn extends xe{constructor(e){super(),Se(this,e,zn,Mn,we,{})}}new Fn({target:document.getElementById("app")});
//# sourceMappingURL=index-BsnnZkvU.js.map
