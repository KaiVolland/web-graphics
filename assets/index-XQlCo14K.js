var ce=Object.defineProperty;var fe=(e,t,n)=>t in e?ce(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var A=(e,t,n)=>(fe(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();function T(){}function Ft(e,t){for(const n in t)e[n]=t[n];return e}function Qt(e){return e()}function Ut(){return Object.create(null)}function z(e){e.forEach(Qt)}function $t(e){return typeof e=="function"}function X(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function he(e){return Object.keys(e).length===0}function Zt(e,...t){if(e==null){for(const r of t)r(void 0);return T}const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function ht(e,t,n){e.$$.on_destroy.push(Zt(t,n))}function de(e,t,n,r){if(e){const o=te(e,t,n,r);return e[0](o)}}function te(e,t,n,r){return e[1]&&r?Ft(n.ctx.slice(),e[1](r(t))):n.ctx}function _e(e,t,n,r){if(e[2]&&r){const o=e[2](r(n));if(t.dirty===void 0)return o;if(typeof o=="object"){const a=[],l=Math.max(t.dirty.length,o.length);for(let i=0;i<l;i+=1)a[i]=t.dirty[i]|o[i];return a}return t.dirty|o}return t.dirty}function ge(e,t,n,r,o,a){if(o){const l=te(t,n,r,a);e.p(l,o)}}function pe(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let r=0;r<n;r++)t[r]=-1;return t}return-1}function me(e){return e&&$t(e.destroy)?e.destroy:T}function _(e,t){e.appendChild(t)}function E(e,t,n){e.insertBefore(t,n||null)}function $(e){e.parentNode&&e.parentNode.removeChild(e)}function y(e){return document.createElement(e)}function Q(e){return document.createTextNode(e)}function k(){return Q(" ")}function xt(){return Q("")}function I(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function f(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function j(e){return e===""?null:+e}function be(e){return Array.from(e.childNodes)}function R(e,t){e.value=t??""}function Mt(e,t,n){e.classList.toggle(t,!!n)}function ve(e,t,{bubbles:n=!1,cancelable:r=!1}={}){return new CustomEvent(e,{detail:t,bubbles:n,cancelable:r})}function vt(e,t){return new e(t)}let dt;function ft(e){dt=e}function Lt(){if(!dt)throw new Error("Function called outside component initialization");return dt}function ee(e){Lt().$$.on_mount.push(e)}function we(e){Lt().$$.after_update.push(e)}function ye(e){Lt().$$.on_destroy.push(e)}function Se(){const e=Lt();return(t,n,{cancelable:r=!1}={})=>{const o=e.$$.callbacks[t];if(o){const a=ve(t,n,{cancelable:r});return o.slice().forEach(l=>{l.call(e,a)}),!a.defaultPrevented}return!0}}function Vt(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach(r=>r.call(this,t))}const lt=[],wt=[];let ut=[];const Ht=[],ne=Promise.resolve();let Pt=!1;function re(){Pt||(Pt=!0,ne.then(ie))}function $e(){return re(),ne}function Rt(e){ut.push(e)}const At=new Set;let st=0;function ie(){if(st!==0)return;const e=dt;do{try{for(;st<lt.length;){const t=lt[st];st++,ft(t),Le(t.$$)}}catch(t){throw lt.length=0,st=0,t}for(ft(null),lt.length=0,st=0;wt.length;)wt.pop()();for(let t=0;t<ut.length;t+=1){const n=ut[t];At.has(n)||(At.add(n),n())}ut.length=0}while(lt.length);for(;Ht.length;)Ht.pop()();Pt=!1,At.clear(),ft(e)}function Le(e){if(e.fragment!==null){e.update(),z(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(Rt)}}function ke(e){const t=[],n=[];ut.forEach(r=>e.indexOf(r)===-1?t.push(r):n.push(r)),n.forEach(r=>r()),ut=t}const pt=new Set;let et;function jt(){et={r:0,c:[],p:et}}function Gt(){et.r||z(et.c),et=et.p}function D(e,t){e&&e.i&&(pt.delete(e),e.i(t))}function B(e,t,n,r){if(e&&e.o){if(pt.has(e))return;pt.add(e),et.c.push(()=>{pt.delete(e),r&&(n&&e.d(1),r())}),e.o(t)}else r&&r()}function yt(e,t){const n={},r={},o={$$scope:1};let a=e.length;for(;a--;){const l=e[a],i=t[a];if(i){for(const s in l)s in i||(r[s]=1);for(const s in i)o[s]||(n[s]=i[s],o[s]=1);e[a]=i}else for(const s in l)o[s]=1}for(const l in r)l in n||(n[l]=void 0);return n}function St(e){return typeof e=="object"&&e!==null?e:{}}function q(e){e&&e.c()}function M(e,t,n){const{fragment:r,after_update:o}=e.$$;r&&r.m(t,n),Rt(()=>{const a=e.$$.on_mount.map(Qt).filter($t);e.$$.on_destroy?e.$$.on_destroy.push(...a):z(a),e.$$.on_mount=[]}),o.forEach(Rt)}function V(e,t){const n=e.$$;n.fragment!==null&&(ke(n.after_update),z(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Ee(e,t){e.$$.dirty[0]===-1&&(lt.push(e),re(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function Z(e,t,n,r,o,a,l=null,i=[-1]){const s=dt;ft(e);const u=e.$$={fragment:null,ctx:[],props:a,update:T,not_equal:o,bound:Ut(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(s?s.$$.context:[])),callbacks:Ut(),dirty:i,skip_bound:!1,root:t.target||s.$$.root};l&&l(u.root);let c=!1;if(u.ctx=n?n(e,t.props||{},(p,v,...d)=>{const h=d.length?d[0]:v;return u.ctx&&o(u.ctx[p],u.ctx[p]=h)&&(!u.skip_bound&&u.bound[p]&&u.bound[p](h),c&&Ee(e,p)),v}):[],u.update(),c=!0,z(u.before_update),u.fragment=r?r(u.ctx):!1,t.target){if(t.hydrate){const p=be(t.target);u.fragment&&u.fragment.l(p),p.forEach($)}else u.fragment&&u.fragment.c();t.intro&&D(e.$$.fragment),M(e,t.target,t.anchor),ie()}ft(s)}class tt{constructor(){A(this,"$$");A(this,"$$set")}$destroy(){V(this,1),this.$destroy=T}$on(t,n){if(!$t(n))return T;const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(n),()=>{const o=r.indexOf(n);o!==-1&&r.splice(o,1)}}$set(t){this.$$set&&!he(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const Ae="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Ae);const at=[];function oe(e,t){return{subscribe:kt(e,t).subscribe}}function kt(e,t=T){let n;const r=new Set;function o(i){if(X(e,i)&&(e=i,n)){const s=!at.length;for(const u of r)u[1](),at.push(u,e);if(s){for(let u=0;u<at.length;u+=2)at[u][0](at[u+1]);at.length=0}}}function a(i){o(i(e))}function l(i,s=T){const u=[i,s];return r.add(u),r.size===1&&(n=t(o,a)||T),i(e),()=>{r.delete(u),r.size===0&&n&&(n(),n=null)}}return{set:o,update:a,subscribe:l}}function se(e,t,n){const r=!Array.isArray(e),o=r?[e]:e;if(!o.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const a=t.length<2;return oe(n,(l,i)=>{let s=!1;const u=[];let c=0,p=T;const v=()=>{if(c)return;p();const h=t(r?u[0]:u,l,i);a?l(h):p=$t(h)?h:T},d=o.map((h,m)=>Zt(h,L=>{u[m]=L,c&=~(1<<m),s&&v()},()=>{c|=1<<m}));return s=!0,v(),function(){z(d),p(),s=!1}})}function Ce(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var n,r,o,a,l=[],i="",s=e.split("/");for(s[0]||s.shift();o=s.shift();)n=o[0],n==="*"?(l.push("wild"),i+="/(.*)"):n===":"?(r=o.indexOf("?",1),a=o.indexOf(".",1),l.push(o.substring(1,~r?r:~a?a:o.length)),i+=~r&&!~a?"(?:/([^/]+?))?":"/([^/]+?)",~a&&(i+=(~r?"?":"")+"\\"+o.substring(a))):i+="/"+o;return{keys:l,pattern:new RegExp("^"+i+(t?"(?=$|/)":"/?$"),"i")}}function Pe(e){let t,n,r;const o=[e[2]];var a=e[0];function l(i,s){let u={};if(s!==void 0&&s&4)u=yt(o,[St(i[2])]);else for(let c=0;c<o.length;c+=1)u=Ft(u,o[c]);return{props:u}}return a&&(t=vt(a,l(e)),t.$on("routeEvent",e[7])),{c(){t&&q(t.$$.fragment),n=xt()},m(i,s){t&&M(t,i,s),E(i,n,s),r=!0},p(i,s){if(s&1&&a!==(a=i[0])){if(t){jt();const u=t;B(u.$$.fragment,1,0,()=>{V(u,1)}),Gt()}a?(t=vt(a,l(i,s)),t.$on("routeEvent",i[7]),q(t.$$.fragment),D(t.$$.fragment,1),M(t,n.parentNode,n)):t=null}else if(a){const u=s&4?yt(o,[St(i[2])]):{};t.$set(u)}},i(i){r||(t&&D(t.$$.fragment,i),r=!0)},o(i){t&&B(t.$$.fragment,i),r=!1},d(i){i&&$(n),t&&V(t,i)}}}function Re(e){let t,n,r;const o=[{params:e[1]},e[2]];var a=e[0];function l(i,s){let u={};if(s!==void 0&&s&6)u=yt(o,[s&2&&{params:i[1]},s&4&&St(i[2])]);else for(let c=0;c<o.length;c+=1)u=Ft(u,o[c]);return{props:u}}return a&&(t=vt(a,l(e)),t.$on("routeEvent",e[6])),{c(){t&&q(t.$$.fragment),n=xt()},m(i,s){t&&M(t,i,s),E(i,n,s),r=!0},p(i,s){if(s&1&&a!==(a=i[0])){if(t){jt();const u=t;B(u.$$.fragment,1,0,()=>{V(u,1)}),Gt()}a?(t=vt(a,l(i,s)),t.$on("routeEvent",i[6]),q(t.$$.fragment),D(t.$$.fragment,1),M(t,n.parentNode,n)):t=null}else if(a){const u=s&6?yt(o,[s&2&&{params:i[1]},s&4&&St(i[2])]):{};t.$set(u)}},i(i){r||(t&&D(t.$$.fragment,i),r=!0)},o(i){t&&B(t.$$.fragment,i),r=!1},d(i){i&&$(n),t&&V(t,i)}}}function Te(e){let t,n,r,o;const a=[Re,Pe],l=[];function i(s,u){return s[1]?0:1}return t=i(e),n=l[t]=a[t](e),{c(){n.c(),r=xt()},m(s,u){l[t].m(s,u),E(s,r,u),o=!0},p(s,[u]){let c=t;t=i(s),t===c?l[t].p(s,u):(jt(),B(l[c],1,1,()=>{l[c]=null}),Gt(),n=l[t],n?n.p(s,u):(n=l[t]=a[t](s),n.c()),D(n,1),n.m(r.parentNode,r))},i(s){o||(D(n),o=!0)},o(s){B(n),o=!1},d(s){s&&$(r),l[t].d(s)}}}function Yt(){const e=window.location.href.indexOf("#/");let t=e>-1?window.location.href.substr(e+1):"/";const n=t.indexOf("?");let r="";return n>-1&&(r=t.substr(n+1),t=t.substr(0,n)),{location:t,querystring:r}}const Ot=oe(null,function(t){t(Yt());const n=()=>{t(Yt())};return window.addEventListener("hashchange",n,!1),function(){window.removeEventListener("hashchange",n,!1)}}),Fe=se(Ot,e=>e.location);se(Ot,e=>e.querystring);const qt=kt(void 0);function xe(e,t){if(t=Xt(t),!e||!e.tagName||e.tagName.toLowerCase()!="a")throw Error('Action "link" can only be used with <a> tags');return zt(e,t),{update(n){n=Xt(n),zt(e,n)}}}function je(e){e?window.scrollTo(e.__svelte_spa_router_scrollX,e.__svelte_spa_router_scrollY):window.scrollTo(0,0)}function zt(e,t){let n=t.href||e.getAttribute("href");if(n&&n.charAt(0)=="/")n="#"+n;else if(!n||n.length<2||n.slice(0,2)!="#/")throw Error('Invalid value for "href" attribute: '+n);e.setAttribute("href",n),e.addEventListener("click",r=>{r.preventDefault(),t.disabled||Ge(r.currentTarget.getAttribute("href"))})}function Xt(e){return e&&typeof e=="string"?{href:e}:e||{}}function Ge(e){history.replaceState({...history.state,__svelte_spa_router_scrollX:window.scrollX,__svelte_spa_router_scrollY:window.scrollY},void 0),window.location.hash=e}function Oe(e,t,n){let{routes:r={}}=t,{prefix:o=""}=t,{restoreScrollState:a=!1}=t;class l{constructor(b,w){if(!w||typeof w!="function"&&(typeof w!="object"||w._sveltesparouter!==!0))throw Error("Invalid component object");if(!b||typeof b=="string"&&(b.length<1||b.charAt(0)!="/"&&b.charAt(0)!="*")||typeof b=="object"&&!(b instanceof RegExp))throw Error('Invalid value for "path" argument - strings must start with / or *');const{pattern:G,keys:S}=Ce(b);this.path=b,typeof w=="object"&&w._sveltesparouter===!0?(this.component=w.component,this.conditions=w.conditions||[],this.userData=w.userData,this.props=w.props||{}):(this.component=()=>Promise.resolve(w),this.conditions=[],this.props={}),this._pattern=G,this._keys=S}match(b){if(o){if(typeof o=="string")if(b.startsWith(o))b=b.substr(o.length)||"/";else return null;else if(o instanceof RegExp){const C=b.match(o);if(C&&C[0])b=b.substr(C[0].length)||"/";else return null}}const w=this._pattern.exec(b);if(w===null)return null;if(this._keys===!1)return w;const G={};let S=0;for(;S<this._keys.length;){try{G[this._keys[S]]=decodeURIComponent(w[S+1]||"")||null}catch{G[this._keys[S]]=null}S++}return G}async checkConditions(b){for(let w=0;w<this.conditions.length;w++)if(!await this.conditions[w](b))return!1;return!0}}const i=[];r instanceof Map?r.forEach((g,b)=>{i.push(new l(b,g))}):Object.keys(r).forEach(g=>{i.push(new l(g,r[g]))});let s=null,u=null,c={};const p=Se();async function v(g,b){await $e(),p(g,b)}let d=null,h=null;a&&(h=g=>{g.state&&(g.state.__svelte_spa_router_scrollY||g.state.__svelte_spa_router_scrollX)?d=g.state:d=null},window.addEventListener("popstate",h),we(()=>{je(d)}));let m=null,L=null;const x=Ot.subscribe(async g=>{m=g;let b=0;for(;b<i.length;){const w=i[b].match(g.location);if(!w){b++;continue}const G={route:i[b].path,location:g.location,querystring:g.querystring,userData:i[b].userData,params:w&&typeof w=="object"&&Object.keys(w).length?w:null};if(!await i[b].checkConditions(G)){n(0,s=null),L=null,v("conditionsFailed",G);return}v("routeLoading",Object.assign({},G));const S=i[b].component;if(L!=S){S.loading?(n(0,s=S.loading),L=S,n(1,u=S.loadingParams),n(2,c={}),v("routeLoaded",Object.assign({},G,{component:s,name:s.name,params:u}))):(n(0,s=null),L=null);const C=await S();if(g!=m)return;n(0,s=C&&C.default||C),L=S}w&&typeof w=="object"&&Object.keys(w).length?n(1,u=w):n(1,u=null),n(2,c=i[b].props),v("routeLoaded",Object.assign({},G,{component:s,name:s.name,params:u})).then(()=>{qt.set(u)});return}n(0,s=null),L=null,qt.set(void 0)});ye(()=>{x(),h&&window.removeEventListener("popstate",h)});function O(g){Vt.call(this,e,g)}function H(g){Vt.call(this,e,g)}return e.$$set=g=>{"routes"in g&&n(3,r=g.routes),"prefix"in g&&n(4,o=g.prefix),"restoreScrollState"in g&&n(5,a=g.restoreScrollState)},e.$$.update=()=>{e.$$.dirty&32&&(history.scrollRestoration=a?"manual":"auto")},[s,u,c,r,o,a,O,H]}class De extends tt{constructor(t){super(),Z(this,t,Oe,Te,X,{routes:3,prefix:4,restoreScrollState:5})}}function Ie(e){let t;return{c(){t=Q("Nothing to see here. Go to Engine or Shader Art.")},m(n,r){E(n,t,r)},p:T,i:T,o:T,d(n){n&&$(t)}}}class Be extends tt{constructor(t){super(),Z(this,t,null,Ie,X,{})}}const Ne=`#version 300 es

layout(location = 0) in vec2 aPosition;
out vec2 fragCoord;

void main()
{
    fragCoord = aPosition;
    gl_Position = vec4(aPosition, 0.0, 1.0);
}
`,Ue=`#version 300 es

precision mediump float;

in vec2 fragCoord;
uniform float uTime;
uniform float uDensity;

out vec4 fragColor;

//https://iquilezles.org/articles/palettes/
vec3 palette( float t ) {
    vec3 a = vec3(0.5, 0.5, 0.5);
    vec3 b = vec3(0.5, 0.5, 0.5);
    vec3 c = vec3(1.0, 1.0, 1.0);
    vec3 d = vec3(0.263,0.416,0.557);

    return a + b*cos( 6.28318*(c*t+d) );
}

void main()
{
    vec2 uv = fragCoord;
    float d = length(uv);

    vec2 uv0 = uv;
    vec3 finalColor = vec3(0.0);

    for (float i = 0.0; i < 4.0; i++) {
        uv = fract(uv * uDensity / 10.0) - 0.5;

        float d = length(uv) * exp(-length(uv0));

        vec3 col = palette(length(uv0) + i*.4 + uTime*.4);

        d = sin(d * 8. + uTime)/8.;
        d = abs(d);

        d = pow(0.01 / d, 1.2);

        finalColor += col * d;
    }

    fragColor = vec4(finalColor, 1.0);
}
`,mt=kt(15),bt=kt(1e3);function Me(e){let t,n,r,o,a;return{c(){t=y("input"),n=k(),r=y("input"),f(t,"type","number"),f(t,"min","100"),f(t,"max","3000"),f(r,"id",e[0]),f(r,"type","range"),f(r,"min","100"),f(r,"max","3000")},m(l,i){E(l,t,i),R(t,e[1]),E(l,n,i),E(l,r,i),R(r,e[1]),o||(a=[I(t,"input",e[2]),I(r,"change",e[3]),I(r,"input",e[3])],o=!0)},p(l,[i]){i&2&&j(t.value)!==l[1]&&R(t,l[1]),i&1&&f(r,"id",l[0]),i&2&&R(r,l[1])},i:T,o:T,d(l){l&&($(t),$(n),$(r)),o=!1,z(a)}}}function Ve(e,t,n){let r;ht(e,bt,i=>n(1,r=i));let{id:o="speed-slider"}=t;function a(){r=j(this.value),bt.set(r)}function l(){r=j(this.value),bt.set(r)}return e.$$set=i=>{"id"in i&&n(0,o=i.id)},[o,r,a,l]}class He extends tt{constructor(t){super(),Z(this,t,Ve,Me,X,{id:0})}}function Ye(e){let t,n,r,o,a;return{c(){t=y("input"),n=k(),r=y("input"),f(t,"type","number"),f(t,"min","1"),f(t,"max","30"),f(r,"id",e[0]),f(r,"type","range"),f(r,"min","1"),f(r,"max","30")},m(l,i){E(l,t,i),R(t,e[1]),E(l,n,i),E(l,r,i),R(r,e[1]),o||(a=[I(t,"input",e[2]),I(r,"change",e[3]),I(r,"input",e[3])],o=!0)},p(l,[i]){i&2&&j(t.value)!==l[1]&&R(t,l[1]),i&1&&f(r,"id",l[0]),i&2&&R(r,l[1])},i:T,o:T,d(l){l&&($(t),$(n),$(r)),o=!1,z(a)}}}function qe(e,t,n){let r;ht(e,mt,i=>n(1,r=i));let{id:o="density-slider"}=t;function a(){r=j(this.value),mt.set(r)}function l(){r=j(this.value),mt.set(r)}return e.$$set=i=>{"id"in i&&n(0,o=i.id)},[o,r,a,l]}class ze extends tt{constructor(t){super(),Z(this,t,qe,Ye,X,{id:0})}}function Xe(e){let t,n,r,o,a,l,i,s,u,c,p,v,d;return o=new He({props:{id:"speed-slider"}}),s=new ze({props:{id:"density-slider"}}),{c(){t=y("div"),n=y("label"),n.textContent="Speed",r=k(),q(o.$$.fragment),a=k(),l=y("label"),l.textContent="Density",i=k(),q(s.$$.fragment),u=k(),c=y("canvas"),p=k(),v=y("div"),v.innerHTML='<a href="https://www.youtube.com/watch?v=f4s1h2YETNY&amp;t=583s">Shader code by kishimisu</a>',f(n,"for","speed-slider"),f(l,"for","speed-slider"),f(t,"class","toolbar"),f(c,"width","1024"),f(c,"height","1024")},m(h,m){E(h,t,m),_(t,n),_(t,r),M(o,t,null),_(t,a),_(t,l),_(t,i),M(s,t,null),E(h,u,m),E(h,c,m),e[1](c),E(h,p,m),E(h,v,m),d=!0},p:T,i(h){d||(D(o.$$.fragment,h),D(s.$$.fragment,h),d=!0)},o(h){B(o.$$.fragment,h),B(s.$$.fragment,h),d=!1},d(h){h&&($(t),$(u),$(c),$(p),$(v)),V(o),V(s),e[1](null)}}}function We(e,t,n){let r,o;ht(e,bt,i=>n(2,r=i)),ht(e,mt,i=>n(3,o=i));let a;ee(()=>{const i=a.getContext("webgl2");if(!i)return;const s=i.createProgram();if(!s)return;const u=i.createShader(i.VERTEX_SHADER);if(!u)return;i.shaderSource(u,Ne),i.compileShader(u),i.attachShader(s,u);const c=i.createShader(i.FRAGMENT_SHADER);if(!c)return;i.shaderSource(c,Ue),i.compileShader(c),i.attachShader(s,c),i.linkProgram(s),i.getProgramParameter(s,i.LINK_STATUS)||(console.log(i.getShaderInfoLog(u)),console.log(i.getShaderInfoLog(c)));const p=new Float32Array([-1,-1,1,-1,-1,1,1,-1,-1,1,1,1]),v=i.getUniformLocation(s,"uResolution");i.uniform2f(v,1024,1024);const d=i.getUniformLocation(s,"uTime");i.uniform1f(d,0);const h=i.getUniformLocation(s,"uDensity");i.uniform1f(h,15);const m=i.createBuffer();i.bindBuffer(i.ARRAY_BUFFER,m),i.bufferData(i.ARRAY_BUFFER,p,i.STATIC_DRAW);const L=0;i.enableVertexAttribArray(L),i.vertexAttribPointer(L,2,i.FLOAT,!1,2*4,0);const x=(O=0)=>{i.clearColor(0,0,0,1),i.clear(i.COLOR_BUFFER_BIT),i.uniform1f(h,o),i.uniform1f(d,O/1e6*r),i.useProgram(s),i.drawArrays(i.TRIANGLES,0,6),requestAnimationFrame(x)};x()});function l(i){wt[i?"unshift":"push"](()=>{a=i,n(0,a)})}return[a,l]}class Ke extends tt{constructor(t){super(),Z(this,t,We,Xe,X,{})}}function Je(e){let t,n,r,o;const a=e[3].default,l=de(a,e,e[2],null);return{c(){t=y("a"),l&&l.c(),f(t,"href",e[0]),f(t,"class","svelte-1dzzut9"),Mt(t,"active",e[1]===e[0])},m(i,s){E(i,t,s),l&&l.m(t,null),n=!0,r||(o=me(xe.call(null,t)),r=!0)},p(i,[s]){l&&l.p&&(!n||s&4)&&ge(l,a,i,i[2],n?_e(a,i[2],s,null):pe(i[2]),null),(!n||s&1)&&f(t,"href",i[0]),(!n||s&3)&&Mt(t,"active",i[1]===i[0])},i(i){n||(D(l,i),n=!0)},o(i){B(l,i),n=!1},d(i){i&&$(t),l&&l.d(i),r=!1,o()}}}function Qe(e,t,n){let r;ht(e,Fe,i=>n(1,r=i));let{$$slots:o={},$$scope:a}=t,{href:l=""}=t;return e.$$set=i=>{"href"in i&&n(0,l=i.href),"$$scope"in i&&n(2,a=i.$$scope)},[l,r,a,o]}class Ct extends tt{constructor(t){super(),Z(this,t,Qe,Je,X,{href:0})}}const Ze=`#version 300 es

// an attribute is an input (in) to a vertex shader.
// It will receive data from a buffer
in vec2 a_position;

// Used to pass in the resolution of the canvas
uniform vec2 u_resolution;

uniform mat3 u_transformation;

void main() {
  // Multiply the position by the matrix.
  gl_Position = vec4((u_transformation * vec3(a_position, 1)).xy, 0, 1);
}
`,tn=`#version 300 es

precision highp float;

uniform vec4 u_color;

// we need to declare an output for the fragment shader
out vec4 outColor;

void main() {
  outColor = u_color;
}
`;class en{constructor(t){A(this,"_gl",null);A(this,"_canvas");A(this,"_width");A(this,"_height");this._width=t.width,this._height=t.height,this._canvas=t,this.updateGL(),this.updateViewPort()}set canvas(t){this._canvas=t,this.updateGL(),this.updateViewPort()}updateGL(){const t=this._canvas.getContext("webgl2");if(!t)throw`Could not get webgl2 context of canvas element: ${this._canvas}`;this._gl=t}updateViewPort(){if(!this._gl)throw"Could not update viewport.";this._gl.viewport(0,0,this._gl.canvas.width,this._gl.canvas.height)}linkProgram(t){if(!this._gl)throw"Could not link program.";this._gl.linkProgram(t.webGLProgram),this._gl.getProgramParameter(t.webGLProgram,this._gl.LINK_STATUS)||(t.vertexShader&&console.log(this._gl.getShaderInfoLog(t.vertexShader.webGLShader)),t.fragmentShader&&console.log(this._gl.getShaderInfoLog(t.fragmentShader.webGLShader)))}get width(){return this._width}get height(){return this._height}get gl(){return this._gl}}class ae{constructor({gl:t,source:n}){A(this,"_gl");A(this,"_webGLShader");A(this,"source",null);this._gl=t,this._webGLShader=this.create(),n&&(this._gl.shaderSource(this._webGLShader,n),this._gl.compileShader(this._webGLShader))}get webGLShader(){return this._webGLShader}}class le extends ae{constructor({gl:t,source:n}){super({gl:t,source:n})}create(){const t=this._gl.createShader(this._gl.VERTEX_SHADER);if(!t)throw"Could not create VertexShader";return t}updateSource(t){}}class ue extends ae{constructor({gl:t,source:n}){super({gl:t,source:n})}create(){const t=this._gl.createShader(this._gl.FRAGMENT_SHADER);if(!t)throw"Could not create FragmentShader";return t}updateSource(t){}}class nn{constructor(t){A(this,"_gl");A(this,"_webGLProgram");A(this,"_vertexShader",null);A(this,"_fragmentShader",null);this._gl=t;const n=t.createProgram();if(!n)throw"Could not create program";this._webGLProgram=n}attachShader(t){this._gl.attachShader(this._webGLProgram,t.webGLShader),t instanceof le&&(this._vertexShader=t),t instanceof ue&&(this._fragmentShader=t)}getUniformLocation(t){return this._gl.getUniformLocation(this._webGLProgram,t)}get webGLProgram(){return this._webGLProgram}get vertexShader(){return this._vertexShader}get fragmentShader(){return this._fragmentShader}}class rn{constructor({gl:t,name:n,program:r}){A(this,"_gl");A(this,"_buffer");A(this,"_name");A(this,"_program",null);A(this,"_vao",null);this._gl=t,this._name=n,r&&(this._program=r);const o=t.createBuffer();if(!o)throw"Could not create buffer";this._buffer=o}get name(){return this._name}get buffer(){return this._buffer}get vao(){if(!this._vao)throw"Could not get vao of attribute. Was the data set already?";return this._vao}getLocation(){if(!this._program)throw"Could not get location of attribute. No program attached.";return this._gl.getAttribLocation(this._program.webGLProgram,this._name)}setBufferData(t){this._vao=this._gl.createVertexArray(),this._gl.bindVertexArray(this._vao),this._gl.enableVertexAttribArray(this.getLocation()),this._gl.bindBuffer(this._gl.ARRAY_BUFFER,this._buffer),this._gl.bufferData(this._gl.ARRAY_BUFFER,t,this._gl.STATIC_DRAW);var n=2,r=this._gl.FLOAT,o=!1,a=0,l=0;this._gl.vertexAttribPointer(this.getLocation(),n,r,o,a,l)}}class Wt{constructor({gl:t,type:n,name:r,program:o,value:a}){A(this,"_gl");A(this,"_value",null);A(this,"_type");A(this,"_name");A(this,"_program",null);this._gl=t,this._name=r,this._type=n,o&&(this._program=o),a&&(this.value=a)}get value(){return this._value}set value(t){if(this._value=t,Array.isArray(t))switch(this._type){case"2i":case"2f":this._gl.uniform2f(this.getLocation(),t[0],t[1]);break;case"3f":case"3i":this._gl.uniform3f(this.getLocation(),t[0],t[1],t[2]);break;case"4f":case"4i":this._gl.uniform4f(this.getLocation(),t[0],t[1],t[2],t[3]);break;case"matrix2fv":this._gl.uniformMatrix2fv(this.getLocation(),!1,t);break;case"matrix3fv":this._gl.uniformMatrix3fv(this.getLocation(),!1,t);break;case"matrix4fv":this._gl.uniformMatrix4fv(this.getLocation(),!1,t);break;case"2fv":this._gl.uniform2fv(this.getLocation(),t);break;case"3fv":this._gl.uniform3fv(this.getLocation(),t);break;case"4fv":this._gl.uniform4fv(this.getLocation(),t);break;default:throw`Invalid value ${t} for type ${this._type}`}else switch(this._type){case"1f":case"1i":this._gl.uniform1i(this.getLocation(),t);break;default:throw`Invalid value ${t} for type ${this._type}`}}getLocation(){if(!this._program)throw"Could not get location of uniform. No program attached.";return this._gl.getUniformLocation(this._program.webGLProgram,this._name)}}const Kt=new Float32Array([0,0,30,0,0,150,0,150,30,0,30,150,30,0,100,0,30,30,30,30,100,0,100,30,30,60,67,60,30,90,30,90,67,60,67,90]),Tt=new Float32Array([0,0,100,0,0,100,0,100,100,0,100,100]);function on(e){return e*(Math.PI/180)}const U={identity:[1,0,0,0,1,0,0,0,1],projection:function(e,t){return[2/e,0,0,0,-2/t,0,-1,1,1]},multiply:function(e,t){var n=e[0],r=e[0*3+1],o=e[0*3+2],a=e[1*3+0],l=e[1*3+1],i=e[1*3+2],s=e[2*3+0],u=e[2*3+1],c=e[2*3+2],p=t[0*3+0],v=t[0*3+1],d=t[0*3+2],h=t[1*3+0],m=t[1*3+1],L=t[1*3+2],x=t[2*3+0],O=t[2*3+1],H=t[2*3+2];return[p*n+v*a+d*s,p*r+v*l+d*u,p*o+v*i+d*c,h*n+m*a+L*s,h*r+m*l+L*u,h*o+m*i+L*c,x*n+O*a+H*s,x*r+O*l+H*u,x*o+O*i+H*c]},translate:function(e,t,n){return U.multiply(e,U.translation(t,n))},rotate:function(e,t){return U.multiply(e,U.rotation(t))},scale:function(e,t,n){return U.multiply(e,U.scaling(t,n))},translation:function(e,t){return[1,0,0,0,1,0,e,t,1]},rotation:function(e){var t=Math.cos(e),n=Math.sin(e);return[t,-n,0,n,t,0,0,0,1]},scaling:function(e,t){return[e,0,0,0,t,0,0,0,1]}};function Jt(e,t=!1){e=e.replace(/^#/,"");const n=parseInt(e,16),r=n>>16&255,o=n>>8&255,a=n&255;return t?[r/256,o/256,a/256]:[r,o,a]}function sn(e){let t;return{c(){t=Q("Show cube")},m(n,r){E(n,t,r)},d(n){n&&$(t)}}}function an(e){let t;return{c(){t=Q('Show letter "F"')},m(n,r){E(n,t,r)},d(n){n&&$(t)}}}function ln(e){let t,n,r,o,a,l,i,s,u,c,p,v,d,h,m,L,x,O,H,g,b,w,G,S,C,Y,W,nt,F,rt,K,it,Dt,ot,It,_t,ct,Et,Bt;function Nt(P,N){return P[7]===Tt?an:sn}let gt=Nt(e),J=gt(e);return{c(){t=y("canvas"),n=k(),r=y("div"),o=y("div"),a=y("span"),a.textContent="Positon:",l=k(),i=y("span"),i.textContent="x",s=k(),u=y("input"),c=k(),p=y("span"),p.textContent="y",v=k(),d=y("input"),h=k(),m=y("div"),L=y("span"),L.textContent="Scale:",x=k(),O=y("span"),O.textContent="x",H=k(),g=y("input"),b=k(),w=y("span"),w.textContent="y",G=k(),S=y("input"),C=k(),Y=y("div"),W=y("span"),W.textContent="Rotation:",nt=k(),F=y("input"),rt=k(),K=y("div"),it=y("span"),it.textContent="Color:",Dt=k(),ot=y("input"),It=k(),_t=y("div"),ct=y("button"),J.c(),f(t,"width","512"),f(t,"height","512"),f(t,"class","svelte-1d1dei5"),f(a,"class",".label"),f(i,"class","label svelte-1d1dei5"),f(u,"type","number"),f(u,"min",0),f(u,"max",412),f(p,"class","label svelte-1d1dei5"),f(d,"type","number"),f(d,"min",0),f(d,"max",362),f(o,"class","control"),f(L,"class","label svelte-1d1dei5"),f(O,"class","label svelte-1d1dei5"),f(g,"type","number"),f(g,"min",.1),f(g,"max",3),f(g,"step",.1),f(w,"class","label svelte-1d1dei5"),f(S,"type","number"),f(S,"min",.1),f(S,"max",3),f(S,"step",.1),f(m,"class","control"),f(W,"class","label svelte-1d1dei5"),f(F,"type","number"),f(Y,"class","control"),f(it,"class","label svelte-1d1dei5"),f(ot,"type","color"),f(K,"class","control"),f(_t,"class","control"),f(r,"class","controls svelte-1d1dei5")},m(P,N){E(P,t,N),e[8](t),E(P,n,N),E(P,r,N),_(r,o),_(o,a),_(o,l),_(o,i),_(o,s),_(o,u),R(u,e[2]),_(o,c),_(o,p),_(o,v),_(o,d),R(d,e[3]),_(r,h),_(r,m),_(m,L),_(m,x),_(m,O),_(m,H),_(m,g),R(g,e[5]),_(m,b),_(m,w),_(m,G),_(m,S),R(S,e[6]),_(r,C),_(r,Y),_(Y,W),_(Y,nt),_(Y,F),R(F,e[4]),_(r,rt),_(r,K),_(K,it),_(K,Dt),_(K,ot),R(ot,e[1]),_(r,It),_(r,_t),_(_t,ct),J.m(ct,null),Et||(Bt=[I(u,"input",e[9]),I(d,"input",e[10]),I(g,"input",e[11]),I(S,"input",e[12]),I(F,"input",e[13]),I(ot,"input",e[14]),I(ct,"click",e[15])],Et=!0)},p(P,[N]){N&4&&j(u.value)!==P[2]&&R(u,P[2]),N&8&&j(d.value)!==P[3]&&R(d,P[3]),N&32&&j(g.value)!==P[5]&&R(g,P[5]),N&64&&j(S.value)!==P[6]&&R(S,P[6]),N&16&&j(F.value)!==P[4]&&R(F,P[4]),N&2&&R(ot,P[1]),gt!==(gt=Nt(P))&&(J.d(1),J=gt(P),J&&(J.c(),J.m(ct,null)))},i:T,o:T,d(P){P&&($(t),$(n),$(r)),e[8](null),J.d(),Et=!1,z(Bt)}}}function un(e,t,n){let r,o="#0E86E1",a=256,l=256,i=0,s=1,u=1,c,p,v=Kt,d,h;ee(()=>{const S=new en(r);if(!S.gl)throw"Could not get gl from Engine.";c=S.gl;const C=new nn(c),Y=new le({gl:c,source:Ze}),W=new ue({gl:c,source:tn});C.attachShader(Y),C.attachShader(W),S.linkProgram(C),c.useProgram(C.webGLProgram),h=new rn({gl:c,name:"a_position",program:C}),h.setBufferData(v),c.bindVertexArray(h.vao);const[nt,F,rt]=Jt(o,!0);p=new Wt({gl:c,type:"4fv",name:"u_color",program:C,value:[nt,F,rt,1]}),d=new Wt({gl:c,type:"matrix3fv",name:"u_transformation",program:C,value:U.identity}),m()});function m(){if(!c)return;let S=r instanceof OffscreenCanvas?r.width:r.clientWidth,C=r instanceof OffscreenCanvas?r.height:r.clientHeight;c.clearColor(0,0,0,0),c.clear(c.COLOR_BUFFER_BIT|c.DEPTH_BUFFER_BIT);const[Y,W,nt]=Jt(o,!0);p.value=[Y,W,nt,1];var F=U.projection(S,C);F=U.translate(F,a,l),F=U.rotate(F,on(360-i)),F=U.scale(F,s,u),d.value=F,h.setBufferData(v);const rt=c.TRIANGLES,K=0,it=v.length/2;c.drawArrays(rt,K,it),requestAnimationFrame(m)}function L(S){wt[S?"unshift":"push"](()=>{r=S,n(0,r)})}function x(){a=j(this.value),n(2,a)}function O(){l=j(this.value),n(3,l)}function H(){s=j(this.value),n(5,s)}function g(){u=j(this.value),n(6,u)}function b(){i=j(this.value),n(4,i)}function w(){o=this.value,n(1,o)}return[r,o,a,l,i,s,u,v,L,x,O,H,g,b,w,()=>{n(7,v=v===Tt?Kt:Tt)}]}class cn extends tt{constructor(t){super(),Z(this,t,un,ln,X,{})}}function fn(e){let t;return{c(){t=Q("Engine")},m(n,r){E(n,t,r)},d(n){n&&$(t)}}}function hn(e){let t;return{c(){t=Q("Home")},m(n,r){E(n,t,r)},d(n){n&&$(t)}}}function dn(e){let t;return{c(){t=Q("Shader Art")},m(n,r){E(n,t,r)},d(n){n&&$(t)}}}function _n(e){let t,n,r,o,a,l,i,s,u,c,p,v;return o=new Ct({props:{href:"/engine",$$slots:{default:[fn]},$$scope:{ctx:e}}}),l=new Ct({props:{href:"/home",$$slots:{default:[hn]},$$scope:{ctx:e}}}),s=new Ct({props:{href:"/shaderart",$$slots:{default:[dn]},$$scope:{ctx:e}}}),p=new De({props:{routes:e[0]}}),{c(){t=y("div"),n=y("header"),r=y("nav"),q(o.$$.fragment),a=k(),q(l.$$.fragment),i=k(),q(s.$$.fragment),u=k(),c=y("main"),q(p.$$.fragment),f(r,"class","svelte-j54tjh"),f(n,"class","svelte-j54tjh"),f(c,"class","svelte-j54tjh"),f(t,"class","content svelte-j54tjh")},m(d,h){E(d,t,h),_(t,n),_(n,r),M(o,r,null),_(r,a),M(l,r,null),_(r,i),M(s,r,null),_(t,u),_(t,c),M(p,c,null),v=!0},p(d,[h]){const m={};h&2&&(m.$$scope={dirty:h,ctx:d}),o.$set(m);const L={};h&2&&(L.$$scope={dirty:h,ctx:d}),l.$set(L);const x={};h&2&&(x.$$scope={dirty:h,ctx:d}),s.$set(x)},i(d){v||(D(o.$$.fragment,d),D(l.$$.fragment,d),D(s.$$.fragment,d),D(p.$$.fragment,d),v=!0)},o(d){B(o.$$.fragment,d),B(l.$$.fragment,d),B(s.$$.fragment,d),B(p.$$.fragment,d),v=!1},d(d){d&&$(t),V(o),V(l),V(s),V(p)}}}function gn(e){return[{"/":Be,"/shaderart":Ke,"/engine":cn}]}class pn extends tt{constructor(t){super(),Z(this,t,gn,_n,X,{})}}new pn({target:document.getElementById("app")});
