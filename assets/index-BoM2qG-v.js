var Mt=Object.defineProperty;var Ft=(n,e,t)=>e in n?Mt(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var E=(n,e,t)=>(Ft(n,typeof e!="symbol"?e+"":e,t),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();function N(){}function rt(n,e){for(const t in e)n[t]=e[t];return n}function Et(n){return n()}function ht(){return Object.create(null)}function me(n){n.forEach(Et)}function He(n){return typeof n=="function"}function ge(n,e){return n!=n?e==e:n!==e||n&&typeof n=="object"||typeof n=="function"}function Vt(n){return Object.keys(n).length===0}function St(n,...e){if(n==null){for(const s of e)s(void 0);return N}const t=n.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function qe(n,e,t){n.$$.on_destroy.push(St(e,t))}function It(n,e,t,s){if(n){const i=Tt(n,e,t,s);return n[0](i)}}function Tt(n,e,t,s){return n[1]&&s?rt(t.ctx.slice(),n[1](s(e))):t.ctx}function Gt(n,e,t,s){if(n[2]&&s){const i=n[2](s(t));if(e.dirty===void 0)return i;if(typeof i=="object"){const o=[],a=Math.max(e.dirty.length,i.length);for(let r=0;r<a;r+=1)o[r]=e.dirty[r]|i[r];return o}return e.dirty|i}return e.dirty}function Ut(n,e,t,s,i,o){if(i){const a=Tt(e,t,s,o);n.p(a,i)}}function zt(n){if(n.ctx.length>32){const e=[],t=n.ctx.length/32;for(let s=0;s<t;s++)e[s]=-1;return e}return-1}function Nt(n){return n&&He(n.destroy)?n.destroy:N}function h(n,e){n.appendChild(e)}function Y(n,e,t){n.insertBefore(e,t||null)}function B(n){n.parentNode&&n.parentNode.removeChild(n)}function g(n){return document.createElement(n)}function Ce(n){return document.createTextNode(n)}function L(){return Ce(" ")}function it(){return Ce("")}function J(n,e,t,s){return n.addEventListener(e,t,s),()=>n.removeEventListener(e,t,s)}function c(n,e,t){t==null?n.removeAttribute(e):n.getAttribute(e)!==t&&n.setAttribute(e,t)}function M(n){return n===""?null:+n}function Ot(n){return Array.from(n.childNodes)}function k(n,e){n.value=e??""}function _t(n,e,t){n.classList.toggle(e,!!t)}function Xt(n,e,{bubbles:t=!1,cancelable:s=!1}={}){return new CustomEvent(n,{detail:e,bubbles:t,cancelable:s})}function Xe(n,e){return new n(e)}let Me;function De(n){Me=n}function We(){if(!Me)throw new Error("Function called outside component initialization");return Me}function At(n){We().$$.on_mount.push(n)}function jt(n){We().$$.after_update.push(n)}function Bt(n){We().$$.on_destroy.push(n)}function Yt(){const n=We();return(e,t,{cancelable:s=!1}={})=>{const i=n.$$.callbacks[e];if(i){const o=Xt(e,t,{cancelable:s});return i.slice().forEach(a=>{a.call(n,o)}),!o.defaultPrevented}return!0}}function dt(n,e){const t=n.$$.callbacks[e.type];t&&t.slice().forEach(s=>s.call(this,e))}const ke=[],je=[];let $e=[];const pt=[],Lt=Promise.resolve();let et=!1;function Pt(){et||(et=!0,Lt.then(Rt))}function Ht(){return Pt(),Lt}function tt(n){$e.push(n)}const Je=new Set;let Pe=0;function Rt(){if(Pe!==0)return;const n=Me;do{try{for(;Pe<ke.length;){const e=ke[Pe];Pe++,De(e),Wt(e.$$)}}catch(e){throw ke.length=0,Pe=0,e}for(De(null),ke.length=0,Pe=0;je.length;)je.pop()();for(let e=0;e<$e.length;e+=1){const t=$e[e];Je.has(t)||(Je.add(t),t())}$e.length=0}while(ke.length);for(;pt.length;)pt.pop()();et=!1,Je.clear(),De(n)}function Wt(n){if(n.fragment!==null){n.update(),me(n.before_update);const e=n.dirty;n.dirty=[-1],n.fragment&&n.fragment.p(n.ctx,e),n.after_update.forEach(tt)}}function Zt(n){const e=[],t=[];$e.forEach(s=>n.indexOf(s)===-1?e.push(s):t.push(s)),t.forEach(s=>s()),$e=e}const ze=new Set;let Ee;function ot(){Ee={r:0,c:[],p:Ee}}function at(){Ee.r||me(Ee.c),Ee=Ee.p}function ne(n,e){n&&n.i&&(ze.delete(n),n.i(e))}function ae(n,e,t,s){if(n&&n.o){if(ze.has(n))return;ze.add(n),Ee.c.push(()=>{ze.delete(n),s&&(t&&n.d(1),s())}),n.o(e)}else s&&s()}function Be(n,e){const t={},s={},i={$$scope:1};let o=n.length;for(;o--;){const a=n[o],r=e[o];if(r){for(const l in a)l in r||(s[l]=1);for(const l in r)i[l]||(t[l]=r[l],i[l]=1);n[o]=r}else for(const l in a)i[l]=1}for(const a in s)a in t||(t[a]=void 0);return t}function Ye(n){return typeof n=="object"&&n!==null?n:{}}function de(n){n&&n.c()}function he(n,e,t){const{fragment:s,after_update:i}=n.$$;s&&s.m(e,t),tt(()=>{const o=n.$$.on_mount.map(Et).filter(He);n.$$.on_destroy?n.$$.on_destroy.push(...o):me(o),n.$$.on_mount=[]}),i.forEach(tt)}function _e(n,e){const t=n.$$;t.fragment!==null&&(Zt(t.after_update),me(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function Kt(n,e){n.$$.dirty[0]===-1&&(ke.push(n),Pt(),n.$$.dirty.fill(0)),n.$$.dirty[e/31|0]|=1<<e%31}function be(n,e,t,s,i,o,a=null,r=[-1]){const l=Me;De(n);const u=n.$$={fragment:null,ctx:[],props:o,update:N,not_equal:i,bound:ht(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(l?l.$$.context:[])),callbacks:ht(),dirty:r,skip_bound:!1,root:e.target||l.$$.root};a&&a(u.root);let _=!1;if(u.ctx=t?t(n,e.props||{},(d,y,...f)=>{const m=f.length?f[0]:y;return u.ctx&&i(u.ctx[d],u.ctx[d]=m)&&(!u.skip_bound&&u.bound[d]&&u.bound[d](m),_&&Kt(n,d)),y}):[],u.update(),_=!0,me(u.before_update),u.fragment=s?s(u.ctx):!1,e.target){if(e.hydrate){const d=Ot(e.target);u.fragment&&u.fragment.l(d),d.forEach(B)}else u.fragment&&u.fragment.c();e.intro&&ne(n.$$.fragment),he(n,e.target,e.anchor),Rt()}De(l)}class ye{constructor(){E(this,"$$");E(this,"$$set")}$destroy(){_e(this,1),this.$destroy=N}$on(e,t){if(!He(t))return N;const s=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return s.push(t),()=>{const i=s.indexOf(t);i!==-1&&s.splice(i,1)}}$set(e){this.$$set&&!Vt(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Jt="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Jt);const Re=[];function kt(n,e){return{subscribe:Ze(n,e).subscribe}}function Ze(n,e=N){let t;const s=new Set;function i(r){if(ge(n,r)&&(n=r,t)){const l=!Re.length;for(const u of s)u[1](),Re.push(u,n);if(l){for(let u=0;u<Re.length;u+=2)Re[u][0](Re[u+1]);Re.length=0}}}function o(r){i(r(n))}function a(r,l=N){const u=[r,l];return s.add(u),s.size===1&&(t=e(i,o)||N),r(n),()=>{s.delete(u),s.size===0&&t&&(t(),t=null)}}return{set:i,update:o,subscribe:a}}function $t(n,e,t){const s=!Array.isArray(n),i=s?[n]:n;if(!i.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const o=e.length<2;return kt(t,(a,r)=>{let l=!1;const u=[];let _=0,d=N;const y=()=>{if(_)return;d();const m=e(s?u[0]:u,a,r);o?a(m):d=He(m)?m:N},f=i.map((m,x)=>St(m,b=>{u[x]=b,_&=~(1<<x),l&&y()},()=>{_|=1<<x}));return l=!0,y(),function(){me(f),d(),l=!1}})}function Qt(n,e){if(n instanceof RegExp)return{keys:!1,pattern:n};var t,s,i,o,a=[],r="",l=n.split("/");for(l[0]||l.shift();i=l.shift();)t=i[0],t==="*"?(a.push("wild"),r+="/(.*)"):t===":"?(s=i.indexOf("?",1),o=i.indexOf(".",1),a.push(i.substring(1,~s?s:~o?o:i.length)),r+=~s&&!~o?"(?:/([^/]+?))?":"/([^/]+?)",~o&&(r+=(~s?"?":"")+"\\"+i.substring(o))):r+="/"+i;return{keys:a,pattern:new RegExp("^"+r+(e?"(?=$|/)":"/?$"),"i")}}function en(n){let e,t,s;const i=[n[2]];var o=n[0];function a(r,l){let u={};if(l!==void 0&&l&4)u=Be(i,[Ye(r[2])]);else for(let _=0;_<i.length;_+=1)u=rt(u,i[_]);return{props:u}}return o&&(e=Xe(o,a(n)),e.$on("routeEvent",n[7])),{c(){e&&de(e.$$.fragment),t=it()},m(r,l){e&&he(e,r,l),Y(r,t,l),s=!0},p(r,l){if(l&1&&o!==(o=r[0])){if(e){ot();const u=e;ae(u.$$.fragment,1,0,()=>{_e(u,1)}),at()}o?(e=Xe(o,a(r,l)),e.$on("routeEvent",r[7]),de(e.$$.fragment),ne(e.$$.fragment,1),he(e,t.parentNode,t)):e=null}else if(o){const u=l&4?Be(i,[Ye(r[2])]):{};e.$set(u)}},i(r){s||(e&&ne(e.$$.fragment,r),s=!0)},o(r){e&&ae(e.$$.fragment,r),s=!1},d(r){r&&B(t),e&&_e(e,r)}}}function tn(n){let e,t,s;const i=[{params:n[1]},n[2]];var o=n[0];function a(r,l){let u={};if(l!==void 0&&l&6)u=Be(i,[l&2&&{params:r[1]},l&4&&Ye(r[2])]);else for(let _=0;_<i.length;_+=1)u=rt(u,i[_]);return{props:u}}return o&&(e=Xe(o,a(n)),e.$on("routeEvent",n[6])),{c(){e&&de(e.$$.fragment),t=it()},m(r,l){e&&he(e,r,l),Y(r,t,l),s=!0},p(r,l){if(l&1&&o!==(o=r[0])){if(e){ot();const u=e;ae(u.$$.fragment,1,0,()=>{_e(u,1)}),at()}o?(e=Xe(o,a(r,l)),e.$on("routeEvent",r[6]),de(e.$$.fragment),ne(e.$$.fragment,1),he(e,t.parentNode,t)):e=null}else if(o){const u=l&6?Be(i,[l&2&&{params:r[1]},l&4&&Ye(r[2])]):{};e.$set(u)}},i(r){s||(e&&ne(e.$$.fragment,r),s=!0)},o(r){e&&ae(e.$$.fragment,r),s=!1},d(r){r&&B(t),e&&_e(e,r)}}}function nn(n){let e,t,s,i;const o=[tn,en],a=[];function r(l,u){return l[1]?0:1}return e=r(n),t=a[e]=o[e](n),{c(){t.c(),s=it()},m(l,u){a[e].m(l,u),Y(l,s,u),i=!0},p(l,[u]){let _=e;e=r(l),e===_?a[e].p(l,u):(ot(),ae(a[_],1,1,()=>{a[_]=null}),at(),t=a[e],t?t.p(l,u):(t=a[e]=o[e](l),t.c()),ne(t,1),t.m(s.parentNode,s))},i(l){i||(ne(t),i=!0)},o(l){ae(t),i=!1},d(l){l&&B(s),a[e].d(l)}}}function mt(){const n=window.location.href.indexOf("#/");let e=n>-1?window.location.href.substr(n+1):"/";const t=e.indexOf("?");let s="";return t>-1&&(s=e.substr(t+1),e=e.substr(0,t)),{location:e,querystring:s}}const lt=kt(null,function(e){e(mt());const t=()=>{e(mt())};return window.addEventListener("hashchange",t,!1),function(){window.removeEventListener("hashchange",t,!1)}}),sn=$t(lt,n=>n.location);$t(lt,n=>n.querystring);const gt=Ze(void 0);function rn(n,e){if(e=wt(e),!n||!n.tagName||n.tagName.toLowerCase()!="a")throw Error('Action "link" can only be used with <a> tags');return vt(n,e),{update(t){t=wt(t),vt(n,t)}}}function on(n){n?window.scrollTo(n.__svelte_spa_router_scrollX,n.__svelte_spa_router_scrollY):window.scrollTo(0,0)}function vt(n,e){let t=e.href||n.getAttribute("href");if(t&&t.charAt(0)=="/")t="#"+t;else if(!t||t.length<2||t.slice(0,2)!="#/")throw Error('Invalid value for "href" attribute: '+t);n.setAttribute("href",t),n.addEventListener("click",s=>{s.preventDefault(),e.disabled||an(s.currentTarget.getAttribute("href"))})}function wt(n){return n&&typeof n=="string"?{href:n}:n||{}}function an(n){history.replaceState({...history.state,__svelte_spa_router_scrollX:window.scrollX,__svelte_spa_router_scrollY:window.scrollY},void 0),window.location.hash=n}function ln(n,e,t){let{routes:s={}}=e,{prefix:i=""}=e,{restoreScrollState:o=!1}=e;class a{constructor(p,w){if(!w||typeof w!="function"&&(typeof w!="object"||w._sveltesparouter!==!0))throw Error("Invalid component object");if(!p||typeof p=="string"&&(p.length<1||p.charAt(0)!="/"&&p.charAt(0)!="*")||typeof p=="object"&&!(p instanceof RegExp))throw Error('Invalid value for "path" argument - strings must start with / or *');const{pattern:T,keys:A}=Qt(p);this.path=p,typeof w=="object"&&w._sveltesparouter===!0?(this.component=w.component,this.conditions=w.conditions||[],this.userData=w.userData,this.props=w.props||{}):(this.component=()=>Promise.resolve(w),this.conditions=[],this.props={}),this._pattern=T,this._keys=A}match(p){if(i){if(typeof i=="string")if(p.startsWith(i))p=p.substr(i.length)||"/";else return null;else if(i instanceof RegExp){const q=p.match(i);if(q&&q[0])p=p.substr(q[0].length)||"/";else return null}}const w=this._pattern.exec(p);if(w===null)return null;if(this._keys===!1)return w;const T={};let A=0;for(;A<this._keys.length;){try{T[this._keys[A]]=decodeURIComponent(w[A+1]||"")||null}catch{T[this._keys[A]]=null}A++}return T}async checkConditions(p){for(let w=0;w<this.conditions.length;w++)if(!await this.conditions[w](p))return!1;return!0}}const r=[];s instanceof Map?s.forEach((v,p)=>{r.push(new a(p,v))}):Object.keys(s).forEach(v=>{r.push(new a(v,s[v]))});let l=null,u=null,_={};const d=Yt();async function y(v,p){await Ht(),d(v,p)}let f=null,m=null;o&&(m=v=>{v.state&&(v.state.__svelte_spa_router_scrollY||v.state.__svelte_spa_router_scrollX)?f=v.state:f=null},window.addEventListener("popstate",m),jt(()=>{on(f)}));let x=null,b=null;const S=lt.subscribe(async v=>{x=v;let p=0;for(;p<r.length;){const w=r[p].match(v.location);if(!w){p++;continue}const T={route:r[p].path,location:v.location,querystring:v.querystring,userData:r[p].userData,params:w&&typeof w=="object"&&Object.keys(w).length?w:null};if(!await r[p].checkConditions(T)){t(0,l=null),b=null,y("conditionsFailed",T);return}y("routeLoading",Object.assign({},T));const A=r[p].component;if(b!=A){A.loading?(t(0,l=A.loading),b=A,t(1,u=A.loadingParams),t(2,_={}),y("routeLoaded",Object.assign({},T,{component:l,name:l.name,params:u}))):(t(0,l=null),b=null);const q=await A();if(v!=x)return;t(0,l=q&&q.default||q),b=A}w&&typeof w=="object"&&Object.keys(w).length?t(1,u=w):t(1,u=null),t(2,_=r[p].props),y("routeLoaded",Object.assign({},T,{component:l,name:l.name,params:u})).then(()=>{gt.set(u)});return}t(0,l=null),b=null,gt.set(void 0)});Bt(()=>{S(),m&&window.removeEventListener("popstate",m)});function D(v){dt.call(this,n,v)}function I(v){dt.call(this,n,v)}return n.$$set=v=>{"routes"in v&&t(3,s=v.routes),"prefix"in v&&t(4,i=v.prefix),"restoreScrollState"in v&&t(5,o=v.restoreScrollState)},n.$$.update=()=>{n.$$.dirty&32&&(history.scrollRestoration=o?"manual":"auto")},[l,u,_,s,i,o,D,I]}class un extends ye{constructor(e){super(),be(this,e,ln,nn,ge,{routes:3,prefix:4,restoreScrollState:5})}}function cn(n){let e;return{c(){e=Ce("Nothing to see here. Go to Engine or Shader Art.")},m(t,s){Y(t,e,s)},p:N,i:N,o:N,d(t){t&&B(e)}}}class fn extends ye{constructor(e){super(),be(this,e,null,cn,ge,{})}}const hn=`#version 300 es

layout(location = 0) in vec2 aPosition;
out vec2 fragCoord;

void main()
{
    fragCoord = aPosition;
    gl_Position = vec4(aPosition, 0.0, 1.0);
}
`,_n=`#version 300 es

precision mediump float;

in vec2 fragCoord;
uniform float uTime;
uniform float uDensity;

out vec4 fragColor;

//https://iquilezles.org/articles/palettes/
vec3 palette( float t ) {
    vec3 a = vec3(0.5, 0.5, 0.5);
    vec3 b = vec3(0.5, 0.5, 0.5);
    vec3 c = vec3(1.0, 1.0, 1.0);
    vec3 d = vec3(0.263,0.416,0.557);

    return a + b*cos( 6.28318*(c*t+d) );
}

void main()
{
    vec2 uv = fragCoord;
    float d = length(uv);

    vec2 uv0 = uv;
    vec3 finalColor = vec3(0.0);

    for (float i = 0.0; i < 4.0; i++) {
        uv = fract(uv * uDensity / 10.0) - 0.5;

        float d = length(uv) * exp(-length(uv0));

        vec3 col = palette(length(uv0) + i*.4 + uTime*.4);

        d = sin(d * 8. + uTime)/8.;
        d = abs(d);

        d = pow(0.01 / d, 1.2);

        finalColor += col * d;
    }

    fragColor = vec4(finalColor, 1.0);
}
`,Ne=Ze(15),Oe=Ze(1e3);function dn(n){let e,t,s,i,o;return{c(){e=g("input"),t=L(),s=g("input"),c(e,"type","number"),c(e,"min","100"),c(e,"max","3000"),c(s,"id",n[0]),c(s,"type","range"),c(s,"min","100"),c(s,"max","3000")},m(a,r){Y(a,e,r),k(e,n[1]),Y(a,t,r),Y(a,s,r),k(s,n[1]),i||(o=[J(e,"input",n[2]),J(s,"change",n[3]),J(s,"input",n[3])],i=!0)},p(a,[r]){r&2&&M(e.value)!==a[1]&&k(e,a[1]),r&1&&c(s,"id",a[0]),r&2&&k(s,a[1])},i:N,o:N,d(a){a&&(B(e),B(t),B(s)),i=!1,me(o)}}}function pn(n,e,t){let s;qe(n,Oe,r=>t(1,s=r));let{id:i="speed-slider"}=e;function o(){s=M(this.value),Oe.set(s)}function a(){s=M(this.value),Oe.set(s)}return n.$$set=r=>{"id"in r&&t(0,i=r.id)},[i,s,o,a]}class mn extends ye{constructor(e){super(),be(this,e,pn,dn,ge,{id:0})}}function gn(n){let e,t,s,i,o;return{c(){e=g("input"),t=L(),s=g("input"),c(e,"type","number"),c(e,"min","1"),c(e,"max","30"),c(s,"id",n[0]),c(s,"type","range"),c(s,"min","1"),c(s,"max","30")},m(a,r){Y(a,e,r),k(e,n[1]),Y(a,t,r),Y(a,s,r),k(s,n[1]),i||(o=[J(e,"input",n[2]),J(s,"change",n[3]),J(s,"input",n[3])],i=!0)},p(a,[r]){r&2&&M(e.value)!==a[1]&&k(e,a[1]),r&1&&c(s,"id",a[0]),r&2&&k(s,a[1])},i:N,o:N,d(a){a&&(B(e),B(t),B(s)),i=!1,me(o)}}}function vn(n,e,t){let s;qe(n,Ne,r=>t(1,s=r));let{id:i="density-slider"}=e;function o(){s=M(this.value),Ne.set(s)}function a(){s=M(this.value),Ne.set(s)}return n.$$set=r=>{"id"in r&&t(0,i=r.id)},[i,s,o,a]}class wn extends ye{constructor(e){super(),be(this,e,vn,gn,ge,{id:0})}}function bn(n){let e,t,s,i,o,a,r,l,u,_,d,y,f,m;return o=new mn({props:{id:"speed-slider"}}),u=new wn({props:{id:"density-slider"}}),{c(){e=g("div"),t=g("div"),s=g("label"),s.textContent="Speed",i=L(),de(o.$$.fragment),a=L(),r=g("label"),r.textContent="Density",l=L(),de(u.$$.fragment),_=L(),d=g("canvas"),y=L(),f=g("div"),f.innerHTML='<a href="https://www.youtube.com/watch?v=f4s1h2YETNY&amp;t=583s">Shader code by kishimisu</a>',c(s,"for","speed-slider"),c(r,"for","speed-slider"),c(t,"class","toolbar"),c(d,"class","svelte-syf6pw"),c(e,"class","shaderArt svelte-syf6pw")},m(x,b){Y(x,e,b),h(e,t),h(t,s),h(t,i),he(o,t,null),h(t,a),h(t,r),h(t,l),he(u,t,null),h(e,_),h(e,d),n[1](d),h(e,y),h(e,f),m=!0},p:N,i(x){m||(ne(o.$$.fragment,x),ne(u.$$.fragment,x),m=!0)},o(x){ae(o.$$.fragment,x),ae(u.$$.fragment,x),m=!1},d(x){x&&B(e),_e(o),_e(u),n[1](null)}}}function yn(n,e,t){let s,i;qe(n,Oe,r=>t(2,s=r)),qe(n,Ne,r=>t(3,i=r));let o;At(()=>{const r=o.getContext("webgl2");if(!r)return;const l=r.createProgram();if(!l)return;const u=r.createShader(r.VERTEX_SHADER);if(!u)return;r.shaderSource(u,hn),r.compileShader(u),r.attachShader(l,u);const _=r.createShader(r.FRAGMENT_SHADER);if(!_)return;r.shaderSource(_,_n),r.compileShader(_),r.attachShader(l,_),r.linkProgram(l),r.getProgramParameter(l,r.LINK_STATUS)||(console.log(r.getShaderInfoLog(u)),console.log(r.getShaderInfoLog(_)));const d=new Float32Array([-1,-1,1,-1,-1,1,1,-1,-1,1,1,1]),y=r.getUniformLocation(l,"uResolution");r.uniform2f(y,1024,1024);const f=r.getUniformLocation(l,"uTime");r.uniform1f(f,0);const m=r.getUniformLocation(l,"uDensity");r.uniform1f(m,15);const x=r.createBuffer();r.bindBuffer(r.ARRAY_BUFFER,x),r.bufferData(r.ARRAY_BUFFER,d,r.STATIC_DRAW);const b=0;r.enableVertexAttribArray(b),r.vertexAttribPointer(b,2,r.FLOAT,!1,2*4,0);const S=(D=0)=>{(o.width!==o.clientWidth||o.height!==o.clientHeight)&&(t(0,o.width=o.clientWidth,o),t(0,o.height=o.clientHeight,o),r.viewport(0,0,r.canvas.width,r.canvas.height)),r.clearColor(0,0,0,1),r.clear(r.COLOR_BUFFER_BIT),r.uniform1f(m,i),r.uniform1f(f,D/1e6*s),r.useProgram(l),r.drawArrays(r.TRIANGLES,0,6),requestAnimationFrame(S)};S()});function a(r){je[r?"unshift":"push"](()=>{o=r,t(0,o)})}return[o,a]}class xn extends ye{constructor(e){super(),be(this,e,yn,bn,ge,{})}}function En(n){let e,t,s,i;const o=n[3].default,a=It(o,n,n[2],null);return{c(){e=g("a"),a&&a.c(),c(e,"href",n[0]),c(e,"class","svelte-1dzzut9"),_t(e,"active",n[1]===n[0])},m(r,l){Y(r,e,l),a&&a.m(e,null),t=!0,s||(i=Nt(rn.call(null,e)),s=!0)},p(r,[l]){a&&a.p&&(!t||l&4)&&Ut(a,o,r,r[2],t?Gt(o,r[2],l,null):zt(r[2]),null),(!t||l&1)&&c(e,"href",r[0]),(!t||l&3)&&_t(e,"active",r[1]===r[0])},i(r){t||(ne(a,r),t=!0)},o(r){ae(a,r),t=!1},d(r){r&&B(e),a&&a.d(r),s=!1,i()}}}function Sn(n,e,t){let s;qe(n,sn,r=>t(1,s=r));let{$$slots:i={},$$scope:o}=e,{href:a=""}=e;return n.$$set=r=>{"href"in r&&t(0,a=r.href),"$$scope"in r&&t(2,o=r.$$scope)},[a,s,o,i]}class Qe extends ye{constructor(e){super(),be(this,e,Sn,En,ge,{href:0})}}const Tn=`#version 300 es

// an attribute is an input (in) to a vertex shader.
// It will receive data from a buffer
in vec4 a_position;
in vec3 a_normal;
in vec2 a_texcoord;

uniform vec3 u_lightWorldPosition;
uniform vec3 u_viewWorldPosition;

uniform mat4 u_world;
uniform mat4 u_worldViewProjection;
uniform mat4 u_worldInverseTranspose;

// a varying to pass the texture coordinates to the fragment shader
out vec2 v_texcoord;

// varying to pass the normal to the fragment shader
out vec3 v_normal;
out vec3 v_surfaceToLight;
out vec3 v_surfaceToView;

void main() {
  // Multiply the position by the matrix.
  gl_Position = u_worldViewProjection * a_position;

  // Pass the texcoord to the fragment shader.
  v_texcoord = a_texcoord;

  // Pass the normal to the fragment shader
  v_normal = mat3(u_worldInverseTranspose) * a_normal;

  // compute the world position of the surface
  vec3 surfaceWorldPosition = (u_world * a_position).xyz;

  // compute the vector of the surface to the light
  // and pass it to the fragment shader
  v_surfaceToLight = u_lightWorldPosition - surfaceWorldPosition;

  // compute the vector of the surface to the view/camera
  // and pass it to the fragment shader
  v_surfaceToView = u_viewWorldPosition - surfaceWorldPosition;
}
`,An=`#version 300 es

precision highp float;

// Passed in and varied from the vertex shader.
in vec2 v_texcoord;
in vec3 v_normal;
in vec3 v_surfaceToLight;
in vec3 v_surfaceToView;

uniform sampler2D u_texture;

// we need to declare an output for the fragment shader
out vec4 outColor;

uniform float u_shininess;
uniform vec3 u_lightColor;
uniform vec3 u_specularColor;

void main() {
  outColor = texture(u_texture, v_texcoord);

  // because v_normal is a varying it's interpolated
  // so it will not be a unit vector. Normalizing it
  // will make it a unit vector again
  vec3 normal = normalize(v_normal);

  vec3 surfaceToLightDirection = normalize(v_surfaceToLight);
  vec3 surfaceToViewDirection = normalize(v_surfaceToView);
  vec3 halfVector = normalize(surfaceToLightDirection + surfaceToViewDirection);

  // compute the light by taking the dot product
  // of the normal to the light's reverse direction
  float light = dot(normal, surfaceToLightDirection);
  float specular = 0.0;
  if (light > 0.0) {
    specular = pow(dot(normal, halfVector), u_shininess);
  }

  // Lets multiply just the color portion (not the alpha)
  // by the light
  outColor.rgb *= light * u_lightColor;

  // Just add in the specular
  outColor.rgb += specular * u_specularColor;
}
`;class Ln{constructor(e){E(this,"_gl",null);E(this,"_canvas");E(this,"_width");E(this,"_height");this._width=e.width,this._height=e.height,this._canvas=e,this.updateGL(),this.updateViewPort()}set canvas(e){this._canvas=e,this.updateGL(),this.updateViewPort()}updateGL(){const e=this._canvas.getContext("webgl2");if(!e)throw`Could not get webgl2 context of canvas element: ${this._canvas}`;this._gl=e}updateViewPort(){if(!this._gl)throw"Could not update viewport.";this._gl.viewport(0,0,this._gl.canvas.width,this._gl.canvas.height)}linkProgram(e){if(!this._gl)throw"Could not link program.";this._gl.linkProgram(e.webGLProgram),this._gl.getProgramParameter(e.webGLProgram,this._gl.LINK_STATUS)||(e.vertexShader&&console.log(this._gl.getShaderInfoLog(e.vertexShader.webGLShader)),e.fragmentShader&&console.log(this._gl.getShaderInfoLog(e.fragmentShader.webGLShader)))}get width(){return this._width}get height(){return this._height}get gl(){return this._gl}}class Ct{constructor({gl:e,source:t}){E(this,"_gl");E(this,"_webGLShader");E(this,"source",null);this._gl=e,this._webGLShader=this.create(),t&&(this._gl.shaderSource(this._webGLShader,t),this._gl.compileShader(this._webGLShader))}get webGLShader(){return this._webGLShader}}class Dt extends Ct{constructor({gl:e,source:t}){super({gl:e,source:t})}create(){const e=this._gl.createShader(this._gl.VERTEX_SHADER);if(!e)throw"Could not create VertexShader";return e}updateSource(e){}}class qt extends Ct{constructor({gl:e,source:t}){super({gl:e,source:t})}create(){const e=this._gl.createShader(this._gl.FRAGMENT_SHADER);if(!e)throw"Could not create FragmentShader";return e}updateSource(e){}}class Pn{constructor(e){E(this,"_gl");E(this,"_webGLProgram");E(this,"_vertexShader",null);E(this,"_fragmentShader",null);this._gl=e;const t=e.createProgram();if(!t)throw"Could not create program";this._webGLProgram=t}attachShader(e){this._gl.attachShader(this._webGLProgram,e.webGLShader),e instanceof Dt&&(this._vertexShader=e),e instanceof qt&&(this._fragmentShader=e)}getUniformLocation(e){return this._gl.getUniformLocation(this._webGLProgram,e)}get webGLProgram(){return this._webGLProgram}get vertexShader(){return this._vertexShader}get fragmentShader(){return this._fragmentShader}}class Se{constructor(e){E(this,"_values");this._values=this.create(e)}static substract(e,t){if(e.is1D(e)&&t.is1D(t))return new Rn([e._values[0]-t._values[0]]);if(e.is2D(e)&&t.is2D(t))return new kn([e._values[0]-t._values[0],e._values[1]-t._values[1]]);if(e.is3D(e)&&t.is3D(t))return new le([e._values[0]-t._values[0],e._values[1]-t._values[1],e._values[2]-t._values[2]]);if(e.is4D(e)&&t.is4D(t))return new ut([e._values[0]-t._values[0],e._values[1]-t._values[1],e._values[2]-t._values[2],e._values[3]-t._values[3]]);throw new Error("Vectors must have the same dimension to subtract.")}static dot(e,t){return e._values.reduce((s,i,o)=>s+i*t._values[o],0)}get values(){return this._values}set values(e){this._values=e}is1D(e){return e.values.length===1}is2D(e){return e.values.length===2}is3D(e){return e.values.length===3}is4D(e){return e.values.length===4}normalize(){const e=Math.sqrt(this._values.reduce((s,i)=>s+i*i,0)),t=this._values.map(s=>s/e);return this._values=t,this}toNormalized(){const e=Math.sqrt(this._values.reduce((i,o)=>i+o*o,0)),t=this._values.map(i=>i/e),s=this.constructor;return new s(t)}}class Rn extends Se{create(e){return e||[1]}}class kn extends Se{create(e){return e||[1,1]}}class le extends Se{create(e){return e||[1,1,1]}static cross(e,t){const s=[e._values[1]*t._values[2]-e._values[2]*t._values[1],e._values[2]*t._values[0]-e._values[0]*t._values[2],e._values[0]*t._values[1]-e._values[1]*t._values[0]];return new le(s)}}class ut extends Se{create(e){return e||[1,1,1,1]}}class nt{constructor(e){E(this,"_values");this._values=this.create(e)}transpose(){const e=Math.sqrt(this._values.length),t=Array.from({length:this._values.length},(s,i)=>{const o=Math.floor(i/e),a=i%e;return this._values[a*e+o]});return this._values=t,this}get values(){return this._values}set values(e){this._values=e}}const C=class C extends nt{static multiply(e,t){const[s,i,o,a,r,l,u,_,d,y,f,m,x,b,S,D]=e.values,[I,v,p,w,T,A,q,O,H,Q,F,ee,X,W,te,V]=t.values;return new C([s*I+i*T+o*H+a*X,s*v+i*A+o*Q+a*W,s*p+i*q+o*F+a*te,s*w+i*O+o*ee+a*V,r*I+l*T+u*H+_*X,r*v+l*A+u*Q+_*W,r*p+l*q+u*F+_*te,r*w+l*O+u*ee+_*V,d*I+y*T+f*H+m*X,d*v+y*A+f*Q+m*W,d*p+y*q+f*F+m*te,d*w+y*O+f*ee+m*V,x*I+b*T+S*H+D*X,x*v+b*A+S*Q+D*W,x*p+b*q+S*F+D*te,x*w+b*O+S*ee+D*V])}static translation(e,t,s){return new C([1,0,0,0,0,1,0,0,0,0,1,0,e,t,s,1])}static xRotation(e){const t=Math.cos(e),s=Math.sin(e);return new C([1,0,0,0,0,t,s,0,0,-s,t,0,0,0,0,1])}static yRotation(e){const t=Math.cos(e),s=Math.sin(e);return new C([t,0,-s,0,0,1,0,0,s,0,t,0,0,0,0,1])}static zRotation(e){const t=Math.cos(e),s=Math.sin(e);return new C([t,s,0,0,-s,t,0,0,0,0,1,0,0,0,0,1])}static scaling(e,t,s){return new C([e,0,0,0,0,t,0,0,0,0,s,0,0,0,0,1])}static perspective(e,t,s,i){const o=Math.tan(Math.PI*.5-.5*e),a=1/(s-i);return new C([o/t,0,0,0,0,o,0,0,0,0,(s+i)*a,-1,0,0,s*i*a*2,0])}static orthographic(e,t,s,i,o,a){return new C([2/(t-e),0,0,0,0,2/(i-s),0,0,0,0,2/(o-a),0,(e+t)/(e-t),(s+i)/(s-i),(o+a)/(o-a),1])}static projection(e,t,s){return new C([2/e,0,0,0,0,-2/t,0,0,0,0,2/s,0,-1,1,0,1])}static lookAt(e,t,s=new le([0,1,0])){var i=Se.substract(e,t).normalize(),o=le.cross(s,i).normalize(),a=le.cross(i,o).normalize();return new C([o.values[0],o.values[1],o.values[2],0,a.values[0],a.values[1],a.values[2],0,i.values[0],i.values[1],i.values[2],0,e.values[0],e.values[1],e.values[2],1])}create(e){return e||C.identity}translate(e,t,s){return C.multiply(this,C.translation(e,t,s))}rotateX(e){return C.multiply(this,C.xRotation(e))}rotateY(e){return C.multiply(this,C.yRotation(e))}rotateZ(e){return C.multiply(this,C.zRotation(e))}scale(e,t,s){return C.multiply(this,C.scaling(e,t,s))}invert(){const[e,t,s,i,o,a,r,l,u,_,d,y,f,m,x,b]=this.values,S=d*b,D=x*y,I=r*b,v=x*l,p=r*y,w=d*l,T=s*b,A=x*i,q=s*y,O=d*i,H=s*l,Q=r*i,F=u*m,ee=f*_,X=o*m,W=f*a,te=o*_,V=u*a,pe=e*m,se=f*t,P=e*_,Z=u*t,G=e*a,K=o*t,R=S*a+v*_+p*m-(D*a+I*_+w*m),j=D*t+T*_+O*m-(S*t+A*_+q*m),re=I*t+A*a+H*m-(v*t+T*a+Q*m),ie=w*t+q*a+Q*_-(p*t+O*a+H*_),$=1/(e*R+o*j+u*re+f*ie);return new C([$*R,$*j,$*re,$*ie,$*(D*o+I*u+w*f-(S*o+v*u+p*f)),$*(S*e+A*u+q*f-(D*e+T*u+O*f)),$*(v*e+T*o+Q*f-(I*e+A*o+H*f)),$*(p*e+O*o+H*u-(w*e+q*o+Q*u)),$*(F*l+W*y+te*b-(ee*l+X*y+V*b)),$*(ee*i+pe*y+Z*b-(F*i+se*y+P*b)),$*(X*i+se*l+G*b-(W*i+pe*l+K*b)),$*(V*i+P*l+K*y-(te*i+Z*l+G*y)),$*(X*d+V*x+ee*r-(te*x+F*r+W*d)),$*(P*x+F*s+se*d-(pe*d+Z*x+ee*s)),$*(pe*r+K*x+W*s-(G*x+X*s+se*r)),$*(G*d+te*s+Z*r-(P*r+K*d+V*s))])}transformVector(e){const t=this.values,s=[];for(let i=0;i<4;++i){s[i]=0;for(let o=0;o<4;++o)s[i]+=e.values[o]*t[o*4+i]}return new ut(s)}};E(C,"identity",[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);let fe=C;class ve{constructor({gl:e,type:t,name:s,program:i,value:o}){E(this,"_gl");E(this,"_value",null);E(this,"_type");E(this,"_name");E(this,"_program",null);this._gl=e,this._name=s,this._type=t,i&&(this._program=i),console.log(`Creating uniform ${s} with type ${t} and value ${o}`),o!==void 0&&(o instanceof nt||o instanceof Se?this.value=o.values:this.value=o)}get value(){return this._value}set value(e){e instanceof nt||e instanceof Se?this._value=e.values:this._value=e;const t=this.getLocation();if(Array.isArray(e))switch(this._type){case"2f":this._gl.uniform2f(t,e[0],e[1]);break;case"2i":this._gl.uniform2i(t,e[0],e[1]);break;case"3f":this._gl.uniform3f(t,e[0],e[1],e[2]);break;case"3i":this._gl.uniform3i(t,e[0],e[1],e[2]);break;case"4f":this._gl.uniform4f(t,e[0],e[1],e[2],e[3]);break;case"4i":this._gl.uniform4i(t,e[0],e[1],e[2],e[3]);break;case"matrix2fv":this._gl.uniformMatrix2fv(t,!1,e);break;case"matrix3fv":this._gl.uniformMatrix3fv(t,!1,e);break;case"matrix4fv":this._gl.uniformMatrix4fv(t,!1,e);break;case"2fv":this._gl.uniform2fv(t,e);break;case"3fv":this._gl.uniform3fv(t,e);break;case"4fv":this._gl.uniform4fv(t,e);break;default:throw`Invalid value ${e} for type ${this._type}`}else switch(this._type){case"1f":this._gl.uniform1f(t,e);break;case"1i":this._gl.uniform1i(t,e);break;default:throw`Invalid value ${e} for type ${this._type}`}}getLocation(){if(!this._program)throw"Could not get location of uniform. No program attached.";return this._gl.getUniformLocation(this._program.webGLProgram,this._name)}}const we=new Float32Array([0,0,0,0,150,0,30,0,0,0,150,0,30,150,0,30,0,0,30,0,0,30,30,0,100,0,0,30,30,0,100,30,0,100,0,0,30,60,0,30,90,0,67,60,0,30,90,0,67,90,0,67,60,0,0,0,30,30,0,30,0,150,30,0,150,30,30,0,30,30,150,30,30,0,30,100,0,30,30,30,30,30,30,30,100,0,30,100,30,30,30,60,30,67,60,30,30,90,30,30,90,30,67,60,30,67,90,30,0,0,0,100,0,0,100,0,30,0,0,0,100,0,30,0,0,30,100,0,0,100,30,0,100,30,30,100,0,0,100,30,30,100,0,30,30,30,0,30,30,30,100,30,30,30,30,0,100,30,30,100,30,0,30,30,0,30,60,30,30,30,30,30,30,0,30,60,0,30,60,30,30,60,0,67,60,30,30,60,30,30,60,0,67,60,0,67,60,30,67,60,0,67,90,30,67,60,30,67,60,0,67,90,0,67,90,30,30,90,0,30,90,30,67,90,30,30,90,0,67,90,30,67,90,0,30,90,0,30,150,30,30,90,30,30,90,0,30,150,0,30,150,30,0,150,0,0,150,30,30,150,30,0,150,0,30,150,30,30,150,0,0,0,0,0,0,30,0,150,30,0,0,0,0,150,30,0,150,0]),bt=new Float32Array([0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0]),$n=new Float32Array([0,0,0,1,1,0,0,1,1,1,1,0,0,0,0,1,1,0,0,1,1,1,1,0,0,0,0,1,1,0,0,1,1,1,1,0,0,0,1,0,0,1,0,1,1,0,1,1,0,0,1,0,0,1,0,1,1,0,1,1,0,0,1,0,0,1,0,1,1,0,1,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,0,1,1,1,0,0,1,1,1,0,0,0,1,1,0,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,0,1,1,0,0,0,1,1,1,0,0,1,1,1,0,0,0,1,1,0,1,0,0,1,0,1,1,0,0,0,1,1,1,0,0,1,1,1,0,0,0,0,1,1,1,0,0,1,1,1,0]);function Ue(n){return n*(Math.PI/180)}class st{constructor({gl:e,name:t,program:s,pointerProperties:i,createVao:o}){E(this,"_gl");E(this,"_buffer");E(this,"_name");E(this,"_program",null);E(this,"_vao",null);E(this,"_pointerProperties");E(this,"_createVao");this._gl=e,this._name=t,s&&(this._program=s),this._createVao=o||!1;const a=e.createBuffer();if(!a)throw"Could not create buffer";this._pointerProperties={normalize:!1,stride:0,offset:0,...i},this._buffer=a}get name(){return this._name}get buffer(){return this._buffer}get vao(){if(!this._vao)throw"Could not get vao of attribute. Was the data set already?";return this._vao}getLocation(){if(!this._program)throw"Could not get location of attribute. No program attached.";return this._gl.getAttribLocation(this._program.webGLProgram,this._name)}setBufferData(e){this._createVao&&(this._vao=this._gl.createVertexArray(),this._gl.bindVertexArray(this._vao)),this._gl.enableVertexAttribArray(this.getLocation()),this._gl.bindBuffer(this._gl.ARRAY_BUFFER,this._buffer),this._gl.bufferData(this._gl.ARRAY_BUFFER,e,this._gl.STATIC_DRAW);const{size:t,type:s,normalize:i,stride:o,offset:a}=this._pointerProperties;this._gl.vertexAttribPointer(this.getLocation(),t,s,i,o,a)}}class yt{constructor({coordinates:e,normals:t,texture:s,gl:i,program:o}){E(this,"_gl");E(this,"_program");E(this,"_positionAttribute");E(this,"_normalsAttribute");E(this,"_texture");this._gl=i,this._program=o,this._positionAttribute=new st({gl:i,name:"a_position",program:o,createVao:!0,pointerProperties:{size:3,type:i.FLOAT}}),e&&this._positionAttribute.setBufferData(e),this._normalsAttribute=new st({gl:i,name:"a_normal",program:o,pointerProperties:{size:3,type:i.FLOAT}}),t&&this._normalsAttribute.setBufferData(t),s&&(this._texture=s)}draw(){if(this._positionAttribute){this._texture&&this._texture.bind(),this._gl.bindVertexArray(this._positionAttribute.vao);const e=this._gl.TRIANGLES;this._gl.drawArrays(e,0,96),this._texture&&this._texture.draw()}else{console.log("No position attribute");return}}}class xt{constructor({gl:e,program:t,src:s,coordinates:i,wrapS:o,wrapT:a,minFilter:r=e.LINEAR_MIPMAP_LINEAR,magFilter:l=e.LINEAR}){E(this,"_gl");E(this,"_program");E(this,"_image");E(this,"_webGlTexture");E(this,"_coordinatesAttribute");E(this,"_coordinates");this._gl=e,this._program=t,this._coordinates=i,this._coordinatesAttribute=new st({gl:e,name:"a_texcoord",program:t,pointerProperties:{size:2,normalize:!0,type:e.FLOAT}}),this._webGlTexture=e.createTexture(),e.bindTexture(e.TEXTURE_2D,this._webGlTexture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array([0,0,255,255])),this._image=new Image,this._image.src=s,this._image.addEventListener("load",()=>{e.bindTexture(e.TEXTURE_2D,this._webGlTexture),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,r),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,l),o&&e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,o),a&&e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,a),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,this._image),e.generateMipmap(e.TEXTURE_2D)})}bind(){this._gl.bindTexture(this._gl.TEXTURE_2D,this._webGlTexture)}draw(){this._coordinates&&this._coordinatesAttribute&&this._coordinatesAttribute.setBufferData(this._coordinates)}}function Cn(n){let e,t,s,i,o,a,r,l,u,_,d,y,f,m,x,b,S,D,I,v,p,w,T,A,q,O,H,Q,F,ee,X,W,te,V,pe,se,P,Z,G,K,R,j,re,ie,$,Te,z,Fe,xe,Ae,Ve,oe,Ie,Le,Ge,ct,ue,Ke,ft;return{c(){e=g("div"),t=g("canvas"),s=L(),i=g("div"),o=g("div"),a=g("span"),a.innerHTML='<span class=".label">Positon:</span>',r=L(),l=g("span"),u=g("span"),u.textContent="x",_=L(),d=g("input"),y=L(),f=g("span"),m=g("span"),m.textContent="y",x=L(),b=g("input"),S=L(),D=g("span"),I=g("span"),I.textContent="z",v=L(),p=g("input"),w=L(),T=g("div"),A=g("span"),A.innerHTML='<span class="label svelte-1pqx7i0">Scale:</span>',q=L(),O=g("span"),H=g("span"),H.textContent="x",Q=L(),F=g("input"),ee=L(),X=g("span"),W=g("span"),W.textContent="y",te=L(),V=g("input"),pe=L(),se=g("span"),P=g("span"),P.textContent="z",Z=L(),G=g("input"),K=L(),R=g("div"),j=g("span"),j.innerHTML='<span class="label svelte-1pqx7i0">Rotation:</span>',re=L(),ie=g("span"),$=g("span"),$.textContent="x",Te=L(),z=g("input"),Fe=L(),xe=g("span"),Ae=g("span"),Ae.textContent="y",Ve=L(),oe=g("input"),Ie=L(),Le=g("span"),Ge=g("span"),Ge.textContent="z",ct=L(),ue=g("input"),c(t,"class","svelte-1pqx7i0"),c(a,"class","field svelte-1pqx7i0"),c(u,"class","label svelte-1pqx7i0"),c(d,"type","number"),c(d,"class","svelte-1pqx7i0"),c(l,"class","field svelte-1pqx7i0"),c(m,"class","label svelte-1pqx7i0"),c(b,"type","number"),c(b,"min",-1e3),c(b,"max",1e3),c(b,"class","svelte-1pqx7i0"),c(f,"class","field svelte-1pqx7i0"),c(I,"class","label svelte-1pqx7i0"),c(p,"type","number"),c(p,"min",-1e3),c(p,"max",1e3),c(p,"class","svelte-1pqx7i0"),c(D,"class","field svelte-1pqx7i0"),c(o,"class","control svelte-1pqx7i0"),c(A,"class","field svelte-1pqx7i0"),c(H,"class","label svelte-1pqx7i0"),c(F,"type","number"),c(F,"min",.1),c(F,"max",3),c(F,"step",.1),c(F,"class","svelte-1pqx7i0"),c(O,"class","field svelte-1pqx7i0"),c(W,"class","label svelte-1pqx7i0"),c(V,"type","number"),c(V,"min",.1),c(V,"max",3),c(V,"step",.1),c(V,"class","svelte-1pqx7i0"),c(X,"class","field svelte-1pqx7i0"),c(P,"class","label svelte-1pqx7i0"),c(G,"type","number"),c(G,"min",.1),c(G,"max",3),c(G,"step",.1),c(G,"class","svelte-1pqx7i0"),c(se,"class","field svelte-1pqx7i0"),c(T,"class","control svelte-1pqx7i0"),c(j,"class","field svelte-1pqx7i0"),c($,"class","label svelte-1pqx7i0"),c(z,"type","number"),c(z,"step",15),c(z,"min",-360),c(z,"max",360),c(z,"class","svelte-1pqx7i0"),c(ie,"class","field svelte-1pqx7i0"),c(Ae,"class","label svelte-1pqx7i0"),c(oe,"type","number"),c(oe,"step",15),c(oe,"min",-360),c(oe,"max",360),c(oe,"class","svelte-1pqx7i0"),c(xe,"class","field svelte-1pqx7i0"),c(Ge,"class","label svelte-1pqx7i0"),c(ue,"type","number"),c(ue,"step",15),c(ue,"min",-360),c(ue,"max",360),c(ue,"class","svelte-1pqx7i0"),c(Le,"class","field svelte-1pqx7i0"),c(R,"class","control svelte-1pqx7i0"),c(i,"class","controls svelte-1pqx7i0"),c(e,"class","engine svelte-1pqx7i0")},m(U,ce){Y(U,e,ce),h(e,t),n[10](t),h(e,s),h(e,i),h(i,o),h(o,a),h(o,r),h(o,l),h(l,u),h(l,_),h(l,d),k(d,n[1]),h(o,y),h(o,f),h(f,m),h(f,x),h(f,b),k(b,n[2]),h(o,S),h(o,D),h(D,I),h(D,v),h(D,p),k(p,n[3]),h(i,w),h(i,T),h(T,A),h(T,q),h(T,O),h(O,H),h(O,Q),h(O,F),k(F,n[7]),h(T,ee),h(T,X),h(X,W),h(X,te),h(X,V),k(V,n[8]),h(T,pe),h(T,se),h(se,P),h(se,Z),h(se,G),k(G,n[9]),h(i,K),h(i,R),h(R,j),h(R,re),h(R,ie),h(ie,$),h(ie,Te),h(ie,z),k(z,n[4]),h(R,Fe),h(R,xe),h(xe,Ae),h(xe,Ve),h(xe,oe),k(oe,n[5]),h(R,Ie),h(R,Le),h(Le,Ge),h(Le,ct),h(Le,ue),k(ue,n[6]),Ke||(ft=[J(d,"input",n[11]),J(b,"input",n[12]),J(p,"input",n[13]),J(F,"input",n[14]),J(V,"input",n[15]),J(G,"input",n[16]),J(z,"input",n[17]),J(oe,"input",n[18]),J(ue,"input",n[19])],Ke=!0)},p(U,ce){ce[0]&2&&M(d.value)!==U[1]&&k(d,U[1]),ce[0]&4&&M(b.value)!==U[2]&&k(b,U[2]),ce[0]&8&&M(p.value)!==U[3]&&k(p,U[3]),ce[0]&128&&M(F.value)!==U[7]&&k(F,U[7]),ce[0]&256&&M(V.value)!==U[8]&&k(V,U[8]),ce[0]&512&&M(G.value)!==U[9]&&k(G,U[9]),ce[0]&16&&M(z.value)!==U[4]&&k(z,U[4]),ce[0]&32&&M(oe.value)!==U[5]&&k(oe,U[5]),ce[0]&64&&M(ue.value)!==U[6]&&k(ue,U[6])},i:N,o:N,d(U){U&&B(e),n[10](null),Ke=!1,me(ft)}}}function Dn(n,e,t){let s,i=0,o=0,a=0,r=0,l=0,u=0,_=1,d=1,y=1,f,m=[],x,b,S,D=!1,I=[0,0],v="rotate",p=[0,0,0],w=[0,0,0];const T=P=>{const Z=P instanceof TouchEvent;D=!0,Z?(v="rotate",I=[P.touches[0].clientX,P.touches[0].clientY]):(v=P.button===0?"rotate":"scale",I=[P.clientX,P.clientY]),p=[r,l,u],w=[_,d,y]},A=()=>{D=!1,v="rotate"},q=P=>{const Z=P instanceof TouchEvent;if(!D)return;const G=Z?P.touches[0].clientX:P.clientX,K=Z?P.touches[0].clientY:P.clientY,R=I[0]-G,j=I[1]-K;if(v==="rotate"&&(t(4,r=p[0]-j),t(5,l=p[1]-R)),v==="scale"){const re=s.clientHeight/4;t(7,_=w[0]+j/re),t(8,d=w[1]+j/re),t(9,y=w[2]+j/re)}};At(()=>{const P=new Ln(s);if(!P.gl)throw"Could not get gl from Engine.";s.addEventListener("contextmenu",z=>z.preventDefault()),s.addEventListener("mousedown",T),s.addEventListener("touchstart",T),s.addEventListener("mouseup",A),s.addEventListener("touchend",A),s.addEventListener("mousemove",q),s.addEventListener("touchmove",q),f=P.gl,S=new Pn(f);const Z=new Dt({gl:f,source:Tn}),G=new qt({gl:f,source:An});S.attachShader(Z),S.attachShader(G),P.linkProgram(S),f.useProgram(S.webGLProgram);var K=fe.translation(-50,-75,-15);K=K.rotateX(Math.PI);for(var R=0;R<we.length;R+=3){var j=K.transformVector(new ut([we[R+0],we[R+1],we[R+2],1]));we[R+0]=j.values[0],we[R+1]=j.values[1],we[R+2]=j.values[2]}const re=new xt({gl:f,program:S,coordinates:$n,src:"./static/f-texture.png"}),ie=new yt({gl:f,program:S,coordinates:we,normals:bt,texture:re});m.push(ie);const $=new xt({gl:f,program:S,coordinates:new Float32Array([0,0,6,0,6,6,0,0,6,6,0,6]),src:"./static/floor.jpeg"}),Te=new yt({gl:f,program:S,coordinates:new Float32Array([-1e3,-100,1e3,1e3,-100,1e3,1e3,-100,-1e3,-1e3,-100,1e3,1e3,-100,-1e3,-1e3,-100,-1e3]),normals:bt,texture:$});m.push(Te),new ve({gl:f,type:"3fv",name:"u_lightColor",program:S,value:new le([1,1,1]).normalize()}),new ve({gl:f,type:"3fv",name:"u_specularColor",program:S,value:new le([1,.2,.2]).normalize()}),new ve({gl:f,type:"1f",name:"u_shininess",program:S,value:50}),new ve({gl:f,type:"3fv",name:"u_viewWorldPosition",program:S,value:new le([0,0,400])}),new ve({gl:f,type:"3fv",name:"u_lightWorldPosition",program:S,value:new le([0,20,100])}),new ve({gl:f,type:"matrix4fv",name:"u_world",program:S,value:fe.identity}),x=new ve({gl:f,type:"matrix4fv",name:"u_worldInverseTranspose",program:S,value:new fe().transpose().invert()}),b=new ve({gl:f,type:"matrix4fv",name:"u_worldViewProjection",program:S,value:fe.identity}),O()});function O(P){if(!f)return;(s.width!==s.clientWidth||s.height!==s.clientHeight)&&(t(0,s.width=s.clientWidth,s),t(0,s.height=s.clientHeight,s),f.viewport(0,0,f.canvas.width,f.canvas.height));let G=s.width,K=s.height;f.clearColor(0,0,0,0),f.clear(f.COLOR_BUFFER_BIT|f.DEPTH_BUFFER_BIT),f.enable(f.CULL_FACE),f.enable(f.DEPTH_TEST);const R=G/K,j=1,re=1e4,ie=Ue(60),$=fe.perspective(ie,R,j,re),Te=new le([0,0,400]);let z=new fe;z=z.rotateY(Ue(l)).rotateX(Ue(r)).rotateZ(Ue(u)).translate(i,o,a);const Fe=new le([z.values[12],z.values[13],z.values[14]]),Ae=fe.lookAt(Te,Fe).invert();let Ve=fe.multiply(Ae,$);const oe=fe.multiply(z,Ve);x.value=z.values,b.value=oe.values,m.forEach(Ie=>Ie.draw()),requestAnimationFrame(O)}function H(P){je[P?"unshift":"push"](()=>{s=P,t(0,s)})}function Q(){i=M(this.value),t(1,i)}function F(){o=M(this.value),t(2,o)}function ee(){a=M(this.value),t(3,a)}function X(){_=M(this.value),t(7,_)}function W(){d=M(this.value),t(8,d)}function te(){y=M(this.value),t(9,y)}function V(){r=M(this.value),t(4,r)}function pe(){l=M(this.value),t(5,l)}function se(){u=M(this.value),t(6,u)}return[s,i,o,a,r,l,u,_,d,y,H,Q,F,ee,X,W,te,V,pe,se]}class qn extends ye{constructor(e){super(),be(this,e,Dn,Cn,ge,{},null,[-1,-1])}}function Mn(n){let e;return{c(){e=Ce("Engine")},m(t,s){Y(t,e,s)},d(t){t&&B(e)}}}function Fn(n){let e;return{c(){e=Ce("Home")},m(t,s){Y(t,e,s)},d(t){t&&B(e)}}}function Vn(n){let e;return{c(){e=Ce("Shader Art")},m(t,s){Y(t,e,s)},d(t){t&&B(e)}}}function In(n){let e,t,s,i,o,a,r,l,u,_,d,y;return i=new Qe({props:{href:"/engine",$$slots:{default:[Mn]},$$scope:{ctx:n}}}),a=new Qe({props:{href:"/home",$$slots:{default:[Fn]},$$scope:{ctx:n}}}),l=new Qe({props:{href:"/shaderart",$$slots:{default:[Vn]},$$scope:{ctx:n}}}),d=new un({props:{routes:n[0]}}),{c(){e=g("div"),t=g("header"),s=g("nav"),de(i.$$.fragment),o=L(),de(a.$$.fragment),r=L(),de(l.$$.fragment),u=L(),_=g("main"),de(d.$$.fragment),c(s,"class","svelte-ucdmxf"),c(t,"class","svelte-ucdmxf"),c(_,"class","svelte-ucdmxf"),c(e,"class","content svelte-ucdmxf")},m(f,m){Y(f,e,m),h(e,t),h(t,s),he(i,s,null),h(s,o),he(a,s,null),h(s,r),he(l,s,null),h(e,u),h(e,_),he(d,_,null),y=!0},p(f,[m]){const x={};m&2&&(x.$$scope={dirty:m,ctx:f}),i.$set(x);const b={};m&2&&(b.$$scope={dirty:m,ctx:f}),a.$set(b);const S={};m&2&&(S.$$scope={dirty:m,ctx:f}),l.$set(S)},i(f){y||(ne(i.$$.fragment,f),ne(a.$$.fragment,f),ne(l.$$.fragment,f),ne(d.$$.fragment,f),y=!0)},o(f){ae(i.$$.fragment,f),ae(a.$$.fragment,f),ae(l.$$.fragment,f),ae(d.$$.fragment,f),y=!1},d(f){f&&B(e),_e(i),_e(a),_e(l),_e(d)}}}function Gn(n){return[{"/":fn,"/shaderart":xn,"/engine":qn}]}class Un extends ye{constructor(e){super(),be(this,e,Gn,In,ge,{})}}new Un({target:document.getElementById("app")});
//# sourceMappingURL=index-BoM2qG-v.js.map
