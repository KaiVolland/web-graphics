var He=Object.defineProperty;var Ye=(t,e,n)=>e in t?He(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var v=(t,e,n)=>(Ye(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const s of l.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function o(i){if(i.ep)return;i.ep=!0;const l=n(i);fetch(i.href,l)}})();function S(){}function ge(t,e){for(const n in e)t[n]=e[n];return t}function xe(t){return t()}function we(){return Object.create(null)}function N(t){t.forEach(xe)}function se(t){return typeof t=="function"}function U(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function Me(t){return Object.keys(t).length===0}function Fe(t,...e){if(t==null){for(const o of e)o(void 0);return S}const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function J(t,e,n){t.$$.on_destroy.push(Fe(e,n))}function Xe(t,e,n,o){if(t){const i=Oe(t,e,n,o);return t[0](i)}}function Oe(t,e,n,o){return t[1]&&o?ge(n.ctx.slice(),t[1](o(e))):n.ctx}function We(t,e,n,o){if(t[2]&&o){const i=t[2](o(n));if(e.dirty===void 0)return i;if(typeof i=="object"){const l=[],s=Math.max(e.dirty.length,i.length);for(let r=0;r<s;r+=1)l[r]=e.dirty[r]|i[r];return l}return e.dirty|i}return e.dirty}function Ke(t,e,n,o,i,l){if(i){const s=Oe(e,n,o,l);t.p(s,i)}}function Je(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let o=0;o<n;o++)e[o]=-1;return e}return-1}function Qe(t){return t&&se(t.destroy)?t.destroy:S}function L(t,e){t.appendChild(e)}function y(t,e,n){t.insertBefore(e,n||null)}function w(t){t.parentNode&&t.parentNode.removeChild(t)}function $(t){return document.createElement(t)}function I(t){return document.createTextNode(t)}function j(){return I(" ")}function pe(){return I("")}function V(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function d(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function D(t){return t===""?null:+t}function Ze(t){return Array.from(t.childNodes)}function R(t,e){t.value=e??""}function ye(t,e,n){t.classList.toggle(e,!!n)}function et(t,e,{bubbles:n=!1,cancelable:o=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:o})}function ne(t,e){return new t(e)}let Q;function K(t){Q=t}function ae(){if(!Q)throw new Error("Function called outside component initialization");return Q}function je(t){ae().$$.on_mount.push(t)}function tt(t){ae().$$.after_update.push(t)}function nt(t){ae().$$.on_destroy.push(t)}function rt(){const t=ae();return(e,n,{cancelable:o=!1}={})=>{const i=t.$$.callbacks[e];if(i){const l=et(e,n,{cancelable:o});return i.slice().forEach(s=>{s.call(t,l)}),!l.defaultPrevented}return!0}}function Se(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(o=>o.call(this,e))}const X=[],re=[];let W=[];const $e=[],Ge=Promise.resolve();let de=!1;function De(){de||(de=!0,Ge.then(Ie))}function ot(){return De(),Ge}function _e(t){W.push(t)}const ce=new Set;let Y=0;function Ie(){if(Y!==0)return;const t=Q;do{try{for(;Y<X.length;){const e=X[Y];Y++,K(e),it(e.$$)}}catch(e){throw X.length=0,Y=0,e}for(K(null),X.length=0,Y=0;re.length;)re.pop()();for(let e=0;e<W.length;e+=1){const n=W[e];ce.has(n)||(ce.add(n),n())}W.length=0}while(X.length);for(;$e.length;)$e.pop()();de=!1,ce.clear(),K(t)}function it(t){if(t.fragment!==null){t.update(),N(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(_e)}}function st(t){const e=[],n=[];W.forEach(o=>t.indexOf(o)===-1?e.push(o):n.push(o)),n.forEach(o=>o()),W=e}const Z=new Set;let H;function me(){H={r:0,c:[],p:H}}function be(){H.r||N(H.c),H=H.p}function P(t,e){t&&t.i&&(Z.delete(t),t.i(e))}function C(t,e,n,o){if(t&&t.o){if(Z.has(t))return;Z.add(t),H.c.push(()=>{Z.delete(t),o&&(n&&t.d(1),o())}),t.o(e)}else o&&o()}function oe(t,e){const n={},o={},i={$$scope:1};let l=t.length;for(;l--;){const s=t[l],r=e[l];if(r){for(const a in s)a in r||(o[a]=1);for(const a in r)i[a]||(n[a]=r[a],i[a]=1);t[l]=r}else for(const a in s)i[a]=1}for(const s in o)s in n||(n[s]=void 0);return n}function ie(t){return typeof t=="object"&&t!==null?t:{}}function G(t){t&&t.c()}function x(t,e,n){const{fragment:o,after_update:i}=t.$$;o&&o.m(e,n),_e(()=>{const l=t.$$.on_mount.map(xe).filter(se);t.$$.on_destroy?t.$$.on_destroy.push(...l):N(l),t.$$.on_mount=[]}),i.forEach(_e)}function F(t,e){const n=t.$$;n.fragment!==null&&(st(n.after_update),N(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function at(t,e){t.$$.dirty[0]===-1&&(X.push(t),De(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function z(t,e,n,o,i,l,s=null,r=[-1]){const a=Q;K(t);const u=t.$$={fragment:null,ctx:[],props:l,update:S,not_equal:i,bound:we(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(a?a.$$.context:[])),callbacks:we(),dirty:r,skip_bound:!1,root:e.target||a.$$.root};s&&s(u.root);let f=!1;if(u.ctx=n?n(t,e.props||{},(_,g,...c)=>{const h=c.length?c[0]:g;return u.ctx&&i(u.ctx[_],u.ctx[_]=h)&&(!u.skip_bound&&u.bound[_]&&u.bound[_](h),f&&at(t,_)),g}):[],u.update(),f=!0,N(u.before_update),u.fragment=o?o(u.ctx):!1,e.target){if(e.hydrate){const _=Ze(e.target);u.fragment&&u.fragment.l(_),_.forEach(w)}else u.fragment&&u.fragment.c();e.intro&&P(t.$$.fragment),x(t,e.target,e.anchor),Ie()}K(a)}class q{constructor(){v(this,"$$");v(this,"$$set")}$destroy(){F(this,1),this.$destroy=S}$on(e,n){if(!se(n))return S;const o=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return o.push(n),()=>{const i=o.indexOf(n);i!==-1&&o.splice(i,1)}}$set(e){this.$$set&&!Me(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const lt="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(lt);const M=[];function Ne(t,e){return{subscribe:le(t,e).subscribe}}function le(t,e=S){let n;const o=new Set;function i(r){if(U(t,r)&&(t=r,n)){const a=!M.length;for(const u of o)u[1](),M.push(u,t);if(a){for(let u=0;u<M.length;u+=2)M[u][0](M[u+1]);M.length=0}}}function l(r){i(r(t))}function s(r,a=S){const u=[r,a];return o.add(u),o.size===1&&(n=e(i,l)||S),r(t),()=>{o.delete(u),o.size===0&&n&&(n(),n=null)}}return{set:i,update:l,subscribe:s}}function Ue(t,e,n){const o=!Array.isArray(t),i=o?[t]:t;if(!i.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const l=e.length<2;return Ne(n,(s,r)=>{let a=!1;const u=[];let f=0,_=S;const g=()=>{if(f)return;_();const h=e(o?u[0]:u,s,r);l?s(h):_=se(h)?h:S},c=i.map((h,A)=>Fe(h,E=>{u[A]=E,f&=~(1<<A),a&&g()},()=>{f|=1<<A}));return a=!0,g(),function(){N(c),_(),a=!1}})}function ut(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,o,i,l,s=[],r="",a=t.split("/");for(a[0]||a.shift();i=a.shift();)n=i[0],n==="*"?(s.push("wild"),r+="/(.*)"):n===":"?(o=i.indexOf("?",1),l=i.indexOf(".",1),s.push(i.substring(1,~o?o:~l?l:i.length)),r+=~o&&!~l?"(?:/([^/]+?))?":"/([^/]+?)",~l&&(r+=(~o?"?":"")+"\\"+i.substring(l))):r+="/"+i;return{keys:s,pattern:new RegExp("^"+r+(e?"(?=$|/)":"/?$"),"i")}}function ct(t){let e,n,o;const i=[t[2]];var l=t[0];function s(r,a){let u={};if(a!==void 0&&a&4)u=oe(i,[ie(r[2])]);else for(let f=0;f<i.length;f+=1)u=ge(u,i[f]);return{props:u}}return l&&(e=ne(l,s(t)),e.$on("routeEvent",t[7])),{c(){e&&G(e.$$.fragment),n=pe()},m(r,a){e&&x(e,r,a),y(r,n,a),o=!0},p(r,a){if(a&1&&l!==(l=r[0])){if(e){me();const u=e;C(u.$$.fragment,1,0,()=>{F(u,1)}),be()}l?(e=ne(l,s(r,a)),e.$on("routeEvent",r[7]),G(e.$$.fragment),P(e.$$.fragment,1),x(e,n.parentNode,n)):e=null}else if(l){const u=a&4?oe(i,[ie(r[2])]):{};e.$set(u)}},i(r){o||(e&&P(e.$$.fragment,r),o=!0)},o(r){e&&C(e.$$.fragment,r),o=!1},d(r){r&&w(n),e&&F(e,r)}}}function ft(t){let e,n,o;const i=[{params:t[1]},t[2]];var l=t[0];function s(r,a){let u={};if(a!==void 0&&a&6)u=oe(i,[a&2&&{params:r[1]},a&4&&ie(r[2])]);else for(let f=0;f<i.length;f+=1)u=ge(u,i[f]);return{props:u}}return l&&(e=ne(l,s(t)),e.$on("routeEvent",t[6])),{c(){e&&G(e.$$.fragment),n=pe()},m(r,a){e&&x(e,r,a),y(r,n,a),o=!0},p(r,a){if(a&1&&l!==(l=r[0])){if(e){me();const u=e;C(u.$$.fragment,1,0,()=>{F(u,1)}),be()}l?(e=ne(l,s(r,a)),e.$on("routeEvent",r[6]),G(e.$$.fragment),P(e.$$.fragment,1),x(e,n.parentNode,n)):e=null}else if(l){const u=a&6?oe(i,[a&2&&{params:r[1]},a&4&&ie(r[2])]):{};e.$set(u)}},i(r){o||(e&&P(e.$$.fragment,r),o=!0)},o(r){e&&C(e.$$.fragment,r),o=!1},d(r){r&&w(n),e&&F(e,r)}}}function ht(t){let e,n,o,i;const l=[ft,ct],s=[];function r(a,u){return a[1]?0:1}return e=r(t),n=s[e]=l[e](t),{c(){n.c(),o=pe()},m(a,u){s[e].m(a,u),y(a,o,u),i=!0},p(a,[u]){let f=e;e=r(a),e===f?s[e].p(a,u):(me(),C(s[f],1,1,()=>{s[f]=null}),be(),n=s[e],n?n.p(a,u):(n=s[e]=l[e](a),n.c()),P(n,1),n.m(o.parentNode,o))},i(a){i||(P(n),i=!0)},o(a){C(n),i=!1},d(a){a&&w(o),s[e].d(a)}}}function Le(){const t=window.location.href.indexOf("#/");let e=t>-1?window.location.href.substr(t+1):"/";const n=e.indexOf("?");let o="";return n>-1&&(o=e.substr(n+1),e=e.substr(0,n)),{location:e,querystring:o}}const ve=Ne(null,function(e){e(Le());const n=()=>{e(Le())};return window.addEventListener("hashchange",n,!1),function(){window.removeEventListener("hashchange",n,!1)}}),dt=Ue(ve,t=>t.location);Ue(ve,t=>t.querystring);const Ee=le(void 0);function _t(t,e){if(e=ke(e),!t||!t.tagName||t.tagName.toLowerCase()!="a")throw Error('Action "link" can only be used with <a> tags');return Ae(t,e),{update(n){n=ke(n),Ae(t,n)}}}function gt(t){t?window.scrollTo(t.__svelte_spa_router_scrollX,t.__svelte_spa_router_scrollY):window.scrollTo(0,0)}function Ae(t,e){let n=e.href||t.getAttribute("href");if(n&&n.charAt(0)=="/")n="#"+n;else if(!n||n.length<2||n.slice(0,2)!="#/")throw Error('Invalid value for "href" attribute: '+n);t.setAttribute("href",n),t.addEventListener("click",o=>{o.preventDefault(),e.disabled||pt(o.currentTarget.getAttribute("href"))})}function ke(t){return t&&typeof t=="string"?{href:t}:t||{}}function pt(t){history.replaceState({...history.state,__svelte_spa_router_scrollX:window.scrollX,__svelte_spa_router_scrollY:window.scrollY},void 0),window.location.hash=t}function mt(t,e,n){let{routes:o={}}=e,{prefix:i=""}=e,{restoreScrollState:l=!1}=e;class s{constructor(p,b){if(!b||typeof b!="function"&&(typeof b!="object"||b._sveltesparouter!==!0))throw Error("Invalid component object");if(!p||typeof p=="string"&&(p.length<1||p.charAt(0)!="/"&&p.charAt(0)!="*")||typeof p=="object"&&!(p instanceof RegExp))throw Error('Invalid value for "path" argument - strings must start with / or *');const{pattern:T,keys:k}=ut(p);this.path=p,typeof b=="object"&&b._sveltesparouter===!0?(this.component=b.component,this.conditions=b.conditions||[],this.userData=b.userData,this.props=b.props||{}):(this.component=()=>Promise.resolve(b),this.conditions=[],this.props={}),this._pattern=T,this._keys=k}match(p){if(i){if(typeof i=="string")if(p.startsWith(i))p=p.substr(i.length)||"/";else return null;else if(i instanceof RegExp){const B=p.match(i);if(B&&B[0])p=p.substr(B[0].length)||"/";else return null}}const b=this._pattern.exec(p);if(b===null)return null;if(this._keys===!1)return b;const T={};let k=0;for(;k<this._keys.length;){try{T[this._keys[k]]=decodeURIComponent(b[k+1]||"")||null}catch{T[this._keys[k]]=null}k++}return T}async checkConditions(p){for(let b=0;b<this.conditions.length;b++)if(!await this.conditions[b](p))return!1;return!0}}const r=[];o instanceof Map?o.forEach((m,p)=>{r.push(new s(p,m))}):Object.keys(o).forEach(m=>{r.push(new s(m,o[m]))});let a=null,u=null,f={};const _=rt();async function g(m,p){await ot(),_(m,p)}let c=null,h=null;l&&(h=m=>{m.state&&(m.state.__svelte_spa_router_scrollY||m.state.__svelte_spa_router_scrollX)?c=m.state:c=null},window.addEventListener("popstate",h),tt(()=>{gt(c)}));let A=null,E=null;const O=ve.subscribe(async m=>{A=m;let p=0;for(;p<r.length;){const b=r[p].match(m.location);if(!b){p++;continue}const T={route:r[p].path,location:m.location,querystring:m.querystring,userData:r[p].userData,params:b&&typeof b=="object"&&Object.keys(b).length?b:null};if(!await r[p].checkConditions(T)){n(0,a=null),E=null,g("conditionsFailed",T);return}g("routeLoading",Object.assign({},T));const k=r[p].component;if(E!=k){k.loading?(n(0,a=k.loading),E=k,n(1,u=k.loadingParams),n(2,f={}),g("routeLoaded",Object.assign({},T,{component:a,name:a.name,params:u}))):(n(0,a=null),E=null);const B=await k();if(m!=A)return;n(0,a=B&&B.default||B),E=k}b&&typeof b=="object"&&Object.keys(b).length?n(1,u=b):n(1,u=null),n(2,f=r[p].props),g("routeLoaded",Object.assign({},T,{component:a,name:a.name,params:u})).then(()=>{Ee.set(u)});return}n(0,a=null),E=null,Ee.set(void 0)});nt(()=>{O(),h&&window.removeEventListener("popstate",h)});function ue(m){Se.call(this,t,m)}function qe(m){Se.call(this,t,m)}return t.$$set=m=>{"routes"in m&&n(3,o=m.routes),"prefix"in m&&n(4,i=m.prefix),"restoreScrollState"in m&&n(5,l=m.restoreScrollState)},t.$$.update=()=>{t.$$.dirty&32&&(history.scrollRestoration=l?"manual":"auto")},[a,u,f,o,i,l,ue,qe]}class bt extends q{constructor(e){super(),z(this,e,mt,ht,U,{routes:3,prefix:4,restoreScrollState:5})}}function vt(t){let e;return{c(){e=I("Nothing to see here. Go to Engine or Shader Art.")},m(n,o){y(n,e,o)},p:S,i:S,o:S,d(n){n&&w(e)}}}class wt extends q{constructor(e){super(),z(this,e,null,vt,U,{})}}const yt=`#version 300 es

layout(location = 0) in vec2 aPosition;
out vec2 fragCoord;

void main()
{
    fragCoord = aPosition;
    gl_Position = vec4(aPosition, 0.0, 1.0);
}
`,St=`#version 300 es

precision mediump float;

in vec2 fragCoord;
uniform float uTime;
uniform float uDensity;

out vec4 fragColor;

//https://iquilezles.org/articles/palettes/
vec3 palette( float t ) {
    vec3 a = vec3(0.5, 0.5, 0.5);
    vec3 b = vec3(0.5, 0.5, 0.5);
    vec3 c = vec3(1.0, 1.0, 1.0);
    vec3 d = vec3(0.263,0.416,0.557);

    return a + b*cos( 6.28318*(c*t+d) );
}

void main()
{
    vec2 uv = fragCoord;
    float d = length(uv);

    vec2 uv0 = uv;
    vec3 finalColor = vec3(0.0);

    for (float i = 0.0; i < 4.0; i++) {
        uv = fract(uv * uDensity / 10.0) - 0.5;

        float d = length(uv) * exp(-length(uv0));

        vec3 col = palette(length(uv0) + i*.4 + uTime*.4);

        d = sin(d * 8. + uTime)/8.;
        d = abs(d);

        d = pow(0.01 / d, 1.2);

        finalColor += col * d;
    }

    fragColor = vec4(finalColor, 1.0);
}
`,ee=le(15),te=le(1e3);function $t(t){let e,n,o,i,l;return{c(){e=$("input"),n=j(),o=$("input"),d(e,"type","number"),d(e,"min","100"),d(e,"max","3000"),d(o,"id",t[0]),d(o,"type","range"),d(o,"min","100"),d(o,"max","3000")},m(s,r){y(s,e,r),R(e,t[1]),y(s,n,r),y(s,o,r),R(o,t[1]),i||(l=[V(e,"input",t[2]),V(o,"change",t[3]),V(o,"input",t[3])],i=!0)},p(s,[r]){r&2&&D(e.value)!==s[1]&&R(e,s[1]),r&1&&d(o,"id",s[0]),r&2&&R(o,s[1])},i:S,o:S,d(s){s&&(w(e),w(n),w(o)),i=!1,N(l)}}}function Lt(t,e,n){let o;J(t,te,r=>n(1,o=r));let{id:i="speed-slider"}=e;function l(){o=D(this.value),te.set(o)}function s(){o=D(this.value),te.set(o)}return t.$$set=r=>{"id"in r&&n(0,i=r.id)},[i,o,l,s]}class Et extends q{constructor(e){super(),z(this,e,Lt,$t,U,{id:0})}}function At(t){let e,n,o,i,l;return{c(){e=$("input"),n=j(),o=$("input"),d(e,"type","number"),d(e,"min","1"),d(e,"max","30"),d(o,"id",t[0]),d(o,"type","range"),d(o,"min","1"),d(o,"max","30")},m(s,r){y(s,e,r),R(e,t[1]),y(s,n,r),y(s,o,r),R(o,t[1]),i||(l=[V(e,"input",t[2]),V(o,"change",t[3]),V(o,"input",t[3])],i=!0)},p(s,[r]){r&2&&D(e.value)!==s[1]&&R(e,s[1]),r&1&&d(o,"id",s[0]),r&2&&R(o,s[1])},i:S,o:S,d(s){s&&(w(e),w(n),w(o)),i=!1,N(l)}}}function kt(t,e,n){let o;J(t,ee,r=>n(1,o=r));let{id:i="density-slider"}=e;function l(){o=D(this.value),ee.set(o)}function s(){o=D(this.value),ee.set(o)}return t.$$set=r=>{"id"in r&&n(0,i=r.id)},[i,o,l,s]}class Pt extends q{constructor(e){super(),z(this,e,kt,At,U,{id:0})}}function Ct(t){let e,n,o,i,l,s,r,a,u,f,_;return i=new Et({props:{id:"speed-slider"}}),a=new Pt({props:{id:"density-slider"}}),{c(){e=$("div"),n=$("label"),n.textContent="Speed",o=j(),G(i.$$.fragment),l=j(),s=$("label"),s.textContent="Density",r=j(),G(a.$$.fragment),u=j(),f=$("canvas"),d(n,"for","speed-slider"),d(s,"for","speed-slider"),d(e,"class","toolbar"),d(f,"width","1024"),d(f,"height","1024")},m(g,c){y(g,e,c),L(e,n),L(e,o),x(i,e,null),L(e,l),L(e,s),L(e,r),x(a,e,null),y(g,u,c),y(g,f,c),t[1](f),_=!0},p:S,i(g){_||(P(i.$$.fragment,g),P(a.$$.fragment,g),_=!0)},o(g){C(i.$$.fragment,g),C(a.$$.fragment,g),_=!1},d(g){g&&(w(e),w(u),w(f)),F(i),F(a),t[1](null)}}}function Rt(t,e,n){let o,i;J(t,te,r=>n(2,o=r)),J(t,ee,r=>n(3,i=r));let l;je(()=>{const r=l.getContext("webgl2");if(!r)return;const a=r.createProgram();if(!a)return;const u=r.createShader(r.VERTEX_SHADER);if(!u)return;r.shaderSource(u,yt),r.compileShader(u),r.attachShader(a,u);const f=r.createShader(r.FRAGMENT_SHADER);if(!f)return;r.shaderSource(f,St),r.compileShader(f),r.attachShader(a,f),r.linkProgram(a),r.getProgramParameter(a,r.LINK_STATUS)||(console.log(r.getShaderInfoLog(u)),console.log(r.getShaderInfoLog(f)));const _=new Float32Array([-1,-1,1,-1,-1,1,1,-1,-1,1,1,1]),g=r.getUniformLocation(a,"uResolution");r.uniform2f(g,1024,1024);const c=r.getUniformLocation(a,"uTime");r.uniform1f(c,0);const h=r.getUniformLocation(a,"uDensity");r.uniform1f(h,15);const A=r.createBuffer();r.bindBuffer(r.ARRAY_BUFFER,A),r.bufferData(r.ARRAY_BUFFER,_,r.STATIC_DRAW);const E=0;r.enableVertexAttribArray(E),r.vertexAttribPointer(E,2,r.FLOAT,!1,2*4,0);const O=(ue=0)=>{r.clearColor(0,0,0,1),r.clear(r.COLOR_BUFFER_BIT),r.uniform1f(h,i),r.uniform1f(c,ue/1e6*o),r.useProgram(a),r.drawArrays(r.TRIANGLES,0,6),requestAnimationFrame(O)};O()});function s(r){re[r?"unshift":"push"](()=>{l=r,n(0,l)})}return[l,s]}class Tt extends q{constructor(e){super(),z(this,e,Rt,Ct,U,{})}}function xt(t){let e,n,o,i;const l=t[3].default,s=Xe(l,t,t[2],null);return{c(){e=$("a"),s&&s.c(),d(e,"href",t[0]),d(e,"class","svelte-1dzzut9"),ye(e,"active",t[1]===t[0])},m(r,a){y(r,e,a),s&&s.m(e,null),n=!0,o||(i=Qe(_t.call(null,e)),o=!0)},p(r,[a]){s&&s.p&&(!n||a&4)&&Ke(s,l,r,r[2],n?We(l,r[2],a,null):Je(r[2]),null),(!n||a&1)&&d(e,"href",r[0]),(!n||a&3)&&ye(e,"active",r[1]===r[0])},i(r){n||(P(s,r),n=!0)},o(r){C(s,r),n=!1},d(r){r&&w(e),s&&s.d(r),o=!1,i()}}}function Ft(t,e,n){let o;J(t,dt,r=>n(1,o=r));let{$$slots:i={},$$scope:l}=e,{href:s=""}=e;return t.$$set=r=>{"href"in r&&n(0,s=r.href),"$$scope"in r&&n(2,l=r.$$scope)},[s,o,l,i]}class fe extends q{constructor(e){super(),z(this,e,Ft,xt,U,{href:0})}}const Ot=`#version 300 es

// an attribute is an input (in) to a vertex shader.
// It will receive data from a buffer
in vec2 a_position;

// Used to pass in the resolution of the canvas
uniform vec2 u_resolution;

// translation to add to position
uniform vec2 u_translation;

// all shaders have a main function
void main() {
  // Add in the translation
  vec2 position = a_position + u_translation;

  // convert the position from pixels to 0.0 to 1.0
  vec2 zeroToOne = position / u_resolution;

  // convert from 0->1 to 0->2
  vec2 zeroToTwo = zeroToOne * 2.0;

  // convert from 0->2 to -1->+1 (clipspace)
  vec2 clipSpace = zeroToTwo - 1.0;

  gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);
}
`,jt=`#version 300 es

precision highp float;

uniform vec4 u_color;

// we need to declare an output for the fragment shader
out vec4 outColor;

void main() {
  outColor = u_color;
}
`;class Gt{constructor(e){v(this,"_gl",null);v(this,"_canvas");v(this,"_width");v(this,"_height");this._width=e.width,this._height=e.height,this._canvas=e,this.updateGL(),this.updateViewPort()}set canvas(e){this._canvas=e,this.updateGL(),this.updateViewPort()}updateGL(){const e=this._canvas.getContext("webgl2");if(!e)throw`Could not get webgl2 context of canvas element: ${this._canvas}`;this._gl=e}updateViewPort(){if(!this._gl)throw"Could not update viewport.";this._gl.viewport(0,0,this._gl.canvas.width,this._gl.canvas.height)}linkProgram(e){if(!this._gl)throw"Could not link program.";this._gl.linkProgram(e.webGLProgram),this._gl.getProgramParameter(e.webGLProgram,this._gl.LINK_STATUS)||(e.vertexShader&&console.log(this._gl.getShaderInfoLog(e.vertexShader.webGLShader)),e.fragmentShader&&console.log(this._gl.getShaderInfoLog(e.fragmentShader.webGLShader)))}get width(){return this._width}get height(){return this._height}get gl(){return this._gl}}class Be{constructor({gl:e,source:n}){v(this,"_gl");v(this,"_webGLShader");v(this,"source",null);this._gl=e,this._webGLShader=this.create(),n&&(this._gl.shaderSource(this._webGLShader,n),this._gl.compileShader(this._webGLShader))}get webGLShader(){return this._webGLShader}}class Ve extends Be{constructor({gl:e,source:n}){super({gl:e,source:n})}create(){const e=this._gl.createShader(this._gl.VERTEX_SHADER);if(!e)throw"Could not create VertexShader";return e}updateSource(e){}}class ze extends Be{constructor({gl:e,source:n}){super({gl:e,source:n})}create(){const e=this._gl.createShader(this._gl.FRAGMENT_SHADER);if(!e)throw"Could not create FragmentShader";return e}updateSource(e){}}class Dt{constructor(e){v(this,"_gl");v(this,"_webGLProgram");v(this,"_vertexShader",null);v(this,"_fragmentShader",null);this._gl=e;const n=e.createProgram();if(!n)throw"Could not create program";this._webGLProgram=n}attachShader(e){this._gl.attachShader(this._webGLProgram,e.webGLShader),e instanceof Ve&&(this._vertexShader=e),e instanceof ze&&(this._fragmentShader=e)}getUniformLocation(e){return this._gl.getUniformLocation(this._webGLProgram,e)}get webGLProgram(){return this._webGLProgram}get vertexShader(){return this._vertexShader}get fragmentShader(){return this._fragmentShader}}class It{constructor({gl:e,name:n,program:o}){v(this,"_gl");v(this,"_buffer");v(this,"_name");v(this,"_program",null);v(this,"_vao",null);this._gl=e,this._name=n,o&&(this._program=o);const i=e.createBuffer();if(!i)throw"Could not create buffer";this._buffer=i}get name(){return this._name}get buffer(){return this._buffer}get vao(){if(!this._vao)throw"Could not get vao of attribute. Was the data set already?";return this._vao}getLocation(){if(!this._program)throw"Could not get location of attribute. No program attached.";return this._gl.getAttribLocation(this._program.webGLProgram,this._name)}setBufferData(e){this._vao=this._gl.createVertexArray(),this._gl.bindVertexArray(this._vao),this._gl.enableVertexAttribArray(this.getLocation()),this._gl.bindBuffer(this._gl.ARRAY_BUFFER,this._buffer),this._gl.bufferData(this._gl.ARRAY_BUFFER,e,this._gl.STATIC_DRAW);var n=2,o=this._gl.FLOAT,i=!1,l=0,s=0;this._gl.vertexAttribPointer(this.getLocation(),n,o,i,l,s)}}class he{constructor({gl:e,type:n,name:o,program:i,value:l}){v(this,"_gl");v(this,"_value",null);v(this,"_type");v(this,"_name");v(this,"_program",null);this._gl=e,this._name=o,this._type=n,i&&(this._program=i),l&&(this.value=l)}set value(e){if(this._value=e,Array.isArray(e))switch(this._type){case"2i":case"2f":this._gl.uniform2f(this.getLocation(),e[0],e[1]);break;case"3f":case"3i":this._gl.uniform3f(this.getLocation(),e[0],e[1],e[2]);break;case"4f":case"4i":this._gl.uniform4f(this.getLocation(),e[0],e[1],e[2],e[3]);break;case"2fv":this._gl.uniform2fv(this.getLocation(),e);break;case"3fv":this._gl.uniform3fv(this.getLocation(),e);break;case"4fv":this._gl.uniform4fv(this.getLocation(),e);break;default:throw`Invalid value ${e} for type ${this._type}`}else switch(this._type){case"1f":case"1i":this._gl.uniform1i(this.getLocation(),e);break;default:throw`Invalid value ${e} for type ${this._type}`}}getLocation(){if(!this._program)throw"Could not get location of uniform. No program attached.";return this._gl.getUniformLocation(this._program.webGLProgram,this._name)}}const Nt=new Float32Array([0,0,30,0,0,150,0,150,30,0,30,150,30,0,100,0,30,30,30,30,100,0,100,30,30,60,67,60,30,90,30,90,67,60,67,90]);function Ut(t){let e,n,o,i,l,s,r,a,u,f,_,g;return{c(){e=$("canvas"),n=j(),o=$("div"),i=$("span"),l=I("Positon:"),s=$("span"),r=I("x: "),a=$("input"),u=I(`
    y: `),f=$("input"),d(e,"width","512"),d(e,"height","512"),d(e,"class","svelte-7jrn26"),d(a,"type","number"),d(a,"min",0),d(a,"max",412),d(f,"type","number"),d(f,"min",0),d(f,"max",362)},m(c,h){y(c,e,h),t[3](e),y(c,n,h),y(c,o,h),L(o,i),L(i,l),L(i,s),L(s,r),L(s,a),R(a,t[1]),L(s,u),L(s,f),R(f,t[2]),_||(g=[V(a,"input",t[4]),V(f,"input",t[5])],_=!0)},p(c,[h]){h&2&&D(a.value)!==c[1]&&R(a,c[1]),h&4&&D(f.value)!==c[2]&&R(f,c[2])},i:S,o:S,d(c){c&&(w(e),w(n),w(o)),t[3](null),_=!1,N(g)}}}let Pe=255,Ce=0,Re=0,Te=1;function Bt(t,e,n){let o,i=0,l=0,s,r,a;je(()=>{const c=new Gt(o);if(!c.gl)throw"Could not get gl from Engine.";s=c.gl;const h=new Dt(s),A=new Ve({gl:s,source:Ot}),E=new ze({gl:s,source:jt});h.attachShader(A),h.attachShader(E),c.linkProgram(h),s.useProgram(h.webGLProgram);const O=new It({gl:s,name:"a_position",program:h});O.setBufferData(Nt),s.bindVertexArray(O.vao),new he({gl:s,type:"2f",name:"u_resolution",program:h,value:[s.canvas.width,s.canvas.height]}),a=new he({gl:s,type:"4fv",name:"u_color",program:h,value:[Pe,Ce,Re,Te]}),r=new he({gl:s,type:"2fv",name:"u_translation",program:h,value:[i,l]}),u()});function u(){if(s){r.value=[i,l],a.value=[Pe,Ce,Re,Te],s.clearColor(0,0,0,0),s.clear(s.COLOR_BUFFER_BIT|s.DEPTH_BUFFER_BIT);var c=s.TRIANGLES,h=0,A=18;s.drawArrays(c,h,A),requestAnimationFrame(u)}}function f(c){re[c?"unshift":"push"](()=>{o=c,n(0,o)})}function _(){i=D(this.value),n(1,i)}function g(){l=D(this.value),n(2,l)}return[o,i,l,f,_,g]}class Vt extends q{constructor(e){super(),z(this,e,Bt,Ut,U,{})}}function zt(t){let e;return{c(){e=I("Engine")},m(n,o){y(n,e,o)},d(n){n&&w(e)}}}function qt(t){let e;return{c(){e=I("Home")},m(n,o){y(n,e,o)},d(n){n&&w(e)}}}function Ht(t){let e;return{c(){e=I("Shader Art")},m(n,o){y(n,e,o)},d(n){n&&w(e)}}}function Yt(t){let e,n,o,i,l,s,r,a,u,f,_,g;return i=new fe({props:{href:"/engine",$$slots:{default:[zt]},$$scope:{ctx:t}}}),s=new fe({props:{href:"/home",$$slots:{default:[qt]},$$scope:{ctx:t}}}),a=new fe({props:{href:"/shaderart",$$slots:{default:[Ht]},$$scope:{ctx:t}}}),_=new bt({props:{routes:t[0]}}),{c(){e=$("div"),n=$("header"),o=$("nav"),G(i.$$.fragment),l=j(),G(s.$$.fragment),r=j(),G(a.$$.fragment),u=j(),f=$("main"),G(_.$$.fragment),d(o,"class","svelte-j54tjh"),d(n,"class","svelte-j54tjh"),d(f,"class","svelte-j54tjh"),d(e,"class","content svelte-j54tjh")},m(c,h){y(c,e,h),L(e,n),L(n,o),x(i,o,null),L(o,l),x(s,o,null),L(o,r),x(a,o,null),L(e,u),L(e,f),x(_,f,null),g=!0},p(c,[h]){const A={};h&2&&(A.$$scope={dirty:h,ctx:c}),i.$set(A);const E={};h&2&&(E.$$scope={dirty:h,ctx:c}),s.$set(E);const O={};h&2&&(O.$$scope={dirty:h,ctx:c}),a.$set(O)},i(c){g||(P(i.$$.fragment,c),P(s.$$.fragment,c),P(a.$$.fragment,c),P(_.$$.fragment,c),g=!0)},o(c){C(i.$$.fragment,c),C(s.$$.fragment,c),C(a.$$.fragment,c),C(_.$$.fragment,c),g=!1},d(c){c&&w(e),F(i),F(s),F(a),F(_)}}}function Mt(t){return[{"/":wt,"/shaderart":Tt,"/engine":Vt}]}class Xt extends q{constructor(e){super(),z(this,e,Mt,Yt,U,{})}}new Xt({target:document.getElementById("app")});
