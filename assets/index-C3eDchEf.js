var Re=Object.defineProperty;var qe=(n,t,e)=>t in n?Re(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var A=(n,t,e)=>(qe(n,typeof t!="symbol"?t+"":t,e),e);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function e(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(i){if(i.ep)return;i.ep=!0;const o=e(i);fetch(i.href,o)}})();function O(){}function re(n,t){for(const e in t)n[e]=t[e];return n}function be(n){return n()}function he(){return Object.create(null)}function mt(n){n.forEach(be)}function Wt(n){return typeof n=="function"}function gt(n,t){return n!=n?t==t:n!==t||n&&typeof n=="object"||typeof n=="function"}function De(n){return Object.keys(n).length===0}function ye(n,...t){if(n==null){for(const s of t)s(void 0);return O}const e=n.subscribe(...t);return e.unsubscribe?()=>e.unsubscribe():e}function qt(n,t,e){n.$$.on_destroy.push(ye(t,e))}function Ve(n,t,e,s){if(n){const i=Se(n,t,e,s);return n[0](i)}}function Se(n,t,e,s){return n[1]&&s?re(e.ctx.slice(),n[1](s(t))):e.ctx}function Me(n,t,e,s){if(n[2]&&s){const i=n[2](s(e));if(t.dirty===void 0)return i;if(typeof i=="object"){const o=[],a=Math.max(t.dirty.length,i.length);for(let r=0;r<a;r+=1)o[r]=t.dirty[r]|i[r];return o}return t.dirty|i}return t.dirty}function ze(n,t,e,s,i,o){if(i){const a=Se(t,e,s,o);n.p(a,i)}}function Fe(n){if(n.ctx.length>32){const t=[],e=n.ctx.length/32;for(let s=0;s<e;s++)t[s]=-1;return t}return-1}function Ie(n){return n&&Wt(n.destroy)?n.destroy:O}function h(n,t){n.appendChild(t)}function H(n,t,e){n.insertBefore(t,e||null)}function Y(n){n.parentNode&&n.parentNode.removeChild(n)}function g(n){return document.createElement(n)}function Tt(n){return document.createTextNode(n)}function P(){return Tt(" ")}function ie(){return Tt("")}function J(n,t,e,s){return n.addEventListener(t,e,s),()=>n.removeEventListener(t,e,s)}function c(n,t,e){e==null?n.removeAttribute(t):n.getAttribute(t)!==e&&n.setAttribute(t,e)}function D(n){return n===""?null:+n}function Ne(n){return Array.from(n.childNodes)}function C(n,t){n.value=t??""}function pe(n,t,e){n.classList.toggle(t,!!e)}function Oe(n,t,{bubbles:e=!1,cancelable:s=!1}={}){return new CustomEvent(n,{detail:t,bubbles:e,cancelable:s})}function Bt(n,t){return new n(t)}let Dt;function Rt(n){Dt=n}function Xt(){if(!Dt)throw new Error("Function called outside component initialization");return Dt}function xe(n){Xt().$$.on_mount.push(n)}function je(n){Xt().$$.after_update.push(n)}function Ge(n){Xt().$$.on_destroy.push(n)}function Be(){const n=Xt();return(t,e,{cancelable:s=!1}={})=>{const i=n.$$.callbacks[t];if(i){const o=Oe(t,e,{cancelable:s});return i.slice().forEach(a=>{a.call(n,o)}),!o.defaultPrevented}return!0}}function de(n,t){const e=n.$$.callbacks[t.type];e&&e.slice().forEach(s=>s.call(this,t))}const $t=[],Ut=[];let Ct=[];const _e=[],Le=Promise.resolve();let ee=!1;function Ae(){ee||(ee=!0,Le.then(Ee))}function Ue(){return Ae(),Le}function ne(n){Ct.push(n)}const Jt=new Set;let Pt=0;function Ee(){if(Pt!==0)return;const n=Dt;do{try{for(;Pt<$t.length;){const t=$t[Pt];Pt++,Rt(t),Ye(t.$$)}}catch(t){throw $t.length=0,Pt=0,t}for(Rt(null),$t.length=0,Pt=0;Ut.length;)Ut.pop()();for(let t=0;t<Ct.length;t+=1){const e=Ct[t];Jt.has(e)||(Jt.add(e),e())}Ct.length=0}while($t.length);for(;_e.length;)_e.pop()();ee=!1,Jt.clear(),Rt(n)}function Ye(n){if(n.fragment!==null){n.update(),mt(n.before_update);const t=n.dirty;n.dirty=[-1],n.fragment&&n.fragment.p(n.ctx,t),n.after_update.forEach(ne)}}function He(n){const t=[],e=[];Ct.forEach(s=>n.indexOf(s)===-1?t.push(s):e.push(s)),e.forEach(s=>s()),Ct=t}const Ot=new Set;let xt;function oe(){xt={r:0,c:[],p:xt}}function ae(){xt.r||mt(xt.c),xt=xt.p}function nt(n,t){n&&n.i&&(Ot.delete(n),n.i(t))}function at(n,t,e,s){if(n&&n.o){if(Ot.has(n))return;Ot.add(n),xt.c.push(()=>{Ot.delete(n),s&&(e&&n.d(1),s())}),n.o(t)}else s&&s()}function Yt(n,t){const e={},s={},i={$$scope:1};let o=n.length;for(;o--;){const a=n[o],r=t[o];if(r){for(const l in a)l in r||(s[l]=1);for(const l in r)i[l]||(e[l]=r[l],i[l]=1);n[o]=r}else for(const l in a)i[l]=1}for(const a in s)a in e||(e[a]=void 0);return e}function Ht(n){return typeof n=="object"&&n!==null?n:{}}function dt(n){n&&n.c()}function ht(n,t,e){const{fragment:s,after_update:i}=n.$$;s&&s.m(t,e),ne(()=>{const o=n.$$.on_mount.map(be).filter(Wt);n.$$.on_destroy?n.$$.on_destroy.push(...o):mt(o),n.$$.on_mount=[]}),i.forEach(ne)}function pt(n,t){const e=n.$$;e.fragment!==null&&(He(e.after_update),mt(e.on_destroy),e.fragment&&e.fragment.d(t),e.on_destroy=e.fragment=null,e.ctx=[])}function We(n,t){n.$$.dirty[0]===-1&&($t.push(n),Ae(),n.$$.dirty.fill(0)),n.$$.dirty[t/31|0]|=1<<t%31}function bt(n,t,e,s,i,o,a=null,r=[-1]){const l=Dt;Rt(n);const u=n.$$={fragment:null,ctx:[],props:o,update:O,not_equal:i,bound:he(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(l?l.$$.context:[])),callbacks:he(),dirty:r,skip_bound:!1,root:t.target||l.$$.root};a&&a(u.root);let p=!1;if(u.ctx=e?e(n,t.props||{},(d,y,...f)=>{const m=f.length?f[0]:y;return u.ctx&&i(u.ctx[d],u.ctx[d]=m)&&(!u.skip_bound&&u.bound[d]&&u.bound[d](m),p&&We(n,d)),y}):[],u.update(),p=!0,mt(u.before_update),u.fragment=s?s(u.ctx):!1,t.target){if(t.hydrate){const d=Ne(t.target);u.fragment&&u.fragment.l(d),d.forEach(Y)}else u.fragment&&u.fragment.c();t.intro&&nt(n.$$.fragment),ht(n,t.target,t.anchor),Ee()}Rt(l)}class yt{constructor(){A(this,"$$");A(this,"$$set")}$destroy(){pt(this,1),this.$destroy=O}$on(t,e){if(!Wt(e))return O;const s=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return s.push(e),()=>{const i=s.indexOf(e);i!==-1&&s.splice(i,1)}}$set(t){this.$$set&&!De(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const Xe="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Xe);const kt=[];function Pe(n,t){return{subscribe:Zt(n,t).subscribe}}function Zt(n,t=O){let e;const s=new Set;function i(r){if(gt(n,r)&&(n=r,e)){const l=!kt.length;for(const u of s)u[1](),kt.push(u,n);if(l){for(let u=0;u<kt.length;u+=2)kt[u][0](kt[u+1]);kt.length=0}}}function o(r){i(r(n))}function a(r,l=O){const u=[r,l];return s.add(u),s.size===1&&(e=t(i,o)||O),r(n),()=>{s.delete(u),s.size===0&&e&&(e(),e=null)}}return{set:i,update:o,subscribe:a}}function ke(n,t,e){const s=!Array.isArray(n),i=s?[n]:n;if(!i.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const o=t.length<2;return Pe(e,(a,r)=>{let l=!1;const u=[];let p=0,d=O;const y=()=>{if(p)return;d();const m=t(s?u[0]:u,a,r);o?a(m):d=Wt(m)?m:O},f=i.map((m,S)=>ye(m,b=>{u[S]=b,p&=~(1<<S),l&&y()},()=>{p|=1<<S}));return l=!0,y(),function(){mt(f),d(),l=!1}})}function Ze(n,t){if(n instanceof RegExp)return{keys:!1,pattern:n};var e,s,i,o,a=[],r="",l=n.split("/");for(l[0]||l.shift();i=l.shift();)e=i[0],e==="*"?(a.push("wild"),r+="/(.*)"):e===":"?(s=i.indexOf("?",1),o=i.indexOf(".",1),a.push(i.substring(1,~s?s:~o?o:i.length)),r+=~s&&!~o?"(?:/([^/]+?))?":"/([^/]+?)",~o&&(r+=(~s?"?":"")+"\\"+i.substring(o))):r+="/"+i;return{keys:a,pattern:new RegExp("^"+r+(t?"(?=$|/)":"/?$"),"i")}}function Ke(n){let t,e,s;const i=[n[2]];var o=n[0];function a(r,l){let u={};if(l!==void 0&&l&4)u=Yt(i,[Ht(r[2])]);else for(let p=0;p<i.length;p+=1)u=re(u,i[p]);return{props:u}}return o&&(t=Bt(o,a(n)),t.$on("routeEvent",n[7])),{c(){t&&dt(t.$$.fragment),e=ie()},m(r,l){t&&ht(t,r,l),H(r,e,l),s=!0},p(r,l){if(l&1&&o!==(o=r[0])){if(t){oe();const u=t;at(u.$$.fragment,1,0,()=>{pt(u,1)}),ae()}o?(t=Bt(o,a(r,l)),t.$on("routeEvent",r[7]),dt(t.$$.fragment),nt(t.$$.fragment,1),ht(t,e.parentNode,e)):t=null}else if(o){const u=l&4?Yt(i,[Ht(r[2])]):{};t.$set(u)}},i(r){s||(t&&nt(t.$$.fragment,r),s=!0)},o(r){t&&at(t.$$.fragment,r),s=!1},d(r){r&&Y(e),t&&pt(t,r)}}}function Je(n){let t,e,s;const i=[{params:n[1]},n[2]];var o=n[0];function a(r,l){let u={};if(l!==void 0&&l&6)u=Yt(i,[l&2&&{params:r[1]},l&4&&Ht(r[2])]);else for(let p=0;p<i.length;p+=1)u=re(u,i[p]);return{props:u}}return o&&(t=Bt(o,a(n)),t.$on("routeEvent",n[6])),{c(){t&&dt(t.$$.fragment),e=ie()},m(r,l){t&&ht(t,r,l),H(r,e,l),s=!0},p(r,l){if(l&1&&o!==(o=r[0])){if(t){oe();const u=t;at(u.$$.fragment,1,0,()=>{pt(u,1)}),ae()}o?(t=Bt(o,a(r,l)),t.$on("routeEvent",r[6]),dt(t.$$.fragment),nt(t.$$.fragment,1),ht(t,e.parentNode,e)):t=null}else if(o){const u=l&6?Yt(i,[l&2&&{params:r[1]},l&4&&Ht(r[2])]):{};t.$set(u)}},i(r){s||(t&&nt(t.$$.fragment,r),s=!0)},o(r){t&&at(t.$$.fragment,r),s=!1},d(r){r&&Y(e),t&&pt(t,r)}}}function Qe(n){let t,e,s,i;const o=[Je,Ke],a=[];function r(l,u){return l[1]?0:1}return t=r(n),e=a[t]=o[t](n),{c(){e.c(),s=ie()},m(l,u){a[t].m(l,u),H(l,s,u),i=!0},p(l,[u]){let p=t;t=r(l),t===p?a[t].p(l,u):(oe(),at(a[p],1,1,()=>{a[p]=null}),ae(),e=a[t],e?e.p(l,u):(e=a[t]=o[t](l),e.c()),nt(e,1),e.m(s.parentNode,s))},i(l){i||(nt(e),i=!0)},o(l){at(e),i=!1},d(l){l&&Y(s),a[t].d(l)}}}function me(){const n=window.location.href.indexOf("#/");let t=n>-1?window.location.href.substr(n+1):"/";const e=t.indexOf("?");let s="";return e>-1&&(s=t.substr(e+1),t=t.substr(0,e)),{location:t,querystring:s}}const le=Pe(null,function(t){t(me());const e=()=>{t(me())};return window.addEventListener("hashchange",e,!1),function(){window.removeEventListener("hashchange",e,!1)}}),tn=ke(le,n=>n.location);ke(le,n=>n.querystring);const ge=Zt(void 0);function en(n,t){if(t=we(t),!n||!n.tagName||n.tagName.toLowerCase()!="a")throw Error('Action "link" can only be used with <a> tags');return ve(n,t),{update(e){e=we(e),ve(n,e)}}}function nn(n){n?window.scrollTo(n.__svelte_spa_router_scrollX,n.__svelte_spa_router_scrollY):window.scrollTo(0,0)}function ve(n,t){let e=t.href||n.getAttribute("href");if(e&&e.charAt(0)=="/")e="#"+e;else if(!e||e.length<2||e.slice(0,2)!="#/")throw Error('Invalid value for "href" attribute: '+e);n.setAttribute("href",e),n.addEventListener("click",s=>{s.preventDefault(),t.disabled||sn(s.currentTarget.getAttribute("href"))})}function we(n){return n&&typeof n=="string"?{href:n}:n||{}}function sn(n){history.replaceState({...history.state,__svelte_spa_router_scrollX:window.scrollX,__svelte_spa_router_scrollY:window.scrollY},void 0),window.location.hash=n}function rn(n,t,e){let{routes:s={}}=t,{prefix:i=""}=t,{restoreScrollState:o=!1}=t;class a{constructor(_,w){if(!w||typeof w!="function"&&(typeof w!="object"||w._sveltesparouter!==!0))throw Error("Invalid component object");if(!_||typeof _=="string"&&(_.length<1||_.charAt(0)!="/"&&_.charAt(0)!="*")||typeof _=="object"&&!(_ instanceof RegExp))throw Error('Invalid value for "path" argument - strings must start with / or *');const{pattern:L,keys:E}=Ze(_);this.path=_,typeof w=="object"&&w._sveltesparouter===!0?(this.component=w.component,this.conditions=w.conditions||[],this.userData=w.userData,this.props=w.props||{}):(this.component=()=>Promise.resolve(w),this.conditions=[],this.props={}),this._pattern=L,this._keys=E}match(_){if(i){if(typeof i=="string")if(_.startsWith(i))_=_.substr(i.length)||"/";else return null;else if(i instanceof RegExp){const q=_.match(i);if(q&&q[0])_=_.substr(q[0].length)||"/";else return null}}const w=this._pattern.exec(_);if(w===null)return null;if(this._keys===!1)return w;const L={};let E=0;for(;E<this._keys.length;){try{L[this._keys[E]]=decodeURIComponent(w[E+1]||"")||null}catch{L[this._keys[E]]=null}E++}return L}async checkConditions(_){for(let w=0;w<this.conditions.length;w++)if(!await this.conditions[w](_))return!1;return!0}}const r=[];s instanceof Map?s.forEach((v,_)=>{r.push(new a(_,v))}):Object.keys(s).forEach(v=>{r.push(new a(v,s[v]))});let l=null,u=null,p={};const d=Be();async function y(v,_){await Ue(),d(v,_)}let f=null,m=null;o&&(m=v=>{v.state&&(v.state.__svelte_spa_router_scrollY||v.state.__svelte_spa_router_scrollX)?f=v.state:f=null},window.addEventListener("popstate",m),je(()=>{nn(f)}));let S=null,b=null;const x=le.subscribe(async v=>{S=v;let _=0;for(;_<r.length;){const w=r[_].match(v.location);if(!w){_++;continue}const L={route:r[_].path,location:v.location,querystring:v.querystring,userData:r[_].userData,params:w&&typeof w=="object"&&Object.keys(w).length?w:null};if(!await r[_].checkConditions(L)){e(0,l=null),b=null,y("conditionsFailed",L);return}y("routeLoading",Object.assign({},L));const E=r[_].component;if(b!=E){E.loading?(e(0,l=E.loading),b=E,e(1,u=E.loadingParams),e(2,p={}),y("routeLoaded",Object.assign({},L,{component:l,name:l.name,params:u}))):(e(0,l=null),b=null);const q=await E();if(v!=S)return;e(0,l=q&&q.default||q),b=E}w&&typeof w=="object"&&Object.keys(w).length?e(1,u=w):e(1,u=null),e(2,p=r[_].props),y("routeLoaded",Object.assign({},L,{component:l,name:l.name,params:u})).then(()=>{ge.set(u)});return}e(0,l=null),b=null,ge.set(void 0)});Ge(()=>{x(),m&&window.removeEventListener("popstate",m)});function R(v){de.call(this,n,v)}function F(v){de.call(this,n,v)}return n.$$set=v=>{"routes"in v&&e(3,s=v.routes),"prefix"in v&&e(4,i=v.prefix),"restoreScrollState"in v&&e(5,o=v.restoreScrollState)},n.$$.update=()=>{n.$$.dirty&32&&(history.scrollRestoration=o?"manual":"auto")},[l,u,p,s,i,o,R,F]}class on extends yt{constructor(t){super(),bt(this,t,rn,Qe,gt,{routes:3,prefix:4,restoreScrollState:5})}}function an(n){let t;return{c(){t=Tt("Nothing to see here. Go to Engine or Shader Art.")},m(e,s){H(e,t,s)},p:O,i:O,o:O,d(e){e&&Y(t)}}}class ln extends yt{constructor(t){super(),bt(this,t,null,an,gt,{})}}const un=`#version 300 es

layout(location = 0) in vec2 aPosition;
out vec2 fragCoord;

void main()
{
    fragCoord = aPosition;
    gl_Position = vec4(aPosition, 0.0, 1.0);
}
`,cn=`#version 300 es

precision mediump float;

in vec2 fragCoord;
uniform float uTime;
uniform float uDensity;

out vec4 fragColor;

//https://iquilezles.org/articles/palettes/
vec3 palette( float t ) {
    vec3 a = vec3(0.5, 0.5, 0.5);
    vec3 b = vec3(0.5, 0.5, 0.5);
    vec3 c = vec3(1.0, 1.0, 1.0);
    vec3 d = vec3(0.263,0.416,0.557);

    return a + b*cos( 6.28318*(c*t+d) );
}

void main()
{
    vec2 uv = fragCoord;
    float d = length(uv);

    vec2 uv0 = uv;
    vec3 finalColor = vec3(0.0);

    for (float i = 0.0; i < 4.0; i++) {
        uv = fract(uv * uDensity / 10.0) - 0.5;

        float d = length(uv) * exp(-length(uv0));

        vec3 col = palette(length(uv0) + i*.4 + uTime*.4);

        d = sin(d * 8. + uTime)/8.;
        d = abs(d);

        d = pow(0.01 / d, 1.2);

        finalColor += col * d;
    }

    fragColor = vec4(finalColor, 1.0);
}
`,jt=Zt(15),Gt=Zt(1e3);function fn(n){let t,e,s,i,o;return{c(){t=g("input"),e=P(),s=g("input"),c(t,"type","number"),c(t,"min","100"),c(t,"max","3000"),c(s,"id",n[0]),c(s,"type","range"),c(s,"min","100"),c(s,"max","3000")},m(a,r){H(a,t,r),C(t,n[1]),H(a,e,r),H(a,s,r),C(s,n[1]),i||(o=[J(t,"input",n[2]),J(s,"change",n[3]),J(s,"input",n[3])],i=!0)},p(a,[r]){r&2&&D(t.value)!==a[1]&&C(t,a[1]),r&1&&c(s,"id",a[0]),r&2&&C(s,a[1])},i:O,o:O,d(a){a&&(Y(t),Y(e),Y(s)),i=!1,mt(o)}}}function hn(n,t,e){let s;qt(n,Gt,r=>e(1,s=r));let{id:i="speed-slider"}=t;function o(){s=D(this.value),Gt.set(s)}function a(){s=D(this.value),Gt.set(s)}return n.$$set=r=>{"id"in r&&e(0,i=r.id)},[i,s,o,a]}class pn extends yt{constructor(t){super(),bt(this,t,hn,fn,gt,{id:0})}}function dn(n){let t,e,s,i,o;return{c(){t=g("input"),e=P(),s=g("input"),c(t,"type","number"),c(t,"min","1"),c(t,"max","30"),c(s,"id",n[0]),c(s,"type","range"),c(s,"min","1"),c(s,"max","30")},m(a,r){H(a,t,r),C(t,n[1]),H(a,e,r),H(a,s,r),C(s,n[1]),i||(o=[J(t,"input",n[2]),J(s,"change",n[3]),J(s,"input",n[3])],i=!0)},p(a,[r]){r&2&&D(t.value)!==a[1]&&C(t,a[1]),r&1&&c(s,"id",a[0]),r&2&&C(s,a[1])},i:O,o:O,d(a){a&&(Y(t),Y(e),Y(s)),i=!1,mt(o)}}}function _n(n,t,e){let s;qt(n,jt,r=>e(1,s=r));let{id:i="density-slider"}=t;function o(){s=D(this.value),jt.set(s)}function a(){s=D(this.value),jt.set(s)}return n.$$set=r=>{"id"in r&&e(0,i=r.id)},[i,s,o,a]}class mn extends yt{constructor(t){super(),bt(this,t,_n,dn,gt,{id:0})}}function gn(n){let t,e,s,i,o,a,r,l,u,p,d,y,f,m;return o=new pn({props:{id:"speed-slider"}}),u=new mn({props:{id:"density-slider"}}),{c(){t=g("div"),e=g("div"),s=g("label"),s.textContent="Speed",i=P(),dt(o.$$.fragment),a=P(),r=g("label"),r.textContent="Density",l=P(),dt(u.$$.fragment),p=P(),d=g("canvas"),y=P(),f=g("div"),f.innerHTML='<a href="https://www.youtube.com/watch?v=f4s1h2YETNY&amp;t=583s">Shader code by kishimisu</a>',c(s,"for","speed-slider"),c(r,"for","speed-slider"),c(e,"class","toolbar"),c(d,"class","svelte-syf6pw"),c(t,"class","shaderArt svelte-syf6pw")},m(S,b){H(S,t,b),h(t,e),h(e,s),h(e,i),ht(o,e,null),h(e,a),h(e,r),h(e,l),ht(u,e,null),h(t,p),h(t,d),n[1](d),h(t,y),h(t,f),m=!0},p:O,i(S){m||(nt(o.$$.fragment,S),nt(u.$$.fragment,S),m=!0)},o(S){at(o.$$.fragment,S),at(u.$$.fragment,S),m=!1},d(S){S&&Y(t),pt(o),pt(u),n[1](null)}}}function vn(n,t,e){let s,i;qt(n,Gt,r=>e(2,s=r)),qt(n,jt,r=>e(3,i=r));let o;xe(()=>{const r=o.getContext("webgl2");if(!r)return;const l=r.createProgram();if(!l)return;const u=r.createShader(r.VERTEX_SHADER);if(!u)return;r.shaderSource(u,un),r.compileShader(u),r.attachShader(l,u);const p=r.createShader(r.FRAGMENT_SHADER);if(!p)return;r.shaderSource(p,cn),r.compileShader(p),r.attachShader(l,p),r.linkProgram(l),r.getProgramParameter(l,r.LINK_STATUS)||(console.log(r.getShaderInfoLog(u)),console.log(r.getShaderInfoLog(p)));const d=new Float32Array([-1,-1,1,-1,-1,1,1,-1,-1,1,1,1]),y=r.getUniformLocation(l,"uResolution");r.uniform2f(y,1024,1024);const f=r.getUniformLocation(l,"uTime");r.uniform1f(f,0);const m=r.getUniformLocation(l,"uDensity");r.uniform1f(m,15);const S=r.createBuffer();r.bindBuffer(r.ARRAY_BUFFER,S),r.bufferData(r.ARRAY_BUFFER,d,r.STATIC_DRAW);const b=0;r.enableVertexAttribArray(b),r.vertexAttribPointer(b,2,r.FLOAT,!1,2*4,0);const x=(R=0)=>{(o.width!==o.clientWidth||o.height!==o.clientHeight)&&(e(0,o.width=o.clientWidth,o),e(0,o.height=o.clientHeight,o),r.viewport(0,0,r.canvas.width,r.canvas.height)),r.clearColor(0,0,0,1),r.clear(r.COLOR_BUFFER_BIT),r.uniform1f(m,i),r.uniform1f(f,R/1e6*s),r.useProgram(l),r.drawArrays(r.TRIANGLES,0,6),requestAnimationFrame(x)};x()});function a(r){Ut[r?"unshift":"push"](()=>{o=r,e(0,o)})}return[o,a]}class wn extends yt{constructor(t){super(),bt(this,t,vn,gn,gt,{})}}function bn(n){let t,e,s,i;const o=n[3].default,a=Ve(o,n,n[2],null);return{c(){t=g("a"),a&&a.c(),c(t,"href",n[0]),c(t,"class","svelte-1dzzut9"),pe(t,"active",n[1]===n[0])},m(r,l){H(r,t,l),a&&a.m(t,null),e=!0,s||(i=Ie(en.call(null,t)),s=!0)},p(r,[l]){a&&a.p&&(!e||l&4)&&ze(a,o,r,r[2],e?Me(o,r[2],l,null):Fe(r[2]),null),(!e||l&1)&&c(t,"href",r[0]),(!e||l&3)&&pe(t,"active",r[1]===r[0])},i(r){e||(nt(a,r),e=!0)},o(r){at(a,r),e=!1},d(r){r&&Y(t),a&&a.d(r),s=!1,i()}}}function yn(n,t,e){let s;qt(n,tn,r=>e(1,s=r));let{$$slots:i={},$$scope:o}=t,{href:a=""}=t;return n.$$set=r=>{"href"in r&&e(0,a=r.href),"$$scope"in r&&e(2,o=r.$$scope)},[a,s,o,i]}class Qt extends yt{constructor(t){super(),bt(this,t,yn,bn,gt,{href:0})}}const Sn=`#version 300 es

// an attribute is an input (in) to a vertex shader.
// It will receive data from a buffer
in vec4 a_position;
in vec4 a_color;
in vec3 a_normal;

uniform vec3 u_lightWorldPosition;
uniform vec3 u_viewWorldPosition;

uniform mat4 u_world;
uniform mat4 u_worldViewProjection;
uniform mat4 u_worldInverseTranspose;

// // a varying the color to the fragment shader
out vec4 v_color;

// varying to pass the normal to the fragment shader
out vec3 v_normal;
out vec3 v_surfaceToLight;
out vec3 v_surfaceToView;

void main() {
  // Multiply the position by the matrix.
  gl_Position = u_worldViewProjection * a_position;

  // // Pass the color to the fragment shader.
  v_color = a_color;

  // Pass the normal to the fragment shader
  v_normal = mat3(u_worldInverseTranspose) * a_normal;

  // compute the world position of the surface
  vec3 surfaceWorldPosition = (u_world * a_position).xyz;

  // compute the vector of the surface to the light
  // and pass it to the fragment shader
  v_surfaceToLight = u_lightWorldPosition - surfaceWorldPosition;

  // compute the vector of the surface to the view/camera
  // and pass it to the fragment shader
  v_surfaceToView = u_viewWorldPosition - surfaceWorldPosition;
}
`,xn=`#version 300 es

precision highp float;

// // the varied color passed from the vertex shader
in vec4 v_color;

// Passed in and varied from the vertex shader.
in vec3 v_normal;
in vec3 v_surfaceToLight;
in vec3 v_surfaceToView;

// we need to declare an output for the fragment shader
out vec4 outColor;

uniform float u_shininess;
uniform vec3 u_lightColor;
uniform vec3 u_specularColor;

void main() {
  outColor = v_color;

  // because v_normal is a varying it's interpolated
  // so it will not be a unit vector. Normalizing it
  // will make it a unit vector again
  vec3 normal = normalize(v_normal);

  vec3 surfaceToLightDirection = normalize(v_surfaceToLight);
  vec3 surfaceToViewDirection = normalize(v_surfaceToView);
  vec3 halfVector = normalize(surfaceToLightDirection + surfaceToViewDirection);

  // compute the light by taking the dot product
  // of the normal to the light's reverse direction
  float light = dot(normal, surfaceToLightDirection);
  float specular = 0.0;
  if (light > 0.0) {
    specular = pow(dot(normal, halfVector), u_shininess);
  }

  // Lets multiply just the color portion (not the alpha)
  // by the light
  outColor.rgb *= light * u_lightColor;

  // Just add in the specular
  outColor.rgb += specular * u_specularColor;
}
`;class Ln{constructor(t){A(this,"_gl",null);A(this,"_canvas");A(this,"_width");A(this,"_height");this._width=t.width,this._height=t.height,this._canvas=t,this.updateGL(),this.updateViewPort()}set canvas(t){this._canvas=t,this.updateGL(),this.updateViewPort()}updateGL(){const t=this._canvas.getContext("webgl2");if(!t)throw`Could not get webgl2 context of canvas element: ${this._canvas}`;this._gl=t}updateViewPort(){if(!this._gl)throw"Could not update viewport.";this._gl.viewport(0,0,this._gl.canvas.width,this._gl.canvas.height)}linkProgram(t){if(!this._gl)throw"Could not link program.";this._gl.linkProgram(t.webGLProgram),this._gl.getProgramParameter(t.webGLProgram,this._gl.LINK_STATUS)||(t.vertexShader&&console.log(this._gl.getShaderInfoLog(t.vertexShader.webGLShader)),t.fragmentShader&&console.log(this._gl.getShaderInfoLog(t.fragmentShader.webGLShader)))}get width(){return this._width}get height(){return this._height}get gl(){return this._gl}}class $e{constructor({gl:t,source:e}){A(this,"_gl");A(this,"_webGLShader");A(this,"source",null);this._gl=t,this._webGLShader=this.create(),e&&(this._gl.shaderSource(this._webGLShader,e),this._gl.compileShader(this._webGLShader))}get webGLShader(){return this._webGLShader}}class Ce extends $e{constructor({gl:t,source:e}){super({gl:t,source:e})}create(){const t=this._gl.createShader(this._gl.VERTEX_SHADER);if(!t)throw"Could not create VertexShader";return t}updateSource(t){}}class Te extends $e{constructor({gl:t,source:e}){super({gl:t,source:e})}create(){const t=this._gl.createShader(this._gl.FRAGMENT_SHADER);if(!t)throw"Could not create FragmentShader";return t}updateSource(t){}}class An{constructor(t){A(this,"_gl");A(this,"_webGLProgram");A(this,"_vertexShader",null);A(this,"_fragmentShader",null);this._gl=t;const e=t.createProgram();if(!e)throw"Could not create program";this._webGLProgram=e}attachShader(t){this._gl.attachShader(this._webGLProgram,t.webGLShader),t instanceof Ce&&(this._vertexShader=t),t instanceof Te&&(this._fragmentShader=t)}getUniformLocation(t){return this._gl.getUniformLocation(this._webGLProgram,t)}get webGLProgram(){return this._webGLProgram}get vertexShader(){return this._vertexShader}get fragmentShader(){return this._fragmentShader}}class te{constructor({gl:t,name:e,program:s,pointerProperties:i,createVao:o}){A(this,"_gl");A(this,"_buffer");A(this,"_name");A(this,"_program",null);A(this,"_vao",null);A(this,"_pointerProperties");A(this,"_createVao");this._gl=t,this._name=e,s&&(this._program=s),this._createVao=o||!1;const a=t.createBuffer();if(!a)throw"Could not create buffer";this._pointerProperties={normalize:!1,stride:0,offset:0,...i},this._buffer=a}get name(){return this._name}get buffer(){return this._buffer}get vao(){if(!this._vao)throw"Could not get vao of attribute. Was the data set already?";return this._vao}getLocation(){if(!this._program)throw"Could not get location of attribute. No program attached.";return this._gl.getAttribLocation(this._program.webGLProgram,this._name)}setBufferData(t){this._createVao&&(this._vao=this._gl.createVertexArray(),this._gl.bindVertexArray(this._vao)),this._gl.enableVertexAttribArray(this.getLocation()),this._gl.bindBuffer(this._gl.ARRAY_BUFFER,this._buffer),this._gl.bufferData(this._gl.ARRAY_BUFFER,t,this._gl.STATIC_DRAW);const{size:e,type:s,normalize:i,stride:o,offset:a}=this._pointerProperties;this._gl.vertexAttribPointer(this.getLocation(),e,s,i,o,a)}}class Lt{constructor(t){A(this,"_values");this._values=this.create(t)}static substract(t,e){if(t.is1D(t)&&e.is1D(e))return new En([t._values[0]-e._values[0]]);if(t.is2D(t)&&e.is2D(e))return new Pn([t._values[0]-e._values[0],t._values[1]-e._values[1]]);if(t.is3D(t)&&e.is3D(e))return new lt([t._values[0]-e._values[0],t._values[1]-e._values[1],t._values[2]-e._values[2]]);if(t.is4D(t)&&e.is4D(e))return new ue([t._values[0]-e._values[0],t._values[1]-e._values[1],t._values[2]-e._values[2],t._values[3]-e._values[3]]);throw new Error("Vectors must have the same dimension to subtract.")}static dot(t,e){return t._values.reduce((s,i,o)=>s+i*e._values[o],0)}get values(){return this._values}set values(t){this._values=t}is1D(t){return t.values.length===1}is2D(t){return t.values.length===2}is3D(t){return t.values.length===3}is4D(t){return t.values.length===4}normalize(){const t=Math.sqrt(this._values.reduce((s,i)=>s+i*i,0)),e=this._values.map(s=>s/t);return this._values=e,this}toNormalized(){const t=Math.sqrt(this._values.reduce((i,o)=>i+o*o,0)),e=this._values.map(i=>i/t),s=this.constructor;return new s(e)}}class En extends Lt{create(t){return t||[1]}}class Pn extends Lt{create(t){return t||[1,1]}}class lt extends Lt{create(t){return t||[1,1,1]}static cross(t,e){const s=[t._values[1]*e._values[2]-t._values[2]*e._values[1],t._values[2]*e._values[0]-t._values[0]*e._values[2],t._values[0]*e._values[1]-t._values[1]*e._values[0]];return new lt(s)}}class ue extends Lt{create(t){return t||[1,1,1,1]}}class se{constructor(t){A(this,"_values");this._values=this.create(t)}transpose(){const t=Math.sqrt(this._values.length),e=Array.from({length:this._values.length},(s,i)=>{const o=Math.floor(i/t),a=i%t;return this._values[a*t+o]});return this._values=e,this}get values(){return this._values}set values(t){this._values=t}}const T=class T extends se{static multiply(t,e){const[s,i,o,a,r,l,u,p,d,y,f,m,S,b,x,R]=t.values,[F,v,_,w,L,E,q,j,W,Q,V,tt,B,X,et,M]=e.values;return new T([s*F+i*L+o*W+a*B,s*v+i*E+o*Q+a*X,s*_+i*q+o*V+a*et,s*w+i*j+o*tt+a*M,r*F+l*L+u*W+p*B,r*v+l*E+u*Q+p*X,r*_+l*q+u*V+p*et,r*w+l*j+u*tt+p*M,d*F+y*L+f*W+m*B,d*v+y*E+f*Q+m*X,d*_+y*q+f*V+m*et,d*w+y*j+f*tt+m*M,S*F+b*L+x*W+R*B,S*v+b*E+x*Q+R*X,S*_+b*q+x*V+R*et,S*w+b*j+x*tt+R*M])}static translation(t,e,s){return new T([1,0,0,0,0,1,0,0,0,0,1,0,t,e,s,1])}static xRotation(t){const e=Math.cos(t),s=Math.sin(t);return new T([1,0,0,0,0,e,s,0,0,-s,e,0,0,0,0,1])}static yRotation(t){const e=Math.cos(t),s=Math.sin(t);return new T([e,0,-s,0,0,1,0,0,s,0,e,0,0,0,0,1])}static zRotation(t){const e=Math.cos(t),s=Math.sin(t);return new T([e,s,0,0,-s,e,0,0,0,0,1,0,0,0,0,1])}static scaling(t,e,s){return new T([t,0,0,0,0,e,0,0,0,0,s,0,0,0,0,1])}static perspective(t,e,s,i){const o=Math.tan(Math.PI*.5-.5*t),a=1/(s-i);return new T([o/e,0,0,0,0,o,0,0,0,0,(s+i)*a,-1,0,0,s*i*a*2,0])}static orthographic(t,e,s,i,o,a){return new T([2/(e-t),0,0,0,0,2/(i-s),0,0,0,0,2/(o-a),0,(t+e)/(t-e),(s+i)/(s-i),(o+a)/(o-a),1])}static projection(t,e,s){return new T([2/t,0,0,0,0,-2/e,0,0,0,0,2/s,0,-1,1,0,1])}static lookAt(t,e,s=new lt([0,1,0])){var i=Lt.substract(t,e).normalize(),o=lt.cross(s,i).normalize(),a=lt.cross(i,o).normalize();return new T([o.values[0],o.values[1],o.values[2],0,a.values[0],a.values[1],a.values[2],0,i.values[0],i.values[1],i.values[2],0,t.values[0],t.values[1],t.values[2],1])}create(t){return t||T.identity}translate(t,e,s){return T.multiply(this,T.translation(t,e,s))}rotateX(t){return T.multiply(this,T.xRotation(t))}rotateY(t){return T.multiply(this,T.yRotation(t))}rotateZ(t){return T.multiply(this,T.zRotation(t))}scale(t,e,s){return T.multiply(this,T.scaling(t,e,s))}invert(){const[t,e,s,i,o,a,r,l,u,p,d,y,f,m,S,b]=this.values,x=d*b,R=S*y,F=r*b,v=S*l,_=r*y,w=d*l,L=s*b,E=S*i,q=s*y,j=d*i,W=s*l,Q=r*i,V=u*m,tt=f*p,B=o*m,X=f*a,et=o*p,M=u*a,_t=t*m,st=f*e,k=t*p,Z=u*e,I=t*a,K=o*e,$=x*a+v*p+_*m-(R*a+F*p+w*m),U=R*e+L*p+j*m-(x*e+E*p+q*m),rt=F*e+E*a+W*m-(v*e+L*a+Q*m),it=w*e+q*a+Q*p-(_*e+j*a+W*p),z=1/(t*$+o*U+u*rt+f*it);return new T([z*$,z*U,z*rt,z*it,z*(R*o+F*u+w*f-(x*o+v*u+_*f)),z*(x*t+E*u+q*f-(R*t+L*u+j*f)),z*(v*t+L*o+Q*f-(F*t+E*o+W*f)),z*(_*t+j*o+W*u-(w*t+q*o+Q*u)),z*(V*l+X*y+et*b-(tt*l+B*y+M*b)),z*(tt*i+_t*y+Z*b-(V*i+st*y+k*b)),z*(B*i+st*l+I*b-(X*i+_t*l+K*b)),z*(M*i+k*l+K*y-(et*i+Z*l+I*y)),z*(B*d+M*S+tt*r-(et*S+V*r+X*d)),z*(k*S+V*s+st*d-(_t*d+Z*S+tt*s)),z*(_t*r+K*S+X*s-(I*S+B*s+st*r)),z*(I*d+et*s+Z*r-(k*r+K*d+M*s))])}transformVector(t){const e=this.values,s=[];for(let i=0;i<4;++i){s[i]=0;for(let o=0;o<4;++o)s[i]+=t.values[o]*e[o*4+i]}return new ue(s)}};A(T,"identity",[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);let ft=T;class vt{constructor({gl:t,type:e,name:s,program:i,value:o}){A(this,"_gl");A(this,"_value",null);A(this,"_type");A(this,"_name");A(this,"_program",null);this._gl=t,this._name=s,this._type=e,i&&(this._program=i),console.log(`Creating uniform ${s} with type ${e} and value ${o}`),o!==void 0&&(o instanceof se||o instanceof Lt?this.value=o.values:this.value=o)}get value(){return this._value}set value(t){t instanceof se||t instanceof Lt?this._value=t.values:this._value=t;const e=this.getLocation();if(Array.isArray(t))switch(this._type){case"2f":this._gl.uniform2f(e,t[0],t[1]);break;case"2i":this._gl.uniform2i(e,t[0],t[1]);break;case"3f":this._gl.uniform3f(e,t[0],t[1],t[2]);break;case"3i":this._gl.uniform3i(e,t[0],t[1],t[2]);break;case"4f":this._gl.uniform4f(e,t[0],t[1],t[2],t[3]);break;case"4i":this._gl.uniform4i(e,t[0],t[1],t[2],t[3]);break;case"matrix2fv":this._gl.uniformMatrix2fv(e,!1,t);break;case"matrix3fv":this._gl.uniformMatrix3fv(e,!1,t);break;case"matrix4fv":this._gl.uniformMatrix4fv(e,!1,t);break;case"2fv":this._gl.uniform2fv(e,t);break;case"3fv":this._gl.uniform3fv(e,t);break;case"4fv":this._gl.uniform4fv(e,t);break;default:throw`Invalid value ${t} for type ${this._type}`}else switch(this._type){case"1f":this._gl.uniform1f(e,t);break;case"1i":this._gl.uniform1i(e,t);break;default:throw`Invalid value ${t} for type ${this._type}`}}getLocation(){if(!this._program)throw"Could not get location of uniform. No program attached.";return this._gl.getUniformLocation(this._program.webGLProgram,this._name)}}const wt=new Float32Array([0,0,0,0,150,0,30,0,0,0,150,0,30,150,0,30,0,0,30,0,0,30,30,0,100,0,0,30,30,0,100,30,0,100,0,0,30,60,0,30,90,0,67,60,0,30,90,0,67,90,0,67,60,0,0,0,30,30,0,30,0,150,30,0,150,30,30,0,30,30,150,30,30,0,30,100,0,30,30,30,30,30,30,30,100,0,30,100,30,30,30,60,30,67,60,30,30,90,30,30,90,30,67,60,30,67,90,30,0,0,0,100,0,0,100,0,30,0,0,0,100,0,30,0,0,30,100,0,0,100,30,0,100,30,30,100,0,0,100,30,30,100,0,30,30,30,0,30,30,30,100,30,30,30,30,0,100,30,30,100,30,0,30,30,0,30,60,30,30,30,30,30,30,0,30,60,0,30,60,30,30,60,0,67,60,30,30,60,30,30,60,0,67,60,0,67,60,30,67,60,0,67,90,30,67,60,30,67,60,0,67,90,0,67,90,30,30,90,0,30,90,30,67,90,30,30,90,0,67,90,30,67,90,0,30,90,0,30,150,30,30,90,30,30,90,0,30,150,0,30,150,30,0,150,0,0,150,30,30,150,30,0,150,0,30,150,30,30,150,0,0,0,0,0,0,30,0,150,30,0,0,0,0,150,30,0,150,0]),kn=new Uint8Array([200,70,120,200,70,120,200,70,120,200,70,120,200,70,120,200,70,120,200,70,120,200,70,120,200,70,120,200,70,120,200,70,120,200,70,120,200,70,120,200,70,120,200,70,120,200,70,120,200,70,120,200,70,120,80,70,200,80,70,200,80,70,200,80,70,200,80,70,200,80,70,200,80,70,200,80,70,200,80,70,200,80,70,200,80,70,200,80,70,200,80,70,200,80,70,200,80,70,200,80,70,200,80,70,200,80,70,200,70,200,210,70,200,210,70,200,210,70,200,210,70,200,210,70,200,210,200,200,70,200,200,70,200,200,70,200,200,70,200,200,70,200,200,70,210,100,70,210,100,70,210,100,70,210,100,70,210,100,70,210,100,70,210,160,70,210,160,70,210,160,70,210,160,70,210,160,70,210,160,70,70,180,210,70,180,210,70,180,210,70,180,210,70,180,210,70,180,210,100,70,210,100,70,210,100,70,210,100,70,210,100,70,210,100,70,210,76,210,100,76,210,100,76,210,100,76,210,100,76,210,100,76,210,100,140,210,80,140,210,80,140,210,80,140,210,80,140,210,80,140,210,80,90,130,110,90,130,110,90,130,110,90,130,110,90,130,110,90,130,110,160,160,220,160,160,220,160,160,220,160,160,220,160,160,220,160,160,220]),$n=new Float32Array([0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0]);function Nt(n){return n*(Math.PI/180)}class Cn{constructor({coordinates:t,normals:e,colors:s,gl:i,program:o}){A(this,"_gl");A(this,"_program");A(this,"_positionAttribute");A(this,"_normalsAttribute");A(this,"_textureAttribute");A(this,"_colorAttribute");this._gl=i,this._program=o,this._positionAttribute=new te({gl:i,name:"a_position",program:o,createVao:!0,pointerProperties:{size:3,type:i.FLOAT}}),t&&this._positionAttribute.setBufferData(t),this._normalsAttribute=new te({gl:i,name:"a_normal",program:o,pointerProperties:{size:3,type:i.FLOAT}}),e&&this._normalsAttribute.setBufferData(e),this._colorAttribute=new te({gl:i,name:"a_color",program:o,pointerProperties:{size:3,normalize:!0,type:i.UNSIGNED_BYTE}}),s&&this._colorAttribute.setBufferData(s)}draw(){if(this._positionAttribute){this._gl.bindVertexArray(this._positionAttribute.vao);const t=this._gl.TRIANGLES;this._gl.drawArrays(t,0,96)}else{console.log("No position attribute");return}}}function Tn(n){let t,e,s,i,o,a,r,l,u,p,d,y,f,m,S,b,x,R,F,v,_,w,L,E,q,j,W,Q,V,tt,B,X,et,M,_t,st,k,Z,I,K,$,U,rt,it,z,Vt,G,Mt,St,At,zt,ot,Ft,Et,It,ce,ut,Kt,fe;return{c(){t=g("div"),e=g("canvas"),s=P(),i=g("div"),o=g("div"),a=g("span"),a.innerHTML='<span class=".label">Positon:</span>',r=P(),l=g("span"),u=g("span"),u.textContent="x",p=P(),d=g("input"),y=P(),f=g("span"),m=g("span"),m.textContent="y",S=P(),b=g("input"),x=P(),R=g("span"),F=g("span"),F.textContent="z",v=P(),_=g("input"),w=P(),L=g("div"),E=g("span"),E.innerHTML='<span class="label svelte-1pqx7i0">Scale:</span>',q=P(),j=g("span"),W=g("span"),W.textContent="x",Q=P(),V=g("input"),tt=P(),B=g("span"),X=g("span"),X.textContent="y",et=P(),M=g("input"),_t=P(),st=g("span"),k=g("span"),k.textContent="z",Z=P(),I=g("input"),K=P(),$=g("div"),U=g("span"),U.innerHTML='<span class="label svelte-1pqx7i0">Rotation:</span>',rt=P(),it=g("span"),z=g("span"),z.textContent="x",Vt=P(),G=g("input"),Mt=P(),St=g("span"),At=g("span"),At.textContent="y",zt=P(),ot=g("input"),Ft=P(),Et=g("span"),It=g("span"),It.textContent="z",ce=P(),ut=g("input"),c(e,"class","svelte-1pqx7i0"),c(a,"class","field svelte-1pqx7i0"),c(u,"class","label svelte-1pqx7i0"),c(d,"type","number"),c(d,"class","svelte-1pqx7i0"),c(l,"class","field svelte-1pqx7i0"),c(m,"class","label svelte-1pqx7i0"),c(b,"type","number"),c(b,"min",-1e3),c(b,"max",1e3),c(b,"class","svelte-1pqx7i0"),c(f,"class","field svelte-1pqx7i0"),c(F,"class","label svelte-1pqx7i0"),c(_,"type","number"),c(_,"min",-1e3),c(_,"max",1e3),c(_,"class","svelte-1pqx7i0"),c(R,"class","field svelte-1pqx7i0"),c(o,"class","control svelte-1pqx7i0"),c(E,"class","field svelte-1pqx7i0"),c(W,"class","label svelte-1pqx7i0"),c(V,"type","number"),c(V,"min",.1),c(V,"max",3),c(V,"step",.1),c(V,"class","svelte-1pqx7i0"),c(j,"class","field svelte-1pqx7i0"),c(X,"class","label svelte-1pqx7i0"),c(M,"type","number"),c(M,"min",.1),c(M,"max",3),c(M,"step",.1),c(M,"class","svelte-1pqx7i0"),c(B,"class","field svelte-1pqx7i0"),c(k,"class","label svelte-1pqx7i0"),c(I,"type","number"),c(I,"min",.1),c(I,"max",3),c(I,"step",.1),c(I,"class","svelte-1pqx7i0"),c(st,"class","field svelte-1pqx7i0"),c(L,"class","control svelte-1pqx7i0"),c(U,"class","field svelte-1pqx7i0"),c(z,"class","label svelte-1pqx7i0"),c(G,"type","number"),c(G,"step",15),c(G,"min",-360),c(G,"max",360),c(G,"class","svelte-1pqx7i0"),c(it,"class","field svelte-1pqx7i0"),c(At,"class","label svelte-1pqx7i0"),c(ot,"type","number"),c(ot,"step",15),c(ot,"min",-360),c(ot,"max",360),c(ot,"class","svelte-1pqx7i0"),c(St,"class","field svelte-1pqx7i0"),c(It,"class","label svelte-1pqx7i0"),c(ut,"type","number"),c(ut,"step",15),c(ut,"min",-360),c(ut,"max",360),c(ut,"class","svelte-1pqx7i0"),c(Et,"class","field svelte-1pqx7i0"),c($,"class","control svelte-1pqx7i0"),c(i,"class","controls svelte-1pqx7i0"),c(t,"class","engine svelte-1pqx7i0")},m(N,ct){H(N,t,ct),h(t,e),n[10](e),h(t,s),h(t,i),h(i,o),h(o,a),h(o,r),h(o,l),h(l,u),h(l,p),h(l,d),C(d,n[1]),h(o,y),h(o,f),h(f,m),h(f,S),h(f,b),C(b,n[2]),h(o,x),h(o,R),h(R,F),h(R,v),h(R,_),C(_,n[3]),h(i,w),h(i,L),h(L,E),h(L,q),h(L,j),h(j,W),h(j,Q),h(j,V),C(V,n[7]),h(L,tt),h(L,B),h(B,X),h(B,et),h(B,M),C(M,n[8]),h(L,_t),h(L,st),h(st,k),h(st,Z),h(st,I),C(I,n[9]),h(i,K),h(i,$),h($,U),h($,rt),h($,it),h(it,z),h(it,Vt),h(it,G),C(G,n[4]),h($,Mt),h($,St),h(St,At),h(St,zt),h(St,ot),C(ot,n[5]),h($,Ft),h($,Et),h(Et,It),h(Et,ce),h(Et,ut),C(ut,n[6]),Kt||(fe=[J(d,"input",n[11]),J(b,"input",n[12]),J(_,"input",n[13]),J(V,"input",n[14]),J(M,"input",n[15]),J(I,"input",n[16]),J(G,"input",n[17]),J(ot,"input",n[18]),J(ut,"input",n[19])],Kt=!0)},p(N,ct){ct[0]&2&&D(d.value)!==N[1]&&C(d,N[1]),ct[0]&4&&D(b.value)!==N[2]&&C(b,N[2]),ct[0]&8&&D(_.value)!==N[3]&&C(_,N[3]),ct[0]&128&&D(V.value)!==N[7]&&C(V,N[7]),ct[0]&256&&D(M.value)!==N[8]&&C(M,N[8]),ct[0]&512&&D(I.value)!==N[9]&&C(I,N[9]),ct[0]&16&&D(G.value)!==N[4]&&C(G,N[4]),ct[0]&32&&D(ot.value)!==N[5]&&C(ot,N[5]),ct[0]&64&&D(ut.value)!==N[6]&&C(ut,N[6])},i:O,o:O,d(N){N&&Y(t),n[10](null),Kt=!1,mt(fe)}}}function Rn(n,t,e){let s,i=0,o=0,a=0,r=0,l=0,u=0,p=1,d=1,y=1,f,m=[],S,b,x,R=!1,F=[0,0],v="rotate",_=[0,0,0],w=[0,0,0];const L=k=>{const Z=k instanceof TouchEvent;R=!0,Z?(v="rotate",F=[k.touches[0].clientX,k.touches[0].clientY]):(v=k.button===0?"rotate":"scale",F=[k.clientX,k.clientY]),_=[r,l,u],w=[p,d,y]},E=()=>{R=!1,v="rotate"},q=k=>{const Z=k instanceof TouchEvent;if(!R)return;const I=Z?k.touches[0].clientX:k.clientX,K=Z?k.touches[0].clientY:k.clientY,$=F[0]-I,U=F[1]-K;if(v==="rotate"&&(e(4,r=_[0]-U),e(5,l=_[1]-$)),v==="scale"){const rt=s.clientHeight/4;e(7,p=w[0]+U/rt),e(8,d=w[1]+U/rt),e(9,y=w[2]+U/rt)}};xe(()=>{const k=new Ln(s);if(!k.gl)throw"Could not get gl from Engine.";s.addEventListener("contextmenu",it=>it.preventDefault()),s.addEventListener("mousedown",L),s.addEventListener("touchstart",L),s.addEventListener("mouseup",E),s.addEventListener("touchend",E),s.addEventListener("mousemove",q),s.addEventListener("touchmove",q),f=k.gl,x=new An(f);const Z=new Ce({gl:f,source:Sn}),I=new Te({gl:f,source:xn});x.attachShader(Z),x.attachShader(I),k.linkProgram(x),f.useProgram(x.webGLProgram);var K=ft.translation(-50,-75,-15);K=K.rotateX(Math.PI);for(var $=0;$<wt.length;$+=3){var U=K.transformVector(new ue([wt[$+0],wt[$+1],wt[$+2],1]));wt[$+0]=U.values[0],wt[$+1]=U.values[1],wt[$+2]=U.values[2]}const rt=new Cn({gl:f,program:x,coordinates:wt,normals:$n,colors:kn});m.push(rt),new vt({gl:f,type:"3fv",name:"u_lightColor",program:x,value:new lt([1,.6,.6]).normalize()}),new vt({gl:f,type:"3fv",name:"u_specularColor",program:x,value:new lt([1,.2,.2]).normalize()}),new vt({gl:f,type:"1f",name:"u_shininess",program:x,value:50}),new vt({gl:f,type:"3fv",name:"u_viewWorldPosition",program:x,value:new lt([0,0,400])}),new vt({gl:f,type:"3fv",name:"u_lightWorldPosition",program:x,value:new lt([200,30,50])}),new vt({gl:f,type:"matrix4fv",name:"u_world",program:x,value:ft.identity}),S=new vt({gl:f,type:"matrix4fv",name:"u_worldInverseTranspose",program:x,value:new ft().transpose().invert()}),b=new vt({gl:f,type:"matrix4fv",name:"u_worldViewProjection",program:x,value:ft.identity}),j()});function j(k){if(!f)return;(s.width!==s.clientWidth||s.height!==s.clientHeight)&&(e(0,s.width=s.clientWidth,s),e(0,s.height=s.clientHeight,s),f.viewport(0,0,f.canvas.width,f.canvas.height));let I=s.width,K=s.height;f.clearColor(0,0,0,0),f.clear(f.COLOR_BUFFER_BIT|f.DEPTH_BUFFER_BIT),f.enable(f.CULL_FACE),f.enable(f.DEPTH_TEST);const $=I/K,U=1,rt=1e4,it=Nt(60),z=ft.perspective(it,$,U,rt),Vt=new lt([0,0,400]);let G=new ft;G=G.rotateY(Nt(l)).rotateX(Nt(r)).rotateZ(Nt(u)).translate(i,o,a);const Mt=new lt([G.values[12],G.values[13],G.values[14]]),At=ft.lookAt(Vt,Mt).invert();let zt=ft.multiply(At,z);const ot=ft.multiply(G,zt);S.value=G.values,b.value=ot.values,m.forEach(Ft=>Ft.draw()),requestAnimationFrame(j)}function W(k){Ut[k?"unshift":"push"](()=>{s=k,e(0,s)})}function Q(){i=D(this.value),e(1,i)}function V(){o=D(this.value),e(2,o)}function tt(){a=D(this.value),e(3,a)}function B(){p=D(this.value),e(7,p)}function X(){d=D(this.value),e(8,d)}function et(){y=D(this.value),e(9,y)}function M(){r=D(this.value),e(4,r)}function _t(){l=D(this.value),e(5,l)}function st(){u=D(this.value),e(6,u)}return[s,i,o,a,r,l,u,p,d,y,W,Q,V,tt,B,X,et,M,_t,st]}class qn extends yt{constructor(t){super(),bt(this,t,Rn,Tn,gt,{},null,[-1,-1])}}function Dn(n){let t;return{c(){t=Tt("Engine")},m(e,s){H(e,t,s)},d(e){e&&Y(t)}}}function Vn(n){let t;return{c(){t=Tt("Home")},m(e,s){H(e,t,s)},d(e){e&&Y(t)}}}function Mn(n){let t;return{c(){t=Tt("Shader Art")},m(e,s){H(e,t,s)},d(e){e&&Y(t)}}}function zn(n){let t,e,s,i,o,a,r,l,u,p,d,y;return i=new Qt({props:{href:"/engine",$$slots:{default:[Dn]},$$scope:{ctx:n}}}),a=new Qt({props:{href:"/home",$$slots:{default:[Vn]},$$scope:{ctx:n}}}),l=new Qt({props:{href:"/shaderart",$$slots:{default:[Mn]},$$scope:{ctx:n}}}),d=new on({props:{routes:n[0]}}),{c(){t=g("div"),e=g("header"),s=g("nav"),dt(i.$$.fragment),o=P(),dt(a.$$.fragment),r=P(),dt(l.$$.fragment),u=P(),p=g("main"),dt(d.$$.fragment),c(s,"class","svelte-ucdmxf"),c(e,"class","svelte-ucdmxf"),c(p,"class","svelte-ucdmxf"),c(t,"class","content svelte-ucdmxf")},m(f,m){H(f,t,m),h(t,e),h(e,s),ht(i,s,null),h(s,o),ht(a,s,null),h(s,r),ht(l,s,null),h(t,u),h(t,p),ht(d,p,null),y=!0},p(f,[m]){const S={};m&2&&(S.$$scope={dirty:m,ctx:f}),i.$set(S);const b={};m&2&&(b.$$scope={dirty:m,ctx:f}),a.$set(b);const x={};m&2&&(x.$$scope={dirty:m,ctx:f}),l.$set(x)},i(f){y||(nt(i.$$.fragment,f),nt(a.$$.fragment,f),nt(l.$$.fragment,f),nt(d.$$.fragment,f),y=!0)},o(f){at(i.$$.fragment,f),at(a.$$.fragment,f),at(l.$$.fragment,f),at(d.$$.fragment,f),y=!1},d(f){f&&Y(t),pt(i),pt(a),pt(l),pt(d)}}}function Fn(n){return[{"/":ln,"/shaderart":wn,"/engine":qn}]}class In extends yt{constructor(t){super(),bt(this,t,Fn,zn,gt,{})}}new In({target:document.getElementById("app")});
//# sourceMappingURL=index-C3eDchEf.js.map
