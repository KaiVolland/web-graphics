var ye=Object.defineProperty;var Se=(e,t,n)=>t in e?ye(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var P=(e,t,n)=>(Se(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const a of l.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();function x(){}function Nt(e,t){for(const n in t)e[n]=t[n];return e}function ue(e){return e()}function Qt(){return Object.create(null)}function nt(e){e.forEach(ue)}function jt(e){return typeof e=="function"}function rt(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function Le(e){return Object.keys(e).length===0}function ce(e,...t){if(e==null){for(const r of t)r(void 0);return x}const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function vt(e,t,n){e.$$.on_destroy.push(ce(t,n))}function $e(e,t,n,r){if(e){const o=fe(e,t,n,r);return e[0](o)}}function fe(e,t,n,r){return e[1]&&r?Nt(n.ctx.slice(),e[1](r(t))):n.ctx}function Ee(e,t,n,r){if(e[2]&&r){const o=e[2](r(n));if(t.dirty===void 0)return o;if(typeof o=="object"){const l=[],a=Math.max(t.dirty.length,o.length);for(let s=0;s<a;s+=1)l[s]=t.dirty[s]|o[s];return l}return t.dirty|o}return t.dirty}function Ae(e,t,n,r,o,l){if(o){const a=fe(t,n,r,l);e.p(a,o)}}function ke(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let r=0;r<n;r++)t[r]=-1;return t}return-1}function Ce(e){return e&&jt(e.destroy)?e.destroy:x}function h(e,t){e.appendChild(t)}function F(e,t,n){e.insertBefore(t,n||null)}function j(e){e.parentNode&&e.parentNode.removeChild(e)}function _(e){return document.createElement(e)}function mt(e){return document.createTextNode(e)}function S(){return mt(" ")}function Ut(){return mt("")}function M(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function c(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function T(e){return e===""?null:+e}function Re(e){return Array.from(e.childNodes)}function $(e,t){e.value=t??""}function te(e,t,n){e.classList.toggle(t,!!n)}function Pe(e,t,{bubbles:n=!1,cancelable:r=!1}={}){return new CustomEvent(e,{detail:t,bubbles:n,cancelable:r})}function Ct(e,t){return new e(t)}let wt;function bt(e){wt=e}function Ft(){if(!wt)throw new Error("Function called outside component initialization");return wt}function he(e){Ft().$$.on_mount.push(e)}function Te(e){Ft().$$.after_update.push(e)}function je(e){Ft().$$.on_destroy.push(e)}function Fe(){const e=Ft();return(t,n,{cancelable:r=!1}={})=>{const o=e.$$.callbacks[t];if(o){const l=Pe(t,n,{cancelable:r});return o.slice().forEach(a=>{a.call(e,l)}),!l.defaultPrevented}return!0}}function ee(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach(r=>r.call(this,t))}const _t=[],Rt=[];let gt=[];const ne=[],de=Promise.resolve();let Bt=!1;function pe(){Bt||(Bt=!0,de.then(_e))}function Ge(){return pe(),de}function It(e){gt.push(e)}const xt=new Set;let dt=0;function _e(){if(dt!==0)return;const e=wt;do{try{for(;dt<_t.length;){const t=_t[dt];dt++,bt(t),Oe(t.$$)}}catch(t){throw _t.length=0,dt=0,t}for(bt(null),_t.length=0,dt=0;Rt.length;)Rt.pop()();for(let t=0;t<gt.length;t+=1){const n=gt[t];xt.has(n)||(xt.add(n),n())}gt.length=0}while(_t.length);for(;ne.length;)ne.pop()();Bt=!1,xt.clear(),bt(e)}function Oe(e){if(e.fragment!==null){e.update(),nt(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(It)}}function xe(e){const t=[],n=[];gt.forEach(r=>e.indexOf(r)===-1?t.push(r):n.push(r)),n.forEach(r=>r()),gt=t}const Et=new Set;let ct;function Mt(){ct={r:0,c:[],p:ct}}function zt(){ct.r||nt(ct.c),ct=ct.p}function V(e,t){e&&e.i&&(Et.delete(e),e.i(t))}function Y(e,t,n,r){if(e&&e.o){if(Et.has(e))return;Et.add(e),ct.c.push(()=>{Et.delete(e),r&&(n&&e.d(1),r())}),e.o(t)}else r&&r()}function Pt(e,t){const n={},r={},o={$$scope:1};let l=e.length;for(;l--;){const a=e[l],s=t[l];if(s){for(const i in a)i in s||(r[i]=1);for(const i in s)o[i]||(n[i]=s[i],o[i]=1);e[l]=s}else for(const i in a)o[i]=1}for(const a in r)a in n||(n[a]=void 0);return n}function Tt(e){return typeof e=="object"&&e!==null?e:{}}function J(e){e&&e.c()}function K(e,t,n){const{fragment:r,after_update:o}=e.$$;r&&r.m(t,n),It(()=>{const l=e.$$.on_mount.map(ue).filter(jt);e.$$.on_destroy?e.$$.on_destroy.push(...l):nt(l),e.$$.on_mount=[]}),o.forEach(It)}function Z(e,t){const n=e.$$;n.fragment!==null&&(xe(n.after_update),nt(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function De(e,t){e.$$.dirty[0]===-1&&(_t.push(e),pe(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function it(e,t,n,r,o,l,a=null,s=[-1]){const i=wt;bt(e);const u=e.$$={fragment:null,ctx:[],props:l,update:x,not_equal:o,bound:Qt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(i?i.$$.context:[])),callbacks:Qt(),dirty:s,skip_bound:!1,root:t.target||i.$$.root};a&&a(u.root);let p=!1;if(u.ctx=n?n(e,t.props||{},(g,w,...d)=>{const f=d.length?d[0]:w;return u.ctx&&o(u.ctx[g],u.ctx[g]=f)&&(!u.skip_bound&&u.bound[g]&&u.bound[g](f),p&&De(e,g)),w}):[],u.update(),p=!0,nt(u.before_update),u.fragment=r?r(u.ctx):!1,t.target){if(t.hydrate){const g=Re(t.target);u.fragment&&u.fragment.l(g),g.forEach(j)}else u.fragment&&u.fragment.c();t.intro&&V(e.$$.fragment),K(e,t.target,t.anchor),_e()}bt(i)}class lt{constructor(){P(this,"$$");P(this,"$$set")}$destroy(){Z(this,1),this.$destroy=x}$on(t,n){if(!jt(n))return x;const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(n),()=>{const o=r.indexOf(n);o!==-1&&r.splice(o,1)}}$set(t){this.$$set&&!Le(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const qe="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(qe);const pt=[];function ge(e,t){return{subscribe:Gt(e,t).subscribe}}function Gt(e,t=x){let n;const r=new Set;function o(s){if(rt(e,s)&&(e=s,n)){const i=!pt.length;for(const u of r)u[1](),pt.push(u,e);if(i){for(let u=0;u<pt.length;u+=2)pt[u][0](pt[u+1]);pt.length=0}}}function l(s){o(s(e))}function a(s,i=x){const u=[s,i];return r.add(u),r.size===1&&(n=t(o,l)||x),s(e),()=>{r.delete(u),r.size===0&&n&&(n(),n=null)}}return{set:o,update:l,subscribe:a}}function me(e,t,n){const r=!Array.isArray(e),o=r?[e]:e;if(!o.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const l=t.length<2;return ge(n,(a,s)=>{let i=!1;const u=[];let p=0,g=x;const w=()=>{if(p)return;g();const f=t(r?u[0]:u,a,s);l?a(f):g=jt(f)?f:x},d=o.map((f,L)=>ce(f,E=>{u[L]=E,p&=~(1<<L),i&&w()},()=>{p|=1<<L}));return i=!0,w(),function(){nt(d),g(),i=!1}})}function Be(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var n,r,o,l,a=[],s="",i=e.split("/");for(i[0]||i.shift();o=i.shift();)n=o[0],n==="*"?(a.push("wild"),s+="/(.*)"):n===":"?(r=o.indexOf("?",1),l=o.indexOf(".",1),a.push(o.substring(1,~r?r:~l?l:o.length)),s+=~r&&!~l?"(?:/([^/]+?))?":"/([^/]+?)",~l&&(s+=(~r?"?":"")+"\\"+o.substring(l))):s+="/"+o;return{keys:a,pattern:new RegExp("^"+s+(t?"(?=$|/)":"/?$"),"i")}}function Ie(e){let t,n,r;const o=[e[2]];var l=e[0];function a(s,i){let u={};if(i!==void 0&&i&4)u=Pt(o,[Tt(s[2])]);else for(let p=0;p<o.length;p+=1)u=Nt(u,o[p]);return{props:u}}return l&&(t=Ct(l,a(e)),t.$on("routeEvent",e[7])),{c(){t&&J(t.$$.fragment),n=Ut()},m(s,i){t&&K(t,s,i),F(s,n,i),r=!0},p(s,i){if(i&1&&l!==(l=s[0])){if(t){Mt();const u=t;Y(u.$$.fragment,1,0,()=>{Z(u,1)}),zt()}l?(t=Ct(l,a(s,i)),t.$on("routeEvent",s[7]),J(t.$$.fragment),V(t.$$.fragment,1),K(t,n.parentNode,n)):t=null}else if(l){const u=i&4?Pt(o,[Tt(s[2])]):{};t.$set(u)}},i(s){r||(t&&V(t.$$.fragment,s),r=!0)},o(s){t&&Y(t.$$.fragment,s),r=!1},d(s){s&&j(n),t&&Z(t,s)}}}function Ne(e){let t,n,r;const o=[{params:e[1]},e[2]];var l=e[0];function a(s,i){let u={};if(i!==void 0&&i&6)u=Pt(o,[i&2&&{params:s[1]},i&4&&Tt(s[2])]);else for(let p=0;p<o.length;p+=1)u=Nt(u,o[p]);return{props:u}}return l&&(t=Ct(l,a(e)),t.$on("routeEvent",e[6])),{c(){t&&J(t.$$.fragment),n=Ut()},m(s,i){t&&K(t,s,i),F(s,n,i),r=!0},p(s,i){if(i&1&&l!==(l=s[0])){if(t){Mt();const u=t;Y(u.$$.fragment,1,0,()=>{Z(u,1)}),zt()}l?(t=Ct(l,a(s,i)),t.$on("routeEvent",s[6]),J(t.$$.fragment),V(t.$$.fragment,1),K(t,n.parentNode,n)):t=null}else if(l){const u=i&6?Pt(o,[i&2&&{params:s[1]},i&4&&Tt(s[2])]):{};t.$set(u)}},i(s){r||(t&&V(t.$$.fragment,s),r=!0)},o(s){t&&Y(t.$$.fragment,s),r=!1},d(s){s&&j(n),t&&Z(t,s)}}}function Ue(e){let t,n,r,o;const l=[Ne,Ie],a=[];function s(i,u){return i[1]?0:1}return t=s(e),n=a[t]=l[t](e),{c(){n.c(),r=Ut()},m(i,u){a[t].m(i,u),F(i,r,u),o=!0},p(i,[u]){let p=t;t=s(i),t===p?a[t].p(i,u):(Mt(),Y(a[p],1,1,()=>{a[p]=null}),zt(),n=a[t],n?n.p(i,u):(n=a[t]=l[t](i),n.c()),V(n,1),n.m(r.parentNode,r))},i(i){o||(V(n),o=!0)},o(i){Y(n),o=!1},d(i){i&&j(r),a[t].d(i)}}}function re(){const e=window.location.href.indexOf("#/");let t=e>-1?window.location.href.substr(e+1):"/";const n=t.indexOf("?");let r="";return n>-1&&(r=t.substr(n+1),t=t.substr(0,n)),{location:t,querystring:r}}const Vt=ge(null,function(t){t(re());const n=()=>{t(re())};return window.addEventListener("hashchange",n,!1),function(){window.removeEventListener("hashchange",n,!1)}}),Me=me(Vt,e=>e.location);me(Vt,e=>e.querystring);const se=Gt(void 0);function ze(e,t){if(t=ie(t),!e||!e.tagName||e.tagName.toLowerCase()!="a")throw Error('Action "link" can only be used with <a> tags');return oe(e,t),{update(n){n=ie(n),oe(e,n)}}}function Ve(e){e?window.scrollTo(e.__svelte_spa_router_scrollX,e.__svelte_spa_router_scrollY):window.scrollTo(0,0)}function oe(e,t){let n=t.href||e.getAttribute("href");if(n&&n.charAt(0)=="/")n="#"+n;else if(!n||n.length<2||n.slice(0,2)!="#/")throw Error('Invalid value for "href" attribute: '+n);e.setAttribute("href",n),e.addEventListener("click",r=>{r.preventDefault(),t.disabled||Ye(r.currentTarget.getAttribute("href"))})}function ie(e){return e&&typeof e=="string"?{href:e}:e||{}}function Ye(e){history.replaceState({...history.state,__svelte_spa_router_scrollX:window.scrollX,__svelte_spa_router_scrollY:window.scrollY},void 0),window.location.hash=e}function He(e,t,n){let{routes:r={}}=t,{prefix:o=""}=t,{restoreScrollState:l=!1}=t;class a{constructor(m,v){if(!v||typeof v!="function"&&(typeof v!="object"||v._sveltesparouter!==!0))throw Error("Invalid component object");if(!m||typeof m=="string"&&(m.length<1||m.charAt(0)!="/"&&m.charAt(0)!="*")||typeof m=="object"&&!(m instanceof RegExp))throw Error('Invalid value for "path" argument - strings must start with / or *');const{pattern:G,keys:y}=Be(m);this.path=m,typeof v=="object"&&v._sveltesparouter===!0?(this.component=v.component,this.conditions=v.conditions||[],this.userData=v.userData,this.props=v.props||{}):(this.component=()=>Promise.resolve(v),this.conditions=[],this.props={}),this._pattern=G,this._keys=y}match(m){if(o){if(typeof o=="string")if(m.startsWith(o))m=m.substr(o.length)||"/";else return null;else if(o instanceof RegExp){const D=m.match(o);if(D&&D[0])m=m.substr(D[0].length)||"/";else return null}}const v=this._pattern.exec(m);if(v===null)return null;if(this._keys===!1)return v;const G={};let y=0;for(;y<this._keys.length;){try{G[this._keys[y]]=decodeURIComponent(v[y+1]||"")||null}catch{G[this._keys[y]]=null}y++}return G}async checkConditions(m){for(let v=0;v<this.conditions.length;v++)if(!await this.conditions[v](m))return!1;return!0}}const s=[];r instanceof Map?r.forEach((b,m)=>{s.push(new a(m,b))}):Object.keys(r).forEach(b=>{s.push(new a(b,r[b]))});let i=null,u=null,p={};const g=Fe();async function w(b,m){await Ge(),g(b,m)}let d=null,f=null;l&&(f=b=>{b.state&&(b.state.__svelte_spa_router_scrollY||b.state.__svelte_spa_router_scrollX)?d=b.state:d=null},window.addEventListener("popstate",f),Te(()=>{Ve(d)}));let L=null,E=null;const k=Vt.subscribe(async b=>{L=b;let m=0;for(;m<s.length;){const v=s[m].match(b.location);if(!v){m++;continue}const G={route:s[m].path,location:b.location,querystring:b.querystring,userData:s[m].userData,params:v&&typeof v=="object"&&Object.keys(v).length?v:null};if(!await s[m].checkConditions(G)){n(0,i=null),E=null,w("conditionsFailed",G);return}w("routeLoading",Object.assign({},G));const y=s[m].component;if(E!=y){y.loading?(n(0,i=y.loading),E=y,n(1,u=y.loadingParams),n(2,p={}),w("routeLoaded",Object.assign({},G,{component:i,name:i.name,params:u}))):(n(0,i=null),E=null);const D=await y();if(b!=L)return;n(0,i=D&&D.default||D),E=y}v&&typeof v=="object"&&Object.keys(v).length?n(1,u=v):n(1,u=null),n(2,p=s[m].props),w("routeLoaded",Object.assign({},G,{component:i,name:i.name,params:u})).then(()=>{se.set(u)});return}n(0,i=null),E=null,se.set(void 0)});je(()=>{k(),f&&window.removeEventListener("popstate",f)});function I(b){ee.call(this,e,b)}function A(b){ee.call(this,e,b)}return e.$$set=b=>{"routes"in b&&n(3,r=b.routes),"prefix"in b&&n(4,o=b.prefix),"restoreScrollState"in b&&n(5,l=b.restoreScrollState)},e.$$.update=()=>{e.$$.dirty&32&&(history.scrollRestoration=l?"manual":"auto")},[i,u,p,r,o,l,I,A]}class Xe extends lt{constructor(t){super(),it(this,t,He,Ue,rt,{routes:3,prefix:4,restoreScrollState:5})}}function We(e){let t;return{c(){t=mt("Nothing to see here. Go to Engine or Shader Art.")},m(n,r){F(n,t,r)},p:x,i:x,o:x,d(n){n&&j(t)}}}class Ke extends lt{constructor(t){super(),it(this,t,null,We,rt,{})}}const Ze=`#version 300 es

layout(location = 0) in vec2 aPosition;
out vec2 fragCoord;

void main()
{
    fragCoord = aPosition;
    gl_Position = vec4(aPosition, 0.0, 1.0);
}
`,Je=`#version 300 es

precision mediump float;

in vec2 fragCoord;
uniform float uTime;
uniform float uDensity;

out vec4 fragColor;

//https://iquilezles.org/articles/palettes/
vec3 palette( float t ) {
    vec3 a = vec3(0.5, 0.5, 0.5);
    vec3 b = vec3(0.5, 0.5, 0.5);
    vec3 c = vec3(1.0, 1.0, 1.0);
    vec3 d = vec3(0.263,0.416,0.557);

    return a + b*cos( 6.28318*(c*t+d) );
}

void main()
{
    vec2 uv = fragCoord;
    float d = length(uv);

    vec2 uv0 = uv;
    vec3 finalColor = vec3(0.0);

    for (float i = 0.0; i < 4.0; i++) {
        uv = fract(uv * uDensity / 10.0) - 0.5;

        float d = length(uv) * exp(-length(uv0));

        vec3 col = palette(length(uv0) + i*.4 + uTime*.4);

        d = sin(d * 8. + uTime)/8.;
        d = abs(d);

        d = pow(0.01 / d, 1.2);

        finalColor += col * d;
    }

    fragColor = vec4(finalColor, 1.0);
}
`,At=Gt(15),kt=Gt(1e3);function Qe(e){let t,n,r,o,l;return{c(){t=_("input"),n=S(),r=_("input"),c(t,"type","number"),c(t,"min","100"),c(t,"max","3000"),c(r,"id",e[0]),c(r,"type","range"),c(r,"min","100"),c(r,"max","3000")},m(a,s){F(a,t,s),$(t,e[1]),F(a,n,s),F(a,r,s),$(r,e[1]),o||(l=[M(t,"input",e[2]),M(r,"change",e[3]),M(r,"input",e[3])],o=!0)},p(a,[s]){s&2&&T(t.value)!==a[1]&&$(t,a[1]),s&1&&c(r,"id",a[0]),s&2&&$(r,a[1])},i:x,o:x,d(a){a&&(j(t),j(n),j(r)),o=!1,nt(l)}}}function tn(e,t,n){let r;vt(e,kt,s=>n(1,r=s));let{id:o="speed-slider"}=t;function l(){r=T(this.value),kt.set(r)}function a(){r=T(this.value),kt.set(r)}return e.$$set=s=>{"id"in s&&n(0,o=s.id)},[o,r,l,a]}class en extends lt{constructor(t){super(),it(this,t,tn,Qe,rt,{id:0})}}function nn(e){let t,n,r,o,l;return{c(){t=_("input"),n=S(),r=_("input"),c(t,"type","number"),c(t,"min","1"),c(t,"max","30"),c(r,"id",e[0]),c(r,"type","range"),c(r,"min","1"),c(r,"max","30")},m(a,s){F(a,t,s),$(t,e[1]),F(a,n,s),F(a,r,s),$(r,e[1]),o||(l=[M(t,"input",e[2]),M(r,"change",e[3]),M(r,"input",e[3])],o=!0)},p(a,[s]){s&2&&T(t.value)!==a[1]&&$(t,a[1]),s&1&&c(r,"id",a[0]),s&2&&$(r,a[1])},i:x,o:x,d(a){a&&(j(t),j(n),j(r)),o=!1,nt(l)}}}function rn(e,t,n){let r;vt(e,At,s=>n(1,r=s));let{id:o="density-slider"}=t;function l(){r=T(this.value),At.set(r)}function a(){r=T(this.value),At.set(r)}return e.$$set=s=>{"id"in s&&n(0,o=s.id)},[o,r,l,a]}class sn extends lt{constructor(t){super(),it(this,t,rn,nn,rt,{id:0})}}function on(e){let t,n,r,o,l,a,s,i,u,p,g,w,d;return o=new en({props:{id:"speed-slider"}}),i=new sn({props:{id:"density-slider"}}),{c(){t=_("div"),n=_("label"),n.textContent="Speed",r=S(),J(o.$$.fragment),l=S(),a=_("label"),a.textContent="Density",s=S(),J(i.$$.fragment),u=S(),p=_("canvas"),g=S(),w=_("div"),w.innerHTML='<a href="https://www.youtube.com/watch?v=f4s1h2YETNY&amp;t=583s">Shader code by kishimisu</a>',c(n,"for","speed-slider"),c(a,"for","speed-slider"),c(t,"class","toolbar"),c(p,"width","1024"),c(p,"height","1024")},m(f,L){F(f,t,L),h(t,n),h(t,r),K(o,t,null),h(t,l),h(t,a),h(t,s),K(i,t,null),F(f,u,L),F(f,p,L),e[1](p),F(f,g,L),F(f,w,L),d=!0},p:x,i(f){d||(V(o.$$.fragment,f),V(i.$$.fragment,f),d=!0)},o(f){Y(o.$$.fragment,f),Y(i.$$.fragment,f),d=!1},d(f){f&&(j(t),j(u),j(p),j(g),j(w)),Z(o),Z(i),e[1](null)}}}function ln(e,t,n){let r,o;vt(e,kt,s=>n(2,r=s)),vt(e,At,s=>n(3,o=s));let l;he(()=>{const s=l.getContext("webgl2");if(!s)return;const i=s.createProgram();if(!i)return;const u=s.createShader(s.VERTEX_SHADER);if(!u)return;s.shaderSource(u,Ze),s.compileShader(u),s.attachShader(i,u);const p=s.createShader(s.FRAGMENT_SHADER);if(!p)return;s.shaderSource(p,Je),s.compileShader(p),s.attachShader(i,p),s.linkProgram(i),s.getProgramParameter(i,s.LINK_STATUS)||(console.log(s.getShaderInfoLog(u)),console.log(s.getShaderInfoLog(p)));const g=new Float32Array([-1,-1,1,-1,-1,1,1,-1,-1,1,1,1]),w=s.getUniformLocation(i,"uResolution");s.uniform2f(w,1024,1024);const d=s.getUniformLocation(i,"uTime");s.uniform1f(d,0);const f=s.getUniformLocation(i,"uDensity");s.uniform1f(f,15);const L=s.createBuffer();s.bindBuffer(s.ARRAY_BUFFER,L),s.bufferData(s.ARRAY_BUFFER,g,s.STATIC_DRAW);const E=0;s.enableVertexAttribArray(E),s.vertexAttribPointer(E,2,s.FLOAT,!1,2*4,0);const k=(I=0)=>{s.clearColor(0,0,0,1),s.clear(s.COLOR_BUFFER_BIT),s.uniform1f(f,o),s.uniform1f(d,I/1e6*r),s.useProgram(i),s.drawArrays(s.TRIANGLES,0,6),requestAnimationFrame(k)};k()});function a(s){Rt[s?"unshift":"push"](()=>{l=s,n(0,l)})}return[l,a]}class an extends lt{constructor(t){super(),it(this,t,ln,on,rt,{})}}function un(e){let t,n,r,o;const l=e[3].default,a=$e(l,e,e[2],null);return{c(){t=_("a"),a&&a.c(),c(t,"href",e[0]),c(t,"class","svelte-1dzzut9"),te(t,"active",e[1]===e[0])},m(s,i){F(s,t,i),a&&a.m(t,null),n=!0,r||(o=Ce(ze.call(null,t)),r=!0)},p(s,[i]){a&&a.p&&(!n||i&4)&&Ae(a,l,s,s[2],n?Ee(l,s[2],i,null):ke(s[2]),null),(!n||i&1)&&c(t,"href",s[0]),(!n||i&3)&&te(t,"active",s[1]===s[0])},i(s){n||(V(a,s),n=!0)},o(s){Y(a,s),n=!1},d(s){s&&j(t),a&&a.d(s),r=!1,o()}}}function cn(e,t,n){let r;vt(e,Me,s=>n(1,r=s));let{$$slots:o={},$$scope:l}=t,{href:a=""}=t;return e.$$set=s=>{"href"in s&&n(0,a=s.href),"$$scope"in s&&n(2,l=s.$$scope)},[a,r,l,o]}class Dt extends lt{constructor(t){super(),it(this,t,cn,un,rt,{href:0})}}const fn=`#version 300 es

// an attribute is an input (in) to a vertex shader.
// It will receive data from a buffer
in vec4 a_position;

uniform mat4 u_transformation;

void main() {
  // Multiply the position by the matrix.
  gl_Position = u_transformation * a_position;
}
`,hn=`#version 300 es

precision highp float;

uniform vec4 u_color;

// we need to declare an output for the fragment shader
out vec4 outColor;

void main() {
  outColor = u_color;
}
`;class dn{constructor(t){P(this,"_gl",null);P(this,"_canvas");P(this,"_width");P(this,"_height");this._width=t.width,this._height=t.height,this._canvas=t,this.updateGL(),this.updateViewPort()}set canvas(t){this._canvas=t,this.updateGL(),this.updateViewPort()}updateGL(){const t=this._canvas.getContext("webgl2");if(!t)throw`Could not get webgl2 context of canvas element: ${this._canvas}`;this._gl=t}updateViewPort(){if(!this._gl)throw"Could not update viewport.";this._gl.viewport(0,0,this._gl.canvas.width,this._gl.canvas.height)}linkProgram(t){if(!this._gl)throw"Could not link program.";this._gl.linkProgram(t.webGLProgram),this._gl.getProgramParameter(t.webGLProgram,this._gl.LINK_STATUS)||(t.vertexShader&&console.log(this._gl.getShaderInfoLog(t.vertexShader.webGLShader)),t.fragmentShader&&console.log(this._gl.getShaderInfoLog(t.fragmentShader.webGLShader)))}get width(){return this._width}get height(){return this._height}get gl(){return this._gl}}class be{constructor({gl:t,source:n}){P(this,"_gl");P(this,"_webGLShader");P(this,"source",null);this._gl=t,this._webGLShader=this.create(),n&&(this._gl.shaderSource(this._webGLShader,n),this._gl.compileShader(this._webGLShader))}get webGLShader(){return this._webGLShader}}class ve extends be{constructor({gl:t,source:n}){super({gl:t,source:n})}create(){const t=this._gl.createShader(this._gl.VERTEX_SHADER);if(!t)throw"Could not create VertexShader";return t}updateSource(t){}}class we extends be{constructor({gl:t,source:n}){super({gl:t,source:n})}create(){const t=this._gl.createShader(this._gl.FRAGMENT_SHADER);if(!t)throw"Could not create FragmentShader";return t}updateSource(t){}}class pn{constructor(t){P(this,"_gl");P(this,"_webGLProgram");P(this,"_vertexShader",null);P(this,"_fragmentShader",null);this._gl=t;const n=t.createProgram();if(!n)throw"Could not create program";this._webGLProgram=n}attachShader(t){this._gl.attachShader(this._webGLProgram,t.webGLShader),t instanceof ve&&(this._vertexShader=t),t instanceof we&&(this._fragmentShader=t)}getUniformLocation(t){return this._gl.getUniformLocation(this._webGLProgram,t)}get webGLProgram(){return this._webGLProgram}get vertexShader(){return this._vertexShader}get fragmentShader(){return this._fragmentShader}}class _n{constructor({gl:t,name:n,program:r}){P(this,"_gl");P(this,"_buffer");P(this,"_name");P(this,"_program",null);P(this,"_vao",null);this._gl=t,this._name=n,r&&(this._program=r);const o=t.createBuffer();if(!o)throw"Could not create buffer";this._buffer=o}get name(){return this._name}get buffer(){return this._buffer}get vao(){if(!this._vao)throw"Could not get vao of attribute. Was the data set already?";return this._vao}getLocation(){if(!this._program)throw"Could not get location of attribute. No program attached.";return this._gl.getAttribLocation(this._program.webGLProgram,this._name)}setBufferData(t){this._vao=this._gl.createVertexArray(),this._gl.bindVertexArray(this._vao),this._gl.enableVertexAttribArray(this.getLocation()),this._gl.bindBuffer(this._gl.ARRAY_BUFFER,this._buffer),this._gl.bufferData(this._gl.ARRAY_BUFFER,t,this._gl.STATIC_DRAW);var n=3,r=this._gl.FLOAT,o=!1,l=0,a=0;this._gl.vertexAttribPointer(this.getLocation(),n,r,o,l,a)}}class le{constructor({gl:t,type:n,name:r,program:o,value:l}){P(this,"_gl");P(this,"_value",null);P(this,"_type");P(this,"_name");P(this,"_program",null);this._gl=t,this._name=r,this._type=n,o&&(this._program=o),l&&(this.value=l)}get value(){return this._value}set value(t){if(this._value=t,Array.isArray(t))switch(this._type){case"2i":case"2f":this._gl.uniform2f(this.getLocation(),t[0],t[1]);break;case"3f":case"3i":this._gl.uniform3f(this.getLocation(),t[0],t[1],t[2]);break;case"4f":case"4i":this._gl.uniform4f(this.getLocation(),t[0],t[1],t[2],t[3]);break;case"matrix2fv":this._gl.uniformMatrix2fv(this.getLocation(),!1,t);break;case"matrix3fv":this._gl.uniformMatrix3fv(this.getLocation(),!1,t);break;case"matrix4fv":this._gl.uniformMatrix4fv(this.getLocation(),!1,t);break;case"2fv":this._gl.uniform2fv(this.getLocation(),t);break;case"3fv":this._gl.uniform3fv(this.getLocation(),t);break;case"4fv":this._gl.uniform4fv(this.getLocation(),t);break;default:throw`Invalid value ${t} for type ${this._type}`}else switch(this._type){case"1f":case"1i":this._gl.uniform1i(this.getLocation(),t);break;default:throw`Invalid value ${t} for type ${this._type}`}}getLocation(){if(!this._program)throw"Could not get location of uniform. No program attached.";return this._gl.getUniformLocation(this._program.webGLProgram,this._name)}}const gn=new Float32Array([0,0,0,30,0,0,0,150,0,0,150,0,30,0,0,30,150,0,30,0,0,100,0,0,30,30,0,30,30,0,100,0,0,100,30,0,30,60,0,67,60,0,30,90,0,30,90,0,67,60,0,67,90,0,0,0,30,30,0,30,0,150,30,0,150,30,30,0,30,30,150,30,30,0,30,100,0,30,30,30,30,30,30,30,100,0,30,100,30,30,30,60,30,67,60,30,30,90,30,30,90,30,67,60,30,67,90,30,0,0,0,100,0,0,100,0,30,0,0,0,100,0,30,0,0,30,100,0,0,100,30,0,100,30,30,100,0,0,100,30,30,100,0,30,30,30,0,30,30,30,100,30,30,30,30,0,100,30,30,100,30,0,30,30,0,30,30,30,30,60,30,30,30,0,30,60,30,30,60,0,30,60,0,30,60,30,67,60,30,30,60,0,67,60,30,67,60,0,67,60,0,67,60,30,67,90,30,67,60,0,67,90,30,67,90,0,30,90,0,30,90,30,67,90,30,30,90,0,67,90,30,67,90,0,30,90,0,30,90,30,30,150,30,30,90,0,30,150,30,30,150,0,0,150,0,0,150,30,30,150,30,0,150,0,30,150,30,30,150,0,0,0,0,0,0,30,0,150,30,0,0,0,0,150,30,0,150,0]);function qt(e){return e*(Math.PI/180)}const B={identity:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],projection:function(e,t,n){return[2/e,0,0,0,0,-2/t,0,0,0,0,2/n,0,-1,1,0,1]},multiply:function(e,t){const n=t[0],r=t[0*4+1],o=t[0*4+2],l=t[0*4+3],a=t[1*4+0],s=t[1*4+1],i=t[1*4+2],u=t[1*4+3],p=t[2*4+0],g=t[2*4+1],w=t[2*4+2],d=t[2*4+3],f=t[3*4+0],L=t[3*4+1],E=t[3*4+2],k=t[3*4+3],I=e[0*4+0],A=e[0*4+1],b=e[0*4+2],m=e[0*4+3],v=e[1*4+0],G=e[1*4+1],y=e[1*4+2],D=e[1*4+3],H=e[2*4+0],Q=e[2*4+1],q=e[2*4+2],tt=e[2*4+3],X=e[3*4+0],N=e[3*4+1],C=e[3*4+2],W=e[3*4+3];return[n*I+r*v+o*H+l*X,n*A+r*G+o*Q+l*N,n*b+r*y+o*q+l*C,n*m+r*D+o*tt+l*W,a*I+s*v+i*H+u*X,a*A+s*G+i*Q+u*N,a*b+s*y+i*q+u*C,a*m+s*D+i*tt+u*W,p*I+g*v+w*H+d*X,p*A+g*G+w*Q+d*N,p*b+g*y+w*q+d*C,p*m+g*D+w*tt+d*W,f*I+L*v+E*H+k*X,f*A+L*G+E*Q+k*N,f*b+L*y+E*q+k*C,f*m+L*D+E*tt+k*W]},translate:function(e,t,n,r){return B.multiply(e,B.translation(t,n,r))},xRotate:function(e,t){return B.multiply(e,B.xRotation(t))},yRotate:function(e,t){return B.multiply(e,B.yRotation(t))},zRotate:function(e,t){return B.multiply(e,B.zRotation(t))},scale:function(e,t,n,r){return B.multiply(e,B.scaling(t,n,r))},translation:function(e,t,n){return[1,0,0,0,0,1,0,0,0,0,1,0,e,t,n,1]},xRotation:function(e){const t=Math.cos(e),n=Math.sin(e);return[1,0,0,0,0,t,n,0,0,-n,t,0,0,0,0,1]},yRotation:function(e){const t=Math.cos(e),n=Math.sin(e);return[t,0,-n,0,0,1,0,0,n,0,t,0,0,0,0,1]},zRotation:function(e){const t=Math.cos(e),n=Math.sin(e);return[t,n,0,0,-n,t,0,0,0,0,1,0,0,0,0,1]},scaling:function(e,t,n){return[e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1]}};function ae(e,t=!1){e=e.replace(/^#/,"");const n=parseInt(e,16),r=n>>16&255,o=n>>8&255,l=n&255;return t?[r/256,o/256,l/256]:[r,o,l]}function mn(e){let t,n,r,o,l,a,s,i,u,p,g,w,d,f,L,E,k,I,A,b,m,v,G,y,D,H,Q,q,tt,X,N,C,W,O,st,U,ot,yt,et,Yt,St,Ht,at,Xt,Lt,Wt,ut,Kt,ft,$t,Zt,ht,Ot,Jt;return{c(){t=_("canvas"),n=S(),r=_("div"),o=_("div"),l=_("span"),l.textContent="Positon:",a=S(),s=_("span"),s.textContent="x",i=S(),u=_("input"),p=S(),g=_("span"),g.textContent="y",w=S(),d=_("input"),f=S(),L=_("span"),L.textContent="z",E=S(),k=_("input"),I=S(),A=_("div"),b=_("span"),b.textContent="Scale:",m=S(),v=_("span"),v.textContent="x",G=S(),y=_("input"),D=S(),H=_("span"),H.textContent="y",Q=S(),q=_("input"),tt=S(),X=_("span"),X.textContent="z",N=S(),C=_("input"),W=S(),O=_("div"),st=_("span"),st.textContent="Rotation:",U=S(),ot=_("span"),ot.textContent="x",yt=S(),et=_("input"),Yt=S(),St=_("span"),St.textContent="y",Ht=S(),at=_("input"),Xt=S(),Lt=_("span"),Lt.textContent="z",Wt=S(),ut=_("input"),Kt=S(),ft=_("div"),$t=_("span"),$t.textContent="Color:",Zt=S(),ht=_("input"),c(t,"width","512"),c(t,"height","512"),c(t,"class","svelte-1q6yc4t"),c(l,"class",".label"),c(s,"class","label svelte-1q6yc4t"),c(u,"type","number"),c(u,"min",0),c(u,"max",412),c(g,"class","label svelte-1q6yc4t"),c(d,"type","number"),c(d,"min",0),c(d,"max",362),c(L,"class","label svelte-1q6yc4t"),c(k,"type","number"),c(k,"min",0),c(k,"max",362),c(o,"class","control"),c(b,"class","label svelte-1q6yc4t"),c(v,"class","label svelte-1q6yc4t"),c(y,"type","number"),c(y,"min",.1),c(y,"max",3),c(y,"step",.1),c(H,"class","label svelte-1q6yc4t"),c(q,"type","number"),c(q,"min",.1),c(q,"max",3),c(q,"step",.1),c(X,"class","label svelte-1q6yc4t"),c(C,"type","number"),c(C,"min",.1),c(C,"max",3),c(C,"step",.1),c(A,"class","control"),c(st,"class","label svelte-1q6yc4t"),c(ot,"class","label svelte-1q6yc4t"),c(et,"type","number"),c(St,"class","label svelte-1q6yc4t"),c(at,"type","number"),c(Lt,"class","label svelte-1q6yc4t"),c(ut,"type","number"),c(O,"class","control"),c($t,"class","label svelte-1q6yc4t"),c(ht,"type","color"),c(ft,"class","control"),c(r,"class","controls svelte-1q6yc4t")},m(R,z){F(R,t,z),e[11](t),F(R,n,z),F(R,r,z),h(r,o),h(o,l),h(o,a),h(o,s),h(o,i),h(o,u),$(u,e[2]),h(o,p),h(o,g),h(o,w),h(o,d),$(d,e[3]),h(o,f),h(o,L),h(o,E),h(o,k),$(k,e[4]),h(r,I),h(r,A),h(A,b),h(A,m),h(A,v),h(A,G),h(A,y),$(y,e[8]),h(A,D),h(A,H),h(A,Q),h(A,q),$(q,e[9]),h(A,tt),h(A,X),h(A,N),h(A,C),$(C,e[10]),h(r,W),h(r,O),h(O,st),h(O,U),h(O,ot),h(O,yt),h(O,et),$(et,e[5]),h(O,Yt),h(O,St),h(O,Ht),h(O,at),$(at,e[6]),h(O,Xt),h(O,Lt),h(O,Wt),h(O,ut),$(ut,e[7]),h(r,Kt),h(r,ft),h(ft,$t),h(ft,Zt),h(ft,ht),$(ht,e[1]),Ot||(Jt=[M(u,"input",e[12]),M(d,"input",e[13]),M(k,"input",e[14]),M(y,"input",e[15]),M(q,"input",e[16]),M(C,"input",e[17]),M(et,"input",e[18]),M(at,"input",e[19]),M(ut,"input",e[20]),M(ht,"input",e[21])],Ot=!0)},p(R,[z]){z&4&&T(u.value)!==R[2]&&$(u,R[2]),z&8&&T(d.value)!==R[3]&&$(d,R[3]),z&16&&T(k.value)!==R[4]&&$(k,R[4]),z&256&&T(y.value)!==R[8]&&$(y,R[8]),z&512&&T(q.value)!==R[9]&&$(q,R[9]),z&1024&&T(C.value)!==R[10]&&$(C,R[10]),z&32&&T(et.value)!==R[5]&&$(et,R[5]),z&64&&T(at.value)!==R[6]&&$(at,R[6]),z&128&&T(ut.value)!==R[7]&&$(ut,R[7]),z&2&&$(ht,R[1])},i:x,o:x,d(R){R&&(j(t),j(n),j(r)),e[11](null),Ot=!1,nt(Jt)}}}function bn(e,t,n){let r,o="#0E86E1",l=256,a=256,s=0,i=0,u=0,p=0,g=1,w=1,d=1,f,L,E=gn,k,I;he(()=>{const N=new dn(r);if(!N.gl)throw"Could not get gl from Engine.";f=N.gl;const C=new pn(f),W=new ve({gl:f,source:fn}),O=new we({gl:f,source:hn});C.attachShader(W),C.attachShader(O),N.linkProgram(C),f.useProgram(C.webGLProgram),I=new _n({gl:f,name:"a_position",program:C}),I.setBufferData(E),f.bindVertexArray(I.vao);const[st,U,ot]=ae(o,!0);L=new le({gl:f,type:"4fv",name:"u_color",program:C,value:[st,U,ot,1]}),k=new le({gl:f,type:"matrix4fv",name:"u_transformation",program:C,value:B.identity}),A()});function A(){if(!f)return;let N=r instanceof OffscreenCanvas?r.width:r.clientWidth,C=r instanceof OffscreenCanvas?r.height:r.clientHeight;f.clearColor(0,0,0,0),f.clear(f.COLOR_BUFFER_BIT|f.DEPTH_BUFFER_BIT);const[W,O,st]=ae(o,!0);L.value=[W,O,st,1];var U=B.projection(N,C,512);U=B.translate(U,l,a,s),U=B.xRotate(U,qt(360-i)),U=B.yRotate(U,qt(360-u)),U=B.zRotate(U,qt(360-p)),U=B.scale(U,g,w,d),k.value=U,I.setBufferData(E);const ot=f.TRIANGLES,yt=0,et=E.length/3;f.drawArrays(ot,yt,et),requestAnimationFrame(A)}function b(N){Rt[N?"unshift":"push"](()=>{r=N,n(0,r)})}function m(){l=T(this.value),n(2,l)}function v(){a=T(this.value),n(3,a)}function G(){s=T(this.value),n(4,s)}function y(){g=T(this.value),n(8,g)}function D(){w=T(this.value),n(9,w)}function H(){d=T(this.value),n(10,d)}function Q(){i=T(this.value),n(5,i)}function q(){u=T(this.value),n(6,u)}function tt(){p=T(this.value),n(7,p)}function X(){o=this.value,n(1,o)}return[r,o,l,a,s,i,u,p,g,w,d,b,m,v,G,y,D,H,Q,q,tt,X]}class vn extends lt{constructor(t){super(),it(this,t,bn,mn,rt,{})}}function wn(e){let t;return{c(){t=mt("Engine")},m(n,r){F(n,t,r)},d(n){n&&j(t)}}}function yn(e){let t;return{c(){t=mt("Home")},m(n,r){F(n,t,r)},d(n){n&&j(t)}}}function Sn(e){let t;return{c(){t=mt("Shader Art")},m(n,r){F(n,t,r)},d(n){n&&j(t)}}}function Ln(e){let t,n,r,o,l,a,s,i,u,p,g,w;return o=new Dt({props:{href:"/engine",$$slots:{default:[wn]},$$scope:{ctx:e}}}),a=new Dt({props:{href:"/home",$$slots:{default:[yn]},$$scope:{ctx:e}}}),i=new Dt({props:{href:"/shaderart",$$slots:{default:[Sn]},$$scope:{ctx:e}}}),g=new Xe({props:{routes:e[0]}}),{c(){t=_("div"),n=_("header"),r=_("nav"),J(o.$$.fragment),l=S(),J(a.$$.fragment),s=S(),J(i.$$.fragment),u=S(),p=_("main"),J(g.$$.fragment),c(r,"class","svelte-j54tjh"),c(n,"class","svelte-j54tjh"),c(p,"class","svelte-j54tjh"),c(t,"class","content svelte-j54tjh")},m(d,f){F(d,t,f),h(t,n),h(n,r),K(o,r,null),h(r,l),K(a,r,null),h(r,s),K(i,r,null),h(t,u),h(t,p),K(g,p,null),w=!0},p(d,[f]){const L={};f&2&&(L.$$scope={dirty:f,ctx:d}),o.$set(L);const E={};f&2&&(E.$$scope={dirty:f,ctx:d}),a.$set(E);const k={};f&2&&(k.$$scope={dirty:f,ctx:d}),i.$set(k)},i(d){w||(V(o.$$.fragment,d),V(a.$$.fragment,d),V(i.$$.fragment,d),V(g.$$.fragment,d),w=!0)},o(d){Y(o.$$.fragment,d),Y(a.$$.fragment,d),Y(i.$$.fragment,d),Y(g.$$.fragment,d),w=!1},d(d){d&&j(t),Z(o),Z(a),Z(i),Z(g)}}}function $n(e){return[{"/":Ke,"/shaderart":an,"/engine":vn}]}class En extends lt{constructor(t){super(),it(this,t,$n,Ln,rt,{})}}new En({target:document.getElementById("app")});
