var Et=Object.defineProperty;var Tt=(n,e,t)=>e in n?Et(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var x=(n,e,t)=>(Tt(n,typeof e!="symbol"?e+"":e,t),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();function U(){}function Xe(n,e){for(const t in e)n[t]=e[t];return n}function at(n){return n()}function Ze(){return Object.create(null)}function ce(n){n.forEach(at)}function Fe(n){return typeof n=="function"}function fe(n,e){return n!=n?e==e:n!==e||n&&typeof n=="object"||typeof n=="function"}function St(n){return Object.keys(n).length===0}function lt(n,...e){if(n==null){for(const r of e)r(void 0);return U}const t=n.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function Te(n,e,t){n.$$.on_destroy.push(lt(e,t))}function At(n,e,t,r){if(n){const i=ut(n,e,t,r);return n[0](i)}}function ut(n,e,t,r){return n[1]&&r?Xe(t.ctx.slice(),n[1](r(e))):t.ctx}function Lt(n,e,t,r){if(n[2]&&r){const i=n[2](r(t));if(e.dirty===void 0)return i;if(typeof i=="object"){const o=[],a=Math.max(e.dirty.length,i.length);for(let s=0;s<a;s+=1)o[s]=e.dirty[s]|i[s];return o}return e.dirty|i}return e.dirty}function Pt(n,e,t,r,i,o){if(i){const a=ut(e,t,r,o);n.p(a,i)}}function Rt(n){if(n.ctx.length>32){const e=[],t=n.ctx.length/32;for(let r=0;r<t;r++)e[r]=-1;return e}return-1}function $t(n){return n&&Fe(n.destroy)?n.destroy:U}function v(n,e){n.appendChild(e)}function Y(n,e,t){n.insertBefore(e,t||null)}function j(n){n.parentNode&&n.parentNode.removeChild(n)}function E(n){return document.createElement(n)}function xe(n){return document.createTextNode(n)}function D(){return xe(" ")}function je(){return xe("")}function re(n,e,t,r){return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t,r)}function c(n,e,t){t==null?n.removeAttribute(e):n.getAttribute(e)!==t&&n.setAttribute(e,t)}function X(n){return n===""?null:+n}function kt(n){return Array.from(n.childNodes)}function G(n,e){n.value=e??""}function Ke(n,e,t){n.classList.toggle(e,!!t)}function Dt(n,e,{bubbles:t=!1,cancelable:r=!1}={}){return new CustomEvent(n,{detail:e,bubbles:t,cancelable:r})}function ke(n,e){return new n(e)}let Se;function Ee(n){Se=n}function Ve(){if(!Se)throw new Error("Function called outside component initialization");return Se}function ct(n){Ve().$$.on_mount.push(n)}function Ct(n){Ve().$$.after_update.push(n)}function Mt(n){Ve().$$.on_destroy.push(n)}function Ft(){const n=Ve();return(e,t,{cancelable:r=!1}={})=>{const i=n.$$.callbacks[e];if(i){const o=Dt(e,t,{cancelable:r});return i.slice().forEach(a=>{a.call(n,o)}),!o.defaultPrevented}return!0}}function Je(n,e){const t=n.$$.callbacks[e.type];t&&t.slice().forEach(r=>r.call(this,e))}const be=[],De=[];let ye=[];const Qe=[],ft=Promise.resolve();let Ue=!1;function ht(){Ue||(Ue=!0,ft.then(dt))}function Vt(){return ht(),ft}function ze(n){ye.push(n)}const qe=new Set;let ve=0;function dt(){if(ve!==0)return;const n=Se;do{try{for(;ve<be.length;){const e=be[ve];ve++,Ee(e),It(e.$$)}}catch(e){throw be.length=0,ve=0,e}for(Ee(null),be.length=0,ve=0;De.length;)De.pop()();for(let e=0;e<ye.length;e+=1){const t=ye[e];qe.has(t)||(qe.add(t),t())}ye.length=0}while(be.length);for(;Qe.length;)Qe.pop()();Ue=!1,qe.clear(),Ee(n)}function It(n){if(n.fragment!==null){n.update(),ce(n.before_update);const e=n.dirty;n.dirty=[-1],n.fragment&&n.fragment.p(n.ctx,e),n.after_update.forEach(ze)}}function qt(n){const e=[],t=[];ye.forEach(r=>n.indexOf(r)===-1?e.push(r):t.push(r)),t.forEach(r=>r()),ye=e}const Pe=new Set;let me;function Be(){me={r:0,c:[],p:me}}function Ye(){me.r||ce(me.c),me=me.p}function Q(n,e){n&&n.i&&(Pe.delete(n),n.i(e))}function te(n,e,t,r){if(n&&n.o){if(Pe.has(n))return;Pe.add(n),me.c.push(()=>{Pe.delete(n),r&&(t&&n.d(1),r())}),n.o(e)}else r&&r()}function Ce(n,e){const t={},r={},i={$$scope:1};let o=n.length;for(;o--;){const a=n[o],s=e[o];if(s){for(const l in a)l in s||(r[l]=1);for(const l in s)i[l]||(t[l]=s[l],i[l]=1);n[o]=s}else for(const l in a)i[l]=1}for(const a in r)a in t||(t[a]=void 0);return t}function Me(n){return typeof n=="object"&&n!==null?n:{}}function le(n){n&&n.c()}function oe(n,e,t){const{fragment:r,after_update:i}=n.$$;r&&r.m(e,t),ze(()=>{const o=n.$$.on_mount.map(at).filter(Fe);n.$$.on_destroy?n.$$.on_destroy.push(...o):ce(o),n.$$.on_mount=[]}),i.forEach(ze)}function ae(n,e){const t=n.$$;t.fragment!==null&&(qt(t.after_update),ce(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function Gt(n,e){n.$$.dirty[0]===-1&&(be.push(n),ht(),n.$$.dirty.fill(0)),n.$$.dirty[e/31|0]|=1<<e%31}function _e(n,e,t,r,i,o,a=null,s=[-1]){const l=Se;Ee(n);const u=n.$$={fragment:null,ctx:[],props:o,update:U,not_equal:i,bound:Ze(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(l?l.$$.context:[])),callbacks:Ze(),dirty:s,skip_bound:!1,root:e.target||l.$$.root};a&&a(u.root);let h=!1;if(u.ctx=t?t(n,e.props||{},(p,f,...d)=>{const g=d.length?d[0]:f;return u.ctx&&i(u.ctx[p],u.ctx[p]=g)&&(!u.skip_bound&&u.bound[p]&&u.bound[p](g),h&&Gt(n,p)),f}):[],u.update(),h=!0,ce(u.before_update),u.fragment=r?r(u.ctx):!1,e.target){if(e.hydrate){const p=kt(e.target);u.fragment&&u.fragment.l(p),p.forEach(j)}else u.fragment&&u.fragment.c();e.intro&&Q(n.$$.fragment),oe(n,e.target,e.anchor),dt()}Ee(l)}class pe{constructor(){x(this,"$$");x(this,"$$set")}$destroy(){ae(this,1),this.$destroy=U}$on(e,t){if(!Fe(t))return U;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(t),()=>{const i=r.indexOf(t);i!==-1&&r.splice(i,1)}}$set(e){this.$$set&&!St(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Ut="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Ut);const we=[];function _t(n,e){return{subscribe:Ie(n,e).subscribe}}function Ie(n,e=U){let t;const r=new Set;function i(s){if(fe(n,s)&&(n=s,t)){const l=!we.length;for(const u of r)u[1](),we.push(u,n);if(l){for(let u=0;u<we.length;u+=2)we[u][0](we[u+1]);we.length=0}}}function o(s){i(s(n))}function a(s,l=U){const u=[s,l];return r.add(u),r.size===1&&(t=e(i,o)||U),s(n),()=>{r.delete(u),r.size===0&&t&&(t(),t=null)}}return{set:i,update:o,subscribe:a}}function pt(n,e,t){const r=!Array.isArray(n),i=r?[n]:n;if(!i.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const o=e.length<2;return _t(t,(a,s)=>{let l=!1;const u=[];let h=0,p=U;const f=()=>{if(h)return;p();const g=e(r?u[0]:u,a,s);o?a(g):p=Fe(g)?g:U},d=i.map((g,y)=>lt(g,_=>{u[y]=_,h&=~(1<<y),l&&f()},()=>{h|=1<<y}));return l=!0,f(),function(){ce(d),p(),l=!1}})}function zt(n,e){if(n instanceof RegExp)return{keys:!1,pattern:n};var t,r,i,o,a=[],s="",l=n.split("/");for(l[0]||l.shift();i=l.shift();)t=i[0],t==="*"?(a.push("wild"),s+="/(.*)"):t===":"?(r=i.indexOf("?",1),o=i.indexOf(".",1),a.push(i.substring(1,~r?r:~o?o:i.length)),s+=~r&&!~o?"(?:/([^/]+?))?":"/([^/]+?)",~o&&(s+=(~r?"?":"")+"\\"+i.substring(o))):s+="/"+i;return{keys:a,pattern:new RegExp("^"+s+(e?"(?=$|/)":"/?$"),"i")}}function Nt(n){let e,t,r;const i=[n[2]];var o=n[0];function a(s,l){let u={};if(l!==void 0&&l&4)u=Ce(i,[Me(s[2])]);else for(let h=0;h<i.length;h+=1)u=Xe(u,i[h]);return{props:u}}return o&&(e=ke(o,a(n)),e.$on("routeEvent",n[7])),{c(){e&&le(e.$$.fragment),t=je()},m(s,l){e&&oe(e,s,l),Y(s,t,l),r=!0},p(s,l){if(l&1&&o!==(o=s[0])){if(e){Be();const u=e;te(u.$$.fragment,1,0,()=>{ae(u,1)}),Ye()}o?(e=ke(o,a(s,l)),e.$on("routeEvent",s[7]),le(e.$$.fragment),Q(e.$$.fragment,1),oe(e,t.parentNode,t)):e=null}else if(o){const u=l&4?Ce(i,[Me(s[2])]):{};e.$set(u)}},i(s){r||(e&&Q(e.$$.fragment,s),r=!0)},o(s){e&&te(e.$$.fragment,s),r=!1},d(s){s&&j(t),e&&ae(e,s)}}}function Ot(n){let e,t,r;const i=[{params:n[1]},n[2]];var o=n[0];function a(s,l){let u={};if(l!==void 0&&l&6)u=Ce(i,[l&2&&{params:s[1]},l&4&&Me(s[2])]);else for(let h=0;h<i.length;h+=1)u=Xe(u,i[h]);return{props:u}}return o&&(e=ke(o,a(n)),e.$on("routeEvent",n[6])),{c(){e&&le(e.$$.fragment),t=je()},m(s,l){e&&oe(e,s,l),Y(s,t,l),r=!0},p(s,l){if(l&1&&o!==(o=s[0])){if(e){Be();const u=e;te(u.$$.fragment,1,0,()=>{ae(u,1)}),Ye()}o?(e=ke(o,a(s,l)),e.$on("routeEvent",s[6]),le(e.$$.fragment),Q(e.$$.fragment,1),oe(e,t.parentNode,t)):e=null}else if(o){const u=l&6?Ce(i,[l&2&&{params:s[1]},l&4&&Me(s[2])]):{};e.$set(u)}},i(s){r||(e&&Q(e.$$.fragment,s),r=!0)},o(s){e&&te(e.$$.fragment,s),r=!1},d(s){s&&j(t),e&&ae(e,s)}}}function Xt(n){let e,t,r,i;const o=[Ot,Nt],a=[];function s(l,u){return l[1]?0:1}return e=s(n),t=a[e]=o[e](n),{c(){t.c(),r=je()},m(l,u){a[e].m(l,u),Y(l,r,u),i=!0},p(l,[u]){let h=e;e=s(l),e===h?a[e].p(l,u):(Be(),te(a[h],1,1,()=>{a[h]=null}),Ye(),t=a[e],t?t.p(l,u):(t=a[e]=o[e](l),t.c()),Q(t,1),t.m(r.parentNode,r))},i(l){i||(Q(t),i=!0)},o(l){te(t),i=!1},d(l){l&&j(r),a[e].d(l)}}}function et(){const n=window.location.href.indexOf("#/");let e=n>-1?window.location.href.substr(n+1):"/";const t=e.indexOf("?");let r="";return t>-1&&(r=e.substr(t+1),e=e.substr(0,t)),{location:e,querystring:r}}const We=_t(null,function(e){e(et());const t=()=>{e(et())};return window.addEventListener("hashchange",t,!1),function(){window.removeEventListener("hashchange",t,!1)}}),jt=pt(We,n=>n.location);pt(We,n=>n.querystring);const tt=Ie(void 0);function Bt(n,e){if(e=rt(e),!n||!n.tagName||n.tagName.toLowerCase()!="a")throw Error('Action "link" can only be used with <a> tags');return nt(n,e),{update(t){t=rt(t),nt(n,t)}}}function Yt(n){n?window.scrollTo(n.__svelte_spa_router_scrollX,n.__svelte_spa_router_scrollY):window.scrollTo(0,0)}function nt(n,e){let t=e.href||n.getAttribute("href");if(t&&t.charAt(0)=="/")t="#"+t;else if(!t||t.length<2||t.slice(0,2)!="#/")throw Error('Invalid value for "href" attribute: '+t);n.setAttribute("href",t),n.addEventListener("click",r=>{r.preventDefault(),e.disabled||Wt(r.currentTarget.getAttribute("href"))})}function rt(n){return n&&typeof n=="string"?{href:n}:n||{}}function Wt(n){history.replaceState({...history.state,__svelte_spa_router_scrollX:window.scrollX,__svelte_spa_router_scrollY:window.scrollY},void 0),window.location.hash=n}function Ht(n,e,t){let{routes:r={}}=e,{prefix:i=""}=e,{restoreScrollState:o=!1}=e;class a{constructor(m,b){if(!b||typeof b!="function"&&(typeof b!="object"||b._sveltesparouter!==!0))throw Error("Invalid component object");if(!m||typeof m=="string"&&(m.length<1||m.charAt(0)!="/"&&m.charAt(0)!="*")||typeof m=="object"&&!(m instanceof RegExp))throw Error('Invalid value for "path" argument - strings must start with / or *');const{pattern:S,keys:A}=zt(m);this.path=m,typeof b=="object"&&b._sveltesparouter===!0?(this.component=b.component,this.conditions=b.conditions||[],this.userData=b.userData,this.props=b.props||{}):(this.component=()=>Promise.resolve(b),this.conditions=[],this.props={}),this._pattern=S,this._keys=A}match(m){if(i){if(typeof i=="string")if(m.startsWith(i))m=m.substr(i.length)||"/";else return null;else if(i instanceof RegExp){const k=m.match(i);if(k&&k[0])m=m.substr(k[0].length)||"/";else return null}}const b=this._pattern.exec(m);if(b===null)return null;if(this._keys===!1)return b;const S={};let A=0;for(;A<this._keys.length;){try{S[this._keys[A]]=decodeURIComponent(b[A+1]||"")||null}catch{S[this._keys[A]]=null}A++}return S}async checkConditions(m){for(let b=0;b<this.conditions.length;b++)if(!await this.conditions[b](m))return!1;return!0}}const s=[];r instanceof Map?r.forEach((w,m)=>{s.push(new a(m,w))}):Object.keys(r).forEach(w=>{s.push(new a(w,r[w]))});let l=null,u=null,h={};const p=Ft();async function f(w,m){await Vt(),p(w,m)}let d=null,g=null;o&&(g=w=>{w.state&&(w.state.__svelte_spa_router_scrollY||w.state.__svelte_spa_router_scrollX)?d=w.state:d=null},window.addEventListener("popstate",g),Ct(()=>{Yt(d)}));let y=null,_=null;const $=We.subscribe(async w=>{y=w;let m=0;for(;m<s.length;){const b=s[m].match(w.location);if(!b){m++;continue}const S={route:s[m].path,location:w.location,querystring:w.querystring,userData:s[m].userData,params:b&&typeof b=="object"&&Object.keys(b).length?b:null};if(!await s[m].checkConditions(S)){t(0,l=null),_=null,f("conditionsFailed",S);return}f("routeLoading",Object.assign({},S));const A=s[m].component;if(_!=A){A.loading?(t(0,l=A.loading),_=A,t(1,u=A.loadingParams),t(2,h={}),f("routeLoaded",Object.assign({},S,{component:l,name:l.name,params:u}))):(t(0,l=null),_=null);const k=await A();if(w!=y)return;t(0,l=k&&k.default||k),_=A}b&&typeof b=="object"&&Object.keys(b).length?t(1,u=b):t(1,u=null),t(2,h=s[m].props),f("routeLoaded",Object.assign({},S,{component:l,name:l.name,params:u})).then(()=>{tt.set(u)});return}t(0,l=null),_=null,tt.set(void 0)});Mt(()=>{$(),g&&window.removeEventListener("popstate",g)});function P(w){Je.call(this,n,w)}function F(w){Je.call(this,n,w)}return n.$$set=w=>{"routes"in w&&t(3,r=w.routes),"prefix"in w&&t(4,i=w.prefix),"restoreScrollState"in w&&t(5,o=w.restoreScrollState)},n.$$.update=()=>{n.$$.dirty&32&&(history.scrollRestoration=o?"manual":"auto")},[l,u,h,r,i,o,P,F]}class Zt extends pe{constructor(e){super(),_e(this,e,Ht,Xt,fe,{routes:3,prefix:4,restoreScrollState:5})}}function Kt(n){let e;return{c(){e=xe("Nothing to see here. Go to Engine or Shader Art.")},m(t,r){Y(t,e,r)},p:U,i:U,o:U,d(t){t&&j(e)}}}class Jt extends pe{constructor(e){super(),_e(this,e,null,Kt,fe,{})}}const Qt=`#version 300 es

layout(location = 0) in vec2 aPosition;
out vec2 fragCoord;

void main()
{
    fragCoord = aPosition;
    gl_Position = vec4(aPosition, 0.0, 1.0);
}
`,en=`#version 300 es

precision mediump float;

in vec2 fragCoord;
uniform float uTime;
uniform float uDensity;

out vec4 fragColor;

//https://iquilezles.org/articles/palettes/
vec3 palette( float t ) {
    vec3 a = vec3(0.5, 0.5, 0.5);
    vec3 b = vec3(0.5, 0.5, 0.5);
    vec3 c = vec3(1.0, 1.0, 1.0);
    vec3 d = vec3(0.263,0.416,0.557);

    return a + b*cos( 6.28318*(c*t+d) );
}

void main()
{
    vec2 uv = fragCoord;
    float d = length(uv);

    vec2 uv0 = uv;
    vec3 finalColor = vec3(0.0);

    for (float i = 0.0; i < 4.0; i++) {
        uv = fract(uv * uDensity / 10.0) - 0.5;

        float d = length(uv) * exp(-length(uv0));

        vec3 col = palette(length(uv0) + i*.4 + uTime*.4);

        d = sin(d * 8. + uTime)/8.;
        d = abs(d);

        d = pow(0.01 / d, 1.2);

        finalColor += col * d;
    }

    fragColor = vec4(finalColor, 1.0);
}
`,Re=Ie(15),$e=Ie(1e3);function tn(n){let e,t,r,i,o;return{c(){e=E("input"),t=D(),r=E("input"),c(e,"type","number"),c(e,"min","100"),c(e,"max","3000"),c(r,"id",n[0]),c(r,"type","range"),c(r,"min","100"),c(r,"max","3000")},m(a,s){Y(a,e,s),G(e,n[1]),Y(a,t,s),Y(a,r,s),G(r,n[1]),i||(o=[re(e,"input",n[2]),re(r,"change",n[3]),re(r,"input",n[3])],i=!0)},p(a,[s]){s&2&&X(e.value)!==a[1]&&G(e,a[1]),s&1&&c(r,"id",a[0]),s&2&&G(r,a[1])},i:U,o:U,d(a){a&&(j(e),j(t),j(r)),i=!1,ce(o)}}}function nn(n,e,t){let r;Te(n,$e,s=>t(1,r=s));let{id:i="speed-slider"}=e;function o(){r=X(this.value),$e.set(r)}function a(){r=X(this.value),$e.set(r)}return n.$$set=s=>{"id"in s&&t(0,i=s.id)},[i,r,o,a]}class rn extends pe{constructor(e){super(),_e(this,e,nn,tn,fe,{id:0})}}function sn(n){let e,t,r,i,o;return{c(){e=E("input"),t=D(),r=E("input"),c(e,"type","number"),c(e,"min","1"),c(e,"max","30"),c(r,"id",n[0]),c(r,"type","range"),c(r,"min","1"),c(r,"max","30")},m(a,s){Y(a,e,s),G(e,n[1]),Y(a,t,s),Y(a,r,s),G(r,n[1]),i||(o=[re(e,"input",n[2]),re(r,"change",n[3]),re(r,"input",n[3])],i=!0)},p(a,[s]){s&2&&X(e.value)!==a[1]&&G(e,a[1]),s&1&&c(r,"id",a[0]),s&2&&G(r,a[1])},i:U,o:U,d(a){a&&(j(e),j(t),j(r)),i=!1,ce(o)}}}function on(n,e,t){let r;Te(n,Re,s=>t(1,r=s));let{id:i="density-slider"}=e;function o(){r=X(this.value),Re.set(r)}function a(){r=X(this.value),Re.set(r)}return n.$$set=s=>{"id"in s&&t(0,i=s.id)},[i,r,o,a]}class an extends pe{constructor(e){super(),_e(this,e,on,sn,fe,{id:0})}}function ln(n){let e,t,r,i,o,a,s,l,u,h,p,f,d,g;return o=new rn({props:{id:"speed-slider"}}),u=new an({props:{id:"density-slider"}}),{c(){e=E("div"),t=E("div"),r=E("label"),r.textContent="Speed",i=D(),le(o.$$.fragment),a=D(),s=E("label"),s.textContent="Density",l=D(),le(u.$$.fragment),h=D(),p=E("canvas"),f=D(),d=E("div"),d.innerHTML='<a href="https://www.youtube.com/watch?v=f4s1h2YETNY&amp;t=583s">Shader code by kishimisu</a>',c(r,"for","speed-slider"),c(s,"for","speed-slider"),c(t,"class","toolbar"),c(p,"class","svelte-syf6pw"),c(e,"class","shaderArt svelte-syf6pw")},m(y,_){Y(y,e,_),v(e,t),v(t,r),v(t,i),oe(o,t,null),v(t,a),v(t,s),v(t,l),oe(u,t,null),v(e,h),v(e,p),n[1](p),v(e,f),v(e,d),g=!0},p:U,i(y){g||(Q(o.$$.fragment,y),Q(u.$$.fragment,y),g=!0)},o(y){te(o.$$.fragment,y),te(u.$$.fragment,y),g=!1},d(y){y&&j(e),ae(o),ae(u),n[1](null)}}}function un(n,e,t){let r,i;Te(n,$e,s=>t(2,r=s)),Te(n,Re,s=>t(3,i=s));let o;ct(()=>{const s=o.getContext("webgl2");if(!s)return;const l=s.createProgram();if(!l)return;const u=s.createShader(s.VERTEX_SHADER);if(!u)return;s.shaderSource(u,Qt),s.compileShader(u),s.attachShader(l,u);const h=s.createShader(s.FRAGMENT_SHADER);if(!h)return;s.shaderSource(h,en),s.compileShader(h),s.attachShader(l,h),s.linkProgram(l),s.getProgramParameter(l,s.LINK_STATUS)||(console.log(s.getShaderInfoLog(u)),console.log(s.getShaderInfoLog(h)));const p=new Float32Array([-1,-1,1,-1,-1,1,1,-1,-1,1,1,1]),f=s.getUniformLocation(l,"uResolution");s.uniform2f(f,1024,1024);const d=s.getUniformLocation(l,"uTime");s.uniform1f(d,0);const g=s.getUniformLocation(l,"uDensity");s.uniform1f(g,15);const y=s.createBuffer();s.bindBuffer(s.ARRAY_BUFFER,y),s.bufferData(s.ARRAY_BUFFER,p,s.STATIC_DRAW);const _=0;s.enableVertexAttribArray(_),s.vertexAttribPointer(_,2,s.FLOAT,!1,2*4,0);const $=(P=0)=>{(o.width!==o.clientWidth||o.height!==o.clientHeight)&&(t(0,o.width=o.clientWidth,o),t(0,o.height=o.clientHeight,o),s.viewport(0,0,s.canvas.width,s.canvas.height)),s.clearColor(0,0,0,1),s.clear(s.COLOR_BUFFER_BIT),s.uniform1f(g,i),s.uniform1f(d,P/1e6*r),s.useProgram(l),s.drawArrays(s.TRIANGLES,0,6),requestAnimationFrame($)};$()});function a(s){De[s?"unshift":"push"](()=>{o=s,t(0,o)})}return[o,a]}class cn extends pe{constructor(e){super(),_e(this,e,un,ln,fe,{})}}function fn(n){let e,t,r,i;const o=n[3].default,a=At(o,n,n[2],null);return{c(){e=E("a"),a&&a.c(),c(e,"href",n[0]),c(e,"class","svelte-1dzzut9"),Ke(e,"active",n[1]===n[0])},m(s,l){Y(s,e,l),a&&a.m(e,null),t=!0,r||(i=$t(Bt.call(null,e)),r=!0)},p(s,[l]){a&&a.p&&(!t||l&4)&&Pt(a,o,s,s[2],t?Lt(o,s[2],l,null):Rt(s[2]),null),(!t||l&1)&&c(e,"href",s[0]),(!t||l&3)&&Ke(e,"active",s[1]===s[0])},i(s){t||(Q(a,s),t=!0)},o(s){te(a,s),t=!1},d(s){s&&j(e),a&&a.d(s),r=!1,i()}}}function hn(n,e,t){let r;Te(n,jt,s=>t(1,r=s));let{$$slots:i={},$$scope:o}=e,{href:a=""}=e;return n.$$set=s=>{"href"in s&&t(0,a=s.href),"$$scope"in s&&t(2,o=s.$$scope)},[a,r,o,i]}class Ge extends pe{constructor(e){super(),_e(this,e,hn,fn,fe,{href:0})}}const dn=`#version 300 es

// an attribute is an input (in) to a vertex shader.
// It will receive data from a buffer
in vec4 a_position;
in vec3 a_normal;
in vec2 a_texcoord;

uniform vec3 u_lightWorldPosition;
uniform vec3 u_viewWorldPosition;

uniform mat4 u_world;
uniform mat4 u_worldViewProjection;
uniform mat4 u_worldInverseTranspose;

// a varying to pass the texture coordinates to the fragment shader
out vec2 v_texcoord;

// varying to pass the normal to the fragment shader
out vec3 v_normal;
out vec3 v_surfaceToLight;
out vec3 v_surfaceToView;

void main() {
  // Multiply the position by the matrix.
  gl_Position = u_worldViewProjection * a_position;

  // Pass the texcoord to the fragment shader.
  v_texcoord = a_texcoord;

  // Pass the normal to the fragment shader
  v_normal = mat3(u_worldInverseTranspose) * a_normal;

  // compute the world position of the surface
  vec3 surfaceWorldPosition = (u_world * a_position).xyz;

  // compute the vector of the surface to the light
  // and pass it to the fragment shader
  v_surfaceToLight = u_lightWorldPosition - surfaceWorldPosition;

  // compute the vector of the surface to the view/camera
  // and pass it to the fragment shader
  v_surfaceToView = u_viewWorldPosition - surfaceWorldPosition;
}
`,_n=`#version 300 es

precision highp float;

// Passed in and varied from the vertex shader.
in vec2 v_texcoord;
in vec3 v_normal;
in vec3 v_surfaceToLight;
in vec3 v_surfaceToView;

uniform sampler2D u_texture;

// we need to declare an output for the fragment shader
out vec4 outColor;

uniform float u_shininess;
uniform vec3 u_lightColor;
uniform vec3 u_specularColor;

void main() {
  outColor = texture(u_texture, v_texcoord);

  // because v_normal is a varying it's interpolated
  // so it will not be a unit vector. Normalizing it
  // will make it a unit vector again
  vec3 normal = normalize(v_normal);

  vec3 surfaceToLightDirection = normalize(v_surfaceToLight);
  vec3 surfaceToViewDirection = normalize(v_surfaceToView);
  vec3 halfVector = normalize(surfaceToLightDirection + surfaceToViewDirection);

  // compute the light by taking the dot product
  // of the normal to the light's reverse direction
  float light = dot(normal, surfaceToLightDirection);
  float specular = 0.0;
  if (light > 0.0) {
    specular = pow(dot(normal, halfVector), u_shininess);
  }

  // Lets multiply just the color portion (not the alpha)
  // by the light
  outColor.rgb *= light * u_lightColor;

  // Just add in the specular
  outColor.rgb += specular * u_specularColor;
}
`;class pn{constructor(e){x(this,"_gl",null);x(this,"_canvas");x(this,"_width");x(this,"_height");this._width=e.width,this._height=e.height,this._canvas=e,this.updateGL(),this.updateViewPort()}set canvas(e){this._canvas=e,this.updateGL(),this.updateViewPort()}updateGL(){const e=this._canvas.getContext("webgl2");if(!e)throw`Could not get webgl2 context of canvas element: ${this._canvas}`;this._gl=e}updateViewPort(){if(!this._gl)throw"Could not update viewport.";this._gl.viewport(0,0,this._gl.canvas.width,this._gl.canvas.height)}linkProgram(e){if(!this._gl)throw"Could not link program.";this._gl.linkProgram(e.webGLProgram),this._gl.getProgramParameter(e.webGLProgram,this._gl.LINK_STATUS)||(e.vertexShader&&console.log(this._gl.getShaderInfoLog(e.vertexShader.webGLShader)),e.fragmentShader&&console.log(this._gl.getShaderInfoLog(e.fragmentShader.webGLShader)))}get width(){return this._width}get height(){return this._height}get gl(){return this._gl}}class mt{constructor({gl:e,source:t}){x(this,"_gl");x(this,"_webGLShader");x(this,"source",null);this._gl=e,this._webGLShader=this.create(),t&&(this._gl.shaderSource(this._webGLShader,t),this._gl.compileShader(this._webGLShader))}get webGLShader(){return this._webGLShader}}class gt extends mt{constructor({gl:e,source:t}){super({gl:e,source:t})}create(){const e=this._gl.createShader(this._gl.VERTEX_SHADER);if(!e)throw"Could not create VertexShader";return e}updateSource(e){}}class vt extends mt{constructor({gl:e,source:t}){super({gl:e,source:t})}create(){const e=this._gl.createShader(this._gl.FRAGMENT_SHADER);if(!e)throw"Could not create FragmentShader";return e}updateSource(e){}}class mn{constructor(e){x(this,"_gl");x(this,"_webGLProgram");x(this,"_vertexShader",null);x(this,"_fragmentShader",null);this._gl=e;const t=e.createProgram();if(!t)throw"Could not create program";this._webGLProgram=t}attachShader(e){this._gl.attachShader(this._webGLProgram,e.webGLShader),e instanceof gt&&(this._vertexShader=e),e instanceof vt&&(this._fragmentShader=e)}getUniformLocation(e){return this._gl.getUniformLocation(this._webGLProgram,e)}get webGLProgram(){return this._webGLProgram}get vertexShader(){return this._vertexShader}get fragmentShader(){return this._fragmentShader}}class ge{constructor(e){x(this,"_values");this._values=this.create(e)}static substract(e,t){if(e.is1D(e)&&t.is1D(t))return new gn([e._values[0]-t._values[0]]);if(e.is2D(e)&&t.is2D(t))return new vn([e._values[0]-t._values[0],e._values[1]-t._values[1]]);if(e.is3D(e)&&t.is3D(t))return new se([e._values[0]-t._values[0],e._values[1]-t._values[1],e._values[2]-t._values[2]]);if(e.is4D(e)&&t.is4D(t))return new He([e._values[0]-t._values[0],e._values[1]-t._values[1],e._values[2]-t._values[2],e._values[3]-t._values[3]]);throw new Error("Vectors must have the same dimension to subtract.")}static dot(e,t){return e._values.reduce((r,i,o)=>r+i*t._values[o],0)}get values(){return this._values}set values(e){this._values=e}is1D(e){return e.values.length===1}is2D(e){return e.values.length===2}is3D(e){return e.values.length===3}is4D(e){return e.values.length===4}normalize(){const e=Math.sqrt(this._values.reduce((r,i)=>r+i*i,0)),t=this._values.map(r=>r/e);return this._values=t,this}toNormalized(){const e=Math.sqrt(this._values.reduce((i,o)=>i+o*o,0)),t=this._values.map(i=>i/e),r=this.constructor;return new r(t)}}class gn extends ge{create(e){return e||[1]}}class vn extends ge{create(e){return e||[1,1]}}class se extends ge{create(e){return e||[1,1,1]}static cross(e,t){const r=[e._values[1]*t._values[2]-e._values[2]*t._values[1],e._values[2]*t._values[0]-e._values[0]*t._values[2],e._values[0]*t._values[1]-e._values[1]*t._values[0]];return new se(r)}}class He extends ge{create(e){return e||[1,1,1,1]}}class Ne{constructor(e){x(this,"_values");this._values=this.create(e)}transpose(){const e=Math.sqrt(this._values.length),t=Array.from({length:this._values.length},(r,i)=>{const o=Math.floor(i/e),a=i%e;return this._values[a*e+o]});return this._values=t,this}get values(){return this._values}set values(e){this._values=e}}const R=class R extends Ne{static multiply(e,t){const[r,i,o,a,s,l,u,h,p,f,d,g,y,_,$,P]=e.values,[F,w,m,b,S,A,k,N,W,K,C,J,O,H,T,L]=t.values;return new R([r*F+i*S+o*W+a*O,r*w+i*A+o*K+a*H,r*m+i*k+o*C+a*T,r*b+i*N+o*J+a*L,s*F+l*S+u*W+h*O,s*w+l*A+u*K+h*H,s*m+l*k+u*C+h*T,s*b+l*N+u*J+h*L,p*F+f*S+d*W+g*O,p*w+f*A+d*K+g*H,p*m+f*k+d*C+g*T,p*b+f*N+d*J+g*L,y*F+_*S+$*W+P*O,y*w+_*A+$*K+P*H,y*m+_*k+$*C+P*T,y*b+_*N+$*J+P*L])}static translation(e,t,r){return new R([1,0,0,0,0,1,0,0,0,0,1,0,e,t,r,1])}static xRotation(e){const t=Math.cos(e),r=Math.sin(e);return new R([1,0,0,0,0,t,r,0,0,-r,t,0,0,0,0,1])}static yRotation(e){const t=Math.cos(e),r=Math.sin(e);return new R([t,0,-r,0,0,1,0,0,r,0,t,0,0,0,0,1])}static zRotation(e){const t=Math.cos(e),r=Math.sin(e);return new R([t,r,0,0,-r,t,0,0,0,0,1,0,0,0,0,1])}static scaling(e,t,r){return new R([e,0,0,0,0,t,0,0,0,0,r,0,0,0,0,1])}static perspective(e,t,r,i){const o=Math.tan(Math.PI*.5-.5*e),a=1/(r-i);return new R([o/t,0,0,0,0,o,0,0,0,0,(r+i)*a,-1,0,0,r*i*a*2,0])}static orthographic(e,t,r,i,o,a){return new R([2/(t-e),0,0,0,0,2/(i-r),0,0,0,0,2/(o-a),0,(e+t)/(e-t),(r+i)/(r-i),(o+a)/(o-a),1])}static projection(e,t,r){return new R([2/e,0,0,0,0,-2/t,0,0,0,0,2/r,0,-1,1,0,1])}static lookAt(e,t,r=new se([0,1,0])){var i=ge.substract(e,t).normalize(),o=se.cross(r,i).normalize(),a=se.cross(i,o).normalize();return new R([o.values[0],o.values[1],o.values[2],0,a.values[0],a.values[1],a.values[2],0,i.values[0],i.values[1],i.values[2],0,e.values[0],e.values[1],e.values[2],1])}create(e){return e||R.identity}translate(e,t,r){return R.multiply(this,R.translation(e,t,r))}rotateX(e){return R.multiply(this,R.xRotation(e))}rotateY(e){return R.multiply(this,R.yRotation(e))}rotateZ(e){return R.multiply(this,R.zRotation(e))}scale(e,t,r){return R.multiply(this,R.scaling(e,t,r))}invert(){const[e,t,r,i,o,a,s,l,u,h,p,f,d,g,y,_]=this.values,$=p*_,P=y*f,F=s*_,w=y*l,m=s*f,b=p*l,S=r*_,A=y*i,k=r*f,N=p*i,W=r*l,K=s*i,C=u*g,J=d*h,O=o*g,H=d*a,T=o*h,L=u*a,ee=e*g,z=d*t,V=e*h,Z=u*t,q=e*a,ne=o*t,ue=$*a+w*h+m*g-(P*a+F*h+b*g),M=P*t+S*h+N*g-($*t+A*h+k*g),I=F*t+A*a+W*g-(w*t+S*a+K*g),Ae=b*t+k*a+K*h-(m*t+N*a+W*h),B=1/(e*ue+o*M+u*I+d*Ae);return new R([B*ue,B*M,B*I,B*Ae,B*(P*o+F*u+b*d-($*o+w*u+m*d)),B*($*e+A*u+k*d-(P*e+S*u+N*d)),B*(w*e+S*o+K*d-(F*e+A*o+W*d)),B*(m*e+N*o+W*u-(b*e+k*o+K*u)),B*(C*l+H*f+T*_-(J*l+O*f+L*_)),B*(J*i+ee*f+Z*_-(C*i+z*f+V*_)),B*(O*i+z*l+q*_-(H*i+ee*l+ne*_)),B*(L*i+V*l+ne*f-(T*i+Z*l+q*f)),B*(O*p+L*y+J*s-(T*y+C*s+H*p)),B*(V*y+C*r+z*p-(ee*p+Z*y+J*r)),B*(ee*s+ne*y+H*r-(q*y+O*r+z*s)),B*(q*p+T*r+Z*s-(V*s+ne*p+L*r))])}transformVector(e){const t=this.values,r=[];for(let i=0;i<4;++i){r[i]=0;for(let o=0;o<4;++o)r[i]+=e.values[o]*t[o*4+i]}return new He(r)}};x(R,"identity",[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);let ie=R;class he{constructor({gl:e,type:t,name:r,program:i,value:o}){x(this,"_gl");x(this,"_value",null);x(this,"_type");x(this,"_name");x(this,"_program",null);this._gl=e,this._name=r,this._type=t,i&&(this._program=i),console.log(`Creating uniform ${r} with type ${t} and value ${o}`),o!==void 0&&(o instanceof Ne||o instanceof ge?this.value=o.values:this.value=o)}get value(){return this._value}set value(e){e instanceof Ne||e instanceof ge?this._value=e.values:this._value=e;const t=this.getLocation();if(Array.isArray(e))switch(this._type){case"2f":this._gl.uniform2f(t,e[0],e[1]);break;case"2i":this._gl.uniform2i(t,e[0],e[1]);break;case"3f":this._gl.uniform3f(t,e[0],e[1],e[2]);break;case"3i":this._gl.uniform3i(t,e[0],e[1],e[2]);break;case"4f":this._gl.uniform4f(t,e[0],e[1],e[2],e[3]);break;case"4i":this._gl.uniform4i(t,e[0],e[1],e[2],e[3]);break;case"matrix2fv":this._gl.uniformMatrix2fv(t,!1,e);break;case"matrix3fv":this._gl.uniformMatrix3fv(t,!1,e);break;case"matrix4fv":this._gl.uniformMatrix4fv(t,!1,e);break;case"2fv":this._gl.uniform2fv(t,e);break;case"3fv":this._gl.uniform3fv(t,e);break;case"4fv":this._gl.uniform4fv(t,e);break;default:throw`Invalid value ${e} for type ${this._type}`}else switch(this._type){case"1f":this._gl.uniform1f(t,e);break;case"1i":this._gl.uniform1i(t,e);break;default:throw`Invalid value ${e} for type ${this._type}`}}getLocation(){if(!this._program)throw"Could not get location of uniform. No program attached.";return this._gl.getUniformLocation(this._program.webGLProgram,this._name)}}const de=new Float32Array([0,0,0,0,150,0,30,0,0,0,150,0,30,150,0,30,0,0,30,0,0,30,30,0,100,0,0,30,30,0,100,30,0,100,0,0,30,60,0,30,90,0,67,60,0,30,90,0,67,90,0,67,60,0,0,0,30,30,0,30,0,150,30,0,150,30,30,0,30,30,150,30,30,0,30,100,0,30,30,30,30,30,30,30,100,0,30,100,30,30,30,60,30,67,60,30,30,90,30,30,90,30,67,60,30,67,90,30,0,0,0,100,0,0,100,0,30,0,0,0,100,0,30,0,0,30,100,0,0,100,30,0,100,30,30,100,0,0,100,30,30,100,0,30,30,30,0,30,30,30,100,30,30,30,30,0,100,30,30,100,30,0,30,30,0,30,60,30,30,30,30,30,30,0,30,60,0,30,60,30,30,60,0,67,60,30,30,60,30,30,60,0,67,60,0,67,60,30,67,60,0,67,90,30,67,60,30,67,60,0,67,90,0,67,90,30,30,90,0,30,90,30,67,90,30,30,90,0,67,90,30,67,90,0,30,90,0,30,150,30,30,90,30,30,90,0,30,150,0,30,150,30,0,150,0,0,150,30,30,150,30,0,150,0,30,150,30,30,150,0,0,0,0,0,0,30,0,150,30,0,0,0,0,150,30,0,150,0]),st=new Float32Array([0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0]),wn=new Float32Array([0,0,0,1,1,0,0,1,1,1,1,0,0,0,0,1,1,0,0,1,1,1,1,0,0,0,0,1,1,0,0,1,1,1,1,0,0,0,1,0,0,1,0,1,1,0,1,1,0,0,1,0,0,1,0,1,1,0,1,1,0,0,1,0,0,1,0,1,1,0,1,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,0,1,1,1,0,0,1,1,1,0,0,0,1,1,0,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,0,1,1,0,0,0,1,1,1,0,0,1,1,1,0,0,0,1,1,0,1,0,0,1,0,1,1,0,0,0,1,1,1,0,0,1,1,1,0,0,0,0,1,1,1,0,0,1,1,1,0]);function Le(n){return n*(Math.PI/180)}class Oe{constructor({gl:e,name:t,program:r,pointerProperties:i,createVao:o}){x(this,"_gl");x(this,"_buffer");x(this,"_name");x(this,"_program",null);x(this,"_vao",null);x(this,"_pointerProperties");x(this,"_createVao");this._gl=e,this._name=t,r&&(this._program=r),this._createVao=o||!1;const a=e.createBuffer();if(!a)throw"Could not create buffer";this._pointerProperties={normalize:!1,stride:0,offset:0,...i},this._buffer=a}get name(){return this._name}get buffer(){return this._buffer}get vao(){if(!this._vao)throw"Could not get vao of attribute. Was the data set already?";return this._vao}getLocation(){if(!this._program)throw"Could not get location of attribute. No program attached.";return this._gl.getAttribLocation(this._program.webGLProgram,this._name)}setBufferData(e){this._createVao&&(this._vao=this._gl.createVertexArray(),this._gl.bindVertexArray(this._vao)),this._gl.enableVertexAttribArray(this.getLocation()),this._gl.bindBuffer(this._gl.ARRAY_BUFFER,this._buffer),this._gl.bufferData(this._gl.ARRAY_BUFFER,e,this._gl.STATIC_DRAW);const{size:t,type:r,normalize:i,stride:o,offset:a}=this._pointerProperties;this._gl.vertexAttribPointer(this.getLocation(),t,r,i,o,a)}}class it{constructor({coordinates:e,normals:t,texture:r,gl:i,program:o}){x(this,"_gl");x(this,"_program");x(this,"_positionAttribute");x(this,"_normalsAttribute");x(this,"_texture");this._gl=i,this._program=o,this._positionAttribute=new Oe({gl:i,name:"a_position",program:o,createVao:!0,pointerProperties:{size:3,type:i.FLOAT}}),e&&this._positionAttribute.setBufferData(e),this._normalsAttribute=new Oe({gl:i,name:"a_normal",program:o,pointerProperties:{size:3,type:i.FLOAT}}),t&&this._normalsAttribute.setBufferData(t),r&&(this._texture=r)}draw(){if(this._positionAttribute){this._texture&&this._texture.bind(),this._gl.bindVertexArray(this._positionAttribute.vao);const e=this._gl.TRIANGLES;this._gl.drawArrays(e,0,96),this._texture&&this._texture.draw()}else{console.log("No position attribute");return}}}class ot{constructor({gl:e,program:t,src:r,coordinates:i,wrapS:o,wrapT:a,minFilter:s=e.LINEAR_MIPMAP_LINEAR,magFilter:l=e.LINEAR}){x(this,"_gl");x(this,"_program");x(this,"_image");x(this,"_webGlTexture");x(this,"_coordinatesAttribute");x(this,"_coordinates");this._gl=e,this._program=t,this._coordinates=i,this._coordinatesAttribute=new Oe({gl:e,name:"a_texcoord",program:t,pointerProperties:{size:2,normalize:!0,type:e.FLOAT}}),this._webGlTexture=e.createTexture(),e.bindTexture(e.TEXTURE_2D,this._webGlTexture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array([0,0,255,255])),this._image=new Image,this._image.src=r,this._image.addEventListener("load",()=>{e.bindTexture(e.TEXTURE_2D,this._webGlTexture),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,s),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,l),o&&e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,o),a&&e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,a),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,this._image),e.generateMipmap(e.TEXTURE_2D)})}bind(){this._gl.bindTexture(this._gl.TEXTURE_2D,this._webGlTexture)}draw(){this._coordinates&&this._coordinatesAttribute&&this._coordinatesAttribute.setBufferData(this._coordinates)}}function bn(n){let e,t,r,i,o,a,s,l,u,h,p,f,d,g,y,_,$,P,F,w,m,b,S,A,k,N,W,K,C,J,O,H,T,L,ee,z,V,Z,q,ne,ue;return{c(){e=E("div"),t=E("canvas"),r=D(),i=E("div"),o=E("div"),a=E("span"),a.innerHTML='<span class=".label">Positon:</span>',s=D(),l=E("span"),u=E("span"),u.textContent="x",h=D(),p=E("input"),f=D(),d=E("span"),g=E("span"),g.textContent="y",y=D(),_=E("input"),$=D(),P=E("span"),F=E("span"),F.textContent="z",w=D(),m=E("input"),b=D(),S=E("div"),A=E("span"),A.innerHTML='<span class="label svelte-1pqx7i0">Rotation:</span>',k=D(),N=E("span"),W=E("span"),W.textContent="x",K=D(),C=E("input"),J=D(),O=E("span"),H=E("span"),H.textContent="y",T=D(),L=E("input"),ee=D(),z=E("span"),V=E("span"),V.textContent="z",Z=D(),q=E("input"),c(t,"class","svelte-1pqx7i0"),c(a,"class","field svelte-1pqx7i0"),c(u,"class","label svelte-1pqx7i0"),c(p,"type","number"),c(p,"class","svelte-1pqx7i0"),c(l,"class","field svelte-1pqx7i0"),c(g,"class","label svelte-1pqx7i0"),c(_,"type","number"),c(_,"min",-1e3),c(_,"max",1e3),c(_,"class","svelte-1pqx7i0"),c(d,"class","field svelte-1pqx7i0"),c(F,"class","label svelte-1pqx7i0"),c(m,"type","number"),c(m,"min",-1e3),c(m,"max",1e3),c(m,"class","svelte-1pqx7i0"),c(P,"class","field svelte-1pqx7i0"),c(o,"class","control svelte-1pqx7i0"),c(A,"class","field svelte-1pqx7i0"),c(W,"class","label svelte-1pqx7i0"),c(C,"type","number"),c(C,"step",15),c(C,"min",-360),c(C,"max",360),c(C,"class","svelte-1pqx7i0"),c(N,"class","field svelte-1pqx7i0"),c(H,"class","label svelte-1pqx7i0"),c(L,"type","number"),c(L,"step",15),c(L,"min",-360),c(L,"max",360),c(L,"class","svelte-1pqx7i0"),c(O,"class","field svelte-1pqx7i0"),c(V,"class","label svelte-1pqx7i0"),c(q,"type","number"),c(q,"step",15),c(q,"min",-360),c(q,"max",360),c(q,"class","svelte-1pqx7i0"),c(z,"class","field svelte-1pqx7i0"),c(S,"class","control svelte-1pqx7i0"),c(i,"class","controls svelte-1pqx7i0"),c(e,"class","engine svelte-1pqx7i0")},m(M,I){Y(M,e,I),v(e,t),n[7](t),v(e,r),v(e,i),v(i,o),v(o,a),v(o,s),v(o,l),v(l,u),v(l,h),v(l,p),G(p,n[1]),v(o,f),v(o,d),v(d,g),v(d,y),v(d,_),G(_,n[2]),v(o,$),v(o,P),v(P,F),v(P,w),v(P,m),G(m,n[3]),v(i,b),v(i,S),v(S,A),v(S,k),v(S,N),v(N,W),v(N,K),v(N,C),G(C,n[4]),v(S,J),v(S,O),v(O,H),v(O,T),v(O,L),G(L,n[5]),v(S,ee),v(S,z),v(z,V),v(z,Z),v(z,q),G(q,n[6]),ne||(ue=[re(p,"input",n[8]),re(_,"input",n[9]),re(m,"input",n[10]),re(C,"input",n[11]),re(L,"input",n[12]),re(q,"input",n[13])],ne=!0)},p(M,I){I[0]&2&&X(p.value)!==M[1]&&G(p,M[1]),I[0]&4&&X(_.value)!==M[2]&&G(_,M[2]),I[0]&8&&X(m.value)!==M[3]&&G(m,M[3]),I[0]&16&&X(C.value)!==M[4]&&G(C,M[4]),I[0]&32&&X(L.value)!==M[5]&&G(L,M[5]),I[0]&64&&X(q.value)!==M[6]&&G(q,M[6])},i:U,o:U,d(M){M&&j(e),n[7](null),ne=!1,ce(ue)}}}let yn=0;function xn(n,e,t){let r,i=0,o=0,a=0,s=0,l=400,u=0,h=0,p=0,f,d=[],g,y,_,$=!1,P=[0,0],F="rotate",w=[0,0,0];const m=T=>{const L=T instanceof TouchEvent;$=!0,L?(F="rotate",P=[T.touches[0].clientX,T.touches[0].clientY]):(F="rotate",P=[T.clientX,T.clientY]),w=[u,h,p]},b=()=>{$=!1,F="rotate"},S=T=>{const L=T instanceof TouchEvent;if(!$)return;const ee=L?T.touches[0].clientX:T.clientX,z=L?T.touches[0].clientY:T.clientY,V=P[0]-ee,Z=P[1]-z;F==="rotate"&&(t(4,u=w[0]-Z),t(5,h=w[1]-V))},A=T=>{T.key==="w"?l-=10:T.key==="s"?l+=10:T.key==="a"?s-=10:T.key==="d"&&(s+=10)};ct(()=>{const T=new pn(r);if(!T.gl)throw"Could not get gl from Engine.";r.addEventListener("contextmenu",I=>I.preventDefault()),r.addEventListener("mousedown",m),r.addEventListener("touchstart",m),r.addEventListener("mouseup",b),r.addEventListener("touchend",b),r.addEventListener("mousemove",S),r.addEventListener("touchmove",S),document.addEventListener("keydown",A),f=T.gl,_=new mn(f);const L=new gt({gl:f,source:dn}),ee=new vt({gl:f,source:_n});_.attachShader(L),_.attachShader(ee),T.linkProgram(_),f.useProgram(_.webGLProgram);var z=ie.translation(-50,-75,-15);z=z.rotateX(Math.PI);for(var V=0;V<de.length;V+=3){var Z=z.transformVector(new He([de[V+0],de[V+1],de[V+2],1]));de[V+0]=Z.values[0],de[V+1]=Z.values[1],de[V+2]=Z.values[2]}const q=new ot({gl:f,program:_,coordinates:wn,src:"./static/f-texture.png"}),ne=new it({gl:f,program:_,coordinates:de,normals:st,texture:q});d.push(ne);const ue=new ot({gl:f,program:_,coordinates:new Float32Array([0,0,6,0,6,6,0,0,6,6,0,6]),src:"./static/floor.jpeg"}),M=new it({gl:f,program:_,coordinates:new Float32Array([-1e3,-100,1e3,1e3,-100,1e3,1e3,-100,-1e3,-1e3,-100,1e3,1e3,-100,-1e3,-1e3,-100,-1e3]),normals:st,texture:ue});d.push(M),new he({gl:f,type:"3fv",name:"u_lightColor",program:_,value:new se([1,1,1]).normalize()}),new he({gl:f,type:"3fv",name:"u_specularColor",program:_,value:new se([1,.2,.2]).normalize()}),new he({gl:f,type:"1f",name:"u_shininess",program:_,value:50}),new he({gl:f,type:"3fv",name:"u_viewWorldPosition",program:_,value:new se([0,0,400])}),new he({gl:f,type:"3fv",name:"u_lightWorldPosition",program:_,value:new se([0,20,100])}),new he({gl:f,type:"matrix4fv",name:"u_world",program:_,value:ie.identity}),g=new he({gl:f,type:"matrix4fv",name:"u_worldInverseTranspose",program:_,value:new ie().transpose().invert()}),y=new he({gl:f,type:"matrix4fv",name:"u_worldViewProjection",program:_,value:ie.identity}),k()});function k(T){if(!f)return;(r.width!==r.clientWidth||r.height!==r.clientHeight)&&(t(0,r.width=r.clientWidth,r),t(0,r.height=r.clientHeight,r),f.viewport(0,0,f.canvas.width,f.canvas.height));let ee=r.width,z=r.height;f.clearColor(0,0,0,0),f.clear(f.COLOR_BUFFER_BIT|f.DEPTH_BUFFER_BIT),f.enable(f.CULL_FACE),f.enable(f.DEPTH_TEST);const V=ee/z,Z=1,q=1e4,ne=Le(60),ue=ie.perspective(ne,V,Z,q),M=new se([s,yn,l]);let I=new ie;I=I.rotateY(Le(h)).rotateX(Le(u)).rotateZ(Le(p)).translate(i,o,a);const Ae=new se([I.values[12],I.values[13],I.values[14]]),wt=ie.lookAt(M,Ae).invert();let bt=ie.multiply(wt,ue);const yt=ie.multiply(I,bt);g.value=I.values,y.value=yt.values,d.forEach(xt=>xt.draw()),requestAnimationFrame(k)}function N(T){De[T?"unshift":"push"](()=>{r=T,t(0,r)})}function W(){i=X(this.value),t(1,i)}function K(){o=X(this.value),t(2,o)}function C(){a=X(this.value),t(3,a)}function J(){u=X(this.value),t(4,u)}function O(){h=X(this.value),t(5,h)}function H(){p=X(this.value),t(6,p)}return[r,i,o,a,u,h,p,N,W,K,C,J,O,H]}class En extends pe{constructor(e){super(),_e(this,e,xn,bn,fe,{},null,[-1,-1])}}function Tn(n){let e;return{c(){e=xe("Engine")},m(t,r){Y(t,e,r)},d(t){t&&j(e)}}}function Sn(n){let e;return{c(){e=xe("Home")},m(t,r){Y(t,e,r)},d(t){t&&j(e)}}}function An(n){let e;return{c(){e=xe("Shader Art")},m(t,r){Y(t,e,r)},d(t){t&&j(e)}}}function Ln(n){let e,t,r,i,o,a,s,l,u,h,p,f;return i=new Ge({props:{href:"/engine",$$slots:{default:[Tn]},$$scope:{ctx:n}}}),a=new Ge({props:{href:"/home",$$slots:{default:[Sn]},$$scope:{ctx:n}}}),l=new Ge({props:{href:"/shaderart",$$slots:{default:[An]},$$scope:{ctx:n}}}),p=new Zt({props:{routes:n[0]}}),{c(){e=E("div"),t=E("header"),r=E("nav"),le(i.$$.fragment),o=D(),le(a.$$.fragment),s=D(),le(l.$$.fragment),u=D(),h=E("main"),le(p.$$.fragment),c(r,"class","svelte-ucdmxf"),c(t,"class","svelte-ucdmxf"),c(h,"class","svelte-ucdmxf"),c(e,"class","content svelte-ucdmxf")},m(d,g){Y(d,e,g),v(e,t),v(t,r),oe(i,r,null),v(r,o),oe(a,r,null),v(r,s),oe(l,r,null),v(e,u),v(e,h),oe(p,h,null),f=!0},p(d,[g]){const y={};g&2&&(y.$$scope={dirty:g,ctx:d}),i.$set(y);const _={};g&2&&(_.$$scope={dirty:g,ctx:d}),a.$set(_);const $={};g&2&&($.$$scope={dirty:g,ctx:d}),l.$set($)},i(d){f||(Q(i.$$.fragment,d),Q(a.$$.fragment,d),Q(l.$$.fragment,d),Q(p.$$.fragment,d),f=!0)},o(d){te(i.$$.fragment,d),te(a.$$.fragment,d),te(l.$$.fragment,d),te(p.$$.fragment,d),f=!1},d(d){d&&j(e),ae(i),ae(a),ae(l),ae(p)}}}function Pn(n){return[{"/":Jt,"/shaderart":cn,"/engine":En}]}class Rn extends pe{constructor(e){super(),_e(this,e,Pn,Ln,fe,{})}}new Rn({target:document.getElementById("app")});
//# sourceMappingURL=index-Dwdrgqyj.js.map
