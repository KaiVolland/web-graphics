var Ee=Object.defineProperty;var xe=(n,t,e)=>t in n?Ee(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var E=(n,t,e)=>(xe(n,typeof t!="symbol"?t+"":t,e),e);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function e(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=e(i);fetch(i.href,o)}})();function U(){}function Xt(n,t){for(const e in t)n[e]=t[e];return n}function oe(n){return n()}function Zt(){return Object.create(null)}function ft(n){n.forEach(oe)}function Mt(n){return typeof n=="function"}function ht(n,t){return n!=n?t==t:n!==t||n&&typeof n=="object"||typeof n=="function"}function Ae(n){return Object.keys(n).length===0}function ae(n,...t){if(n==null){for(const r of t)r(void 0);return U}const e=n.subscribe(...t);return e.unsubscribe?()=>e.unsubscribe():e}function At(n,t,e){n.$$.on_destroy.push(ae(t,e))}function Te(n,t,e,r){if(n){const i=le(n,t,e,r);return n[0](i)}}function le(n,t,e,r){return n[1]&&r?Xt(e.ctx.slice(),n[1](r(t))):e.ctx}function Se(n,t,e,r){if(n[2]&&r){const i=n[2](r(e));if(t.dirty===void 0)return i;if(typeof i=="object"){const o=[],a=Math.max(t.dirty.length,i.length);for(let s=0;s<a;s+=1)o[s]=t.dirty[s]|i[s];return o}return t.dirty|i}return t.dirty}function Le(n,t,e,r,i,o){if(i){const a=le(t,e,r,o);n.p(a,i)}}function Pe(n){if(n.ctx.length>32){const t=[],e=n.ctx.length/32;for(let r=0;r<e;r++)t[r]=-1;return t}return-1}function Re(n){return n&&Mt(n.destroy)?n.destroy:U}function v(n,t){n.appendChild(t)}function X(n,t,e){n.insertBefore(t,e||null)}function N(n){n.parentNode&&n.parentNode.removeChild(n)}function x(n){return document.createElement(n)}function Et(n){return document.createTextNode(n)}function D(){return Et(" ")}function jt(){return Et("")}function it(n,t,e,r){return n.addEventListener(t,e,r),()=>n.removeEventListener(t,e,r)}function c(n,t,e){e==null?n.removeAttribute(t):n.getAttribute(t)!==e&&n.setAttribute(t,e)}function G(n){return n===""?null:+n}function ke(n){return Array.from(n.childNodes)}function z(n,t){n.value=t??""}function Kt(n,t,e){n.classList.toggle(t,!!e)}function $e(n,t,{bubbles:e=!1,cancelable:r=!1}={}){return new CustomEvent(n,{detail:t,bubbles:e,cancelable:r})}function kt(n,t){return new n(t)}let Tt;function xt(n){Tt=n}function Vt(){if(!Tt)throw new Error("Function called outside component initialization");return Tt}function ue(n){Vt().$$.on_mount.push(n)}function De(n){Vt().$$.after_update.push(n)}function Ce(n){Vt().$$.on_destroy.push(n)}function Fe(){const n=Vt();return(t,e,{cancelable:r=!1}={})=>{const i=n.$$.callbacks[t];if(i){const o=$e(t,e,{cancelable:r});return i.slice().forEach(a=>{a.call(n,o)}),!o.defaultPrevented}return!0}}function Jt(n,t){const e=n.$$.callbacks[t.type];e&&e.slice().forEach(r=>r.call(this,t))}const bt=[],$t=[];let yt=[];const Qt=[],ce=Promise.resolve();let Bt=!1;function fe(){Bt||(Bt=!0,ce.then(he))}function Me(){return fe(),ce}function Gt(n){yt.push(n)}const Ut=new Set;let vt=0;function he(){if(vt!==0)return;const n=Tt;do{try{for(;vt<bt.length;){const t=bt[vt];vt++,xt(t),Ve(t.$$)}}catch(t){throw bt.length=0,vt=0,t}for(xt(null),bt.length=0,vt=0;$t.length;)$t.pop()();for(let t=0;t<yt.length;t+=1){const e=yt[t];Ut.has(e)||(Ut.add(e),e())}yt.length=0}while(bt.length);for(;Qt.length;)Qt.pop()();Bt=!1,Ut.clear(),xt(n)}function Ve(n){if(n.fragment!==null){n.update(),ft(n.before_update);const t=n.dirty;n.dirty=[-1],n.fragment&&n.fragment.p(n.ctx,t),n.after_update.forEach(Gt)}}function ze(n){const t=[],e=[];yt.forEach(r=>n.indexOf(r)===-1?t.push(r):e.push(r)),e.forEach(r=>r()),yt=t}const Lt=new Set;let mt;function Yt(){mt={r:0,c:[],p:mt}}function Wt(){mt.r||ft(mt.c),mt=mt.p}function Q(n,t){n&&n.i&&(Lt.delete(n),n.i(t))}function rt(n,t,e,r){if(n&&n.o){if(Lt.has(n))return;Lt.add(n),mt.c.push(()=>{Lt.delete(n),r&&(e&&n.d(1),r())}),n.o(t)}else r&&r()}function Dt(n,t){const e={},r={},i={$$scope:1};let o=n.length;for(;o--;){const a=n[o],s=t[o];if(s){for(const l in a)l in s||(r[l]=1);for(const l in s)i[l]||(e[l]=s[l],i[l]=1);n[o]=s}else for(const l in a)i[l]=1}for(const a in r)a in e||(e[a]=void 0);return e}function Ct(n){return typeof n=="object"&&n!==null?n:{}}function ut(n){n&&n.c()}function ot(n,t,e){const{fragment:r,after_update:i}=n.$$;r&&r.m(t,e),Gt(()=>{const o=n.$$.on_mount.map(oe).filter(Mt);n.$$.on_destroy?n.$$.on_destroy.push(...o):ft(o),n.$$.on_mount=[]}),i.forEach(Gt)}function at(n,t){const e=n.$$;e.fragment!==null&&(ze(e.after_update),ft(e.on_destroy),e.fragment&&e.fragment.d(t),e.on_destroy=e.fragment=null,e.ctx=[])}function Ue(n,t){n.$$.dirty[0]===-1&&(bt.push(n),fe(),n.$$.dirty.fill(0)),n.$$.dirty[t/31|0]|=1<<t%31}function dt(n,t,e,r,i,o,a=null,s=[-1]){const l=Tt;xt(n);const u=n.$$={fragment:null,ctx:[],props:o,update:U,not_equal:i,bound:Zt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(l?l.$$.context:[])),callbacks:Zt(),dirty:s,skip_bound:!1,root:t.target||l.$$.root};a&&a(u.root);let h=!1;if(u.ctx=e?e(n,t.props||{},(p,f,..._)=>{const g=_.length?_[0]:f;return u.ctx&&i(u.ctx[p],u.ctx[p]=g)&&(!u.skip_bound&&u.bound[p]&&u.bound[p](g),h&&Ue(n,p)),f}):[],u.update(),h=!0,ft(u.before_update),u.fragment=r?r(u.ctx):!1,t.target){if(t.hydrate){const p=ke(t.target);u.fragment&&u.fragment.l(p),p.forEach(N)}else u.fragment&&u.fragment.c();t.intro&&Q(n.$$.fragment),ot(n,t.target,t.anchor),he()}xt(l)}class pt{constructor(){E(this,"$$");E(this,"$$set")}$destroy(){at(this,1),this.$destroy=U}$on(t,e){if(!Mt(e))return U;const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(e),()=>{const i=r.indexOf(e);i!==-1&&r.splice(i,1)}}$set(t){this.$$set&&!Ae(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const Ie="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Ie);const wt=[];function _e(n,t){return{subscribe:zt(n,t).subscribe}}function zt(n,t=U){let e;const r=new Set;function i(s){if(ht(n,s)&&(n=s,e)){const l=!wt.length;for(const u of r)u[1](),wt.push(u,n);if(l){for(let u=0;u<wt.length;u+=2)wt[u][0](wt[u+1]);wt.length=0}}}function o(s){i(s(n))}function a(s,l=U){const u=[s,l];return r.add(u),r.size===1&&(e=t(i,o)||U),s(n),()=>{r.delete(u),r.size===0&&e&&(e(),e=null)}}return{set:i,update:o,subscribe:a}}function de(n,t,e){const r=!Array.isArray(n),i=r?[n]:n;if(!i.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const o=t.length<2;return _e(e,(a,s)=>{let l=!1;const u=[];let h=0,p=U;const f=()=>{if(h)return;p();const g=t(r?u[0]:u,a,s);o?a(g):p=Mt(g)?g:U},_=i.map((g,y)=>ae(g,d=>{u[y]=d,h&=~(1<<y),l&&f()},()=>{h|=1<<y}));return l=!0,f(),function(){ft(_),p(),l=!1}})}function qe(n,t){if(n instanceof RegExp)return{keys:!1,pattern:n};var e,r,i,o,a=[],s="",l=n.split("/");for(l[0]||l.shift();i=l.shift();)e=i[0],e==="*"?(a.push("wild"),s+="/(.*)"):e===":"?(r=i.indexOf("?",1),o=i.indexOf(".",1),a.push(i.substring(1,~r?r:~o?o:i.length)),s+=~r&&!~o?"(?:/([^/]+?))?":"/([^/]+?)",~o&&(s+=(~r?"?":"")+"\\"+i.substring(o))):s+="/"+i;return{keys:a,pattern:new RegExp("^"+s+(t?"(?=$|/)":"/?$"),"i")}}function Be(n){let t,e,r;const i=[n[2]];var o=n[0];function a(s,l){let u={};if(l!==void 0&&l&4)u=Dt(i,[Ct(s[2])]);else for(let h=0;h<i.length;h+=1)u=Xt(u,i[h]);return{props:u}}return o&&(t=kt(o,a(n)),t.$on("routeEvent",n[7])),{c(){t&&ut(t.$$.fragment),e=jt()},m(s,l){t&&ot(t,s,l),X(s,e,l),r=!0},p(s,l){if(l&1&&o!==(o=s[0])){if(t){Yt();const u=t;rt(u.$$.fragment,1,0,()=>{at(u,1)}),Wt()}o?(t=kt(o,a(s,l)),t.$on("routeEvent",s[7]),ut(t.$$.fragment),Q(t.$$.fragment,1),ot(t,e.parentNode,e)):t=null}else if(o){const u=l&4?Dt(i,[Ct(s[2])]):{};t.$set(u)}},i(s){r||(t&&Q(t.$$.fragment,s),r=!0)},o(s){t&&rt(t.$$.fragment,s),r=!1},d(s){s&&N(e),t&&at(t,s)}}}function Ge(n){let t,e,r;const i=[{params:n[1]},n[2]];var o=n[0];function a(s,l){let u={};if(l!==void 0&&l&6)u=Dt(i,[l&2&&{params:s[1]},l&4&&Ct(s[2])]);else for(let h=0;h<i.length;h+=1)u=Xt(u,i[h]);return{props:u}}return o&&(t=kt(o,a(n)),t.$on("routeEvent",n[6])),{c(){t&&ut(t.$$.fragment),e=jt()},m(s,l){t&&ot(t,s,l),X(s,e,l),r=!0},p(s,l){if(l&1&&o!==(o=s[0])){if(t){Yt();const u=t;rt(u.$$.fragment,1,0,()=>{at(u,1)}),Wt()}o?(t=kt(o,a(s,l)),t.$on("routeEvent",s[6]),ut(t.$$.fragment),Q(t.$$.fragment,1),ot(t,e.parentNode,e)):t=null}else if(o){const u=l&6?Dt(i,[l&2&&{params:s[1]},l&4&&Ct(s[2])]):{};t.$set(u)}},i(s){r||(t&&Q(t.$$.fragment,s),r=!0)},o(s){t&&rt(t.$$.fragment,s),r=!1},d(s){s&&N(e),t&&at(t,s)}}}function Ne(n){let t,e,r,i;const o=[Ge,Be],a=[];function s(l,u){return l[1]?0:1}return t=s(n),e=a[t]=o[t](n),{c(){e.c(),r=jt()},m(l,u){a[t].m(l,u),X(l,r,u),i=!0},p(l,[u]){let h=t;t=s(l),t===h?a[t].p(l,u):(Yt(),rt(a[h],1,1,()=>{a[h]=null}),Wt(),e=a[t],e?e.p(l,u):(e=a[t]=o[t](l),e.c()),Q(e,1),e.m(r.parentNode,r))},i(l){i||(Q(e),i=!0)},o(l){rt(e),i=!1},d(l){l&&N(r),a[t].d(l)}}}function te(){const n=window.location.href.indexOf("#/");let t=n>-1?window.location.href.substr(n+1):"/";const e=t.indexOf("?");let r="";return e>-1&&(r=t.substr(e+1),t=t.substr(0,e)),{location:t,querystring:r}}const Ht=_e(null,function(t){t(te());const e=()=>{t(te())};return window.addEventListener("hashchange",e,!1),function(){window.removeEventListener("hashchange",e,!1)}}),Oe=de(Ht,n=>n.location);de(Ht,n=>n.querystring);const ee=zt(void 0);function Xe(n,t){if(t=re(t),!n||!n.tagName||n.tagName.toLowerCase()!="a")throw Error('Action "link" can only be used with <a> tags');return ne(n,t),{update(e){e=re(e),ne(n,e)}}}function je(n){n?window.scrollTo(n.__svelte_spa_router_scrollX,n.__svelte_spa_router_scrollY):window.scrollTo(0,0)}function ne(n,t){let e=t.href||n.getAttribute("href");if(e&&e.charAt(0)=="/")e="#"+e;else if(!e||e.length<2||e.slice(0,2)!="#/")throw Error('Invalid value for "href" attribute: '+e);n.setAttribute("href",e),n.addEventListener("click",r=>{r.preventDefault(),t.disabled||Ye(r.currentTarget.getAttribute("href"))})}function re(n){return n&&typeof n=="string"?{href:n}:n||{}}function Ye(n){history.replaceState({...history.state,__svelte_spa_router_scrollX:window.scrollX,__svelte_spa_router_scrollY:window.scrollY},void 0),window.location.hash=n}function We(n,t,e){let{routes:r={}}=t,{prefix:i=""}=t,{restoreScrollState:o=!1}=t;class a{constructor(m,b){if(!b||typeof b!="function"&&(typeof b!="object"||b._sveltesparouter!==!0))throw Error("Invalid component object");if(!m||typeof m=="string"&&(m.length<1||m.charAt(0)!="/"&&m.charAt(0)!="*")||typeof m=="object"&&!(m instanceof RegExp))throw Error('Invalid value for "path" argument - strings must start with / or *');const{pattern:T,keys:S}=qe(m);this.path=m,typeof b=="object"&&b._sveltesparouter===!0?(this.component=b.component,this.conditions=b.conditions||[],this.userData=b.userData,this.props=b.props||{}):(this.component=()=>Promise.resolve(b),this.conditions=[],this.props={}),this._pattern=T,this._keys=S}match(m){if(i){if(typeof i=="string")if(m.startsWith(i))m=m.substr(i.length)||"/";else return null;else if(i instanceof RegExp){const $=m.match(i);if($&&$[0])m=m.substr($[0].length)||"/";else return null}}const b=this._pattern.exec(m);if(b===null)return null;if(this._keys===!1)return b;const T={};let S=0;for(;S<this._keys.length;){try{T[this._keys[S]]=decodeURIComponent(b[S+1]||"")||null}catch{T[this._keys[S]]=null}S++}return T}async checkConditions(m){for(let b=0;b<this.conditions.length;b++)if(!await this.conditions[b](m))return!1;return!0}}const s=[];r instanceof Map?r.forEach((w,m)=>{s.push(new a(m,w))}):Object.keys(r).forEach(w=>{s.push(new a(w,r[w]))});let l=null,u=null,h={};const p=Fe();async function f(w,m){await Me(),p(w,m)}let _=null,g=null;o&&(g=w=>{w.state&&(w.state.__svelte_spa_router_scrollY||w.state.__svelte_spa_router_scrollX)?_=w.state:_=null},window.addEventListener("popstate",g),De(()=>{je(_)}));let y=null,d=null;const k=Ht.subscribe(async w=>{y=w;let m=0;for(;m<s.length;){const b=s[m].match(w.location);if(!b){m++;continue}const T={route:s[m].path,location:w.location,querystring:w.querystring,userData:s[m].userData,params:b&&typeof b=="object"&&Object.keys(b).length?b:null};if(!await s[m].checkConditions(T)){e(0,l=null),d=null,f("conditionsFailed",T);return}f("routeLoading",Object.assign({},T));const S=s[m].component;if(d!=S){S.loading?(e(0,l=S.loading),d=S,e(1,u=S.loadingParams),e(2,h={}),f("routeLoaded",Object.assign({},T,{component:l,name:l.name,params:u}))):(e(0,l=null),d=null);const $=await S();if(w!=y)return;e(0,l=$&&$.default||$),d=S}b&&typeof b=="object"&&Object.keys(b).length?e(1,u=b):e(1,u=null),e(2,h=s[m].props),f("routeLoaded",Object.assign({},T,{component:l,name:l.name,params:u})).then(()=>{ee.set(u)});return}e(0,l=null),d=null,ee.set(void 0)});Ce(()=>{k(),g&&window.removeEventListener("popstate",g)});function P(w){Jt.call(this,n,w)}function M(w){Jt.call(this,n,w)}return n.$$set=w=>{"routes"in w&&e(3,r=w.routes),"prefix"in w&&e(4,i=w.prefix),"restoreScrollState"in w&&e(5,o=w.restoreScrollState)},n.$$.update=()=>{n.$$.dirty&32&&(history.scrollRestoration=o?"manual":"auto")},[l,u,h,r,i,o,P,M]}class He extends pt{constructor(t){super(),dt(this,t,We,Ne,ht,{routes:3,prefix:4,restoreScrollState:5})}}function Ze(n){let t;return{c(){t=Et("Nothing to see here. Go to Engine or Shader Art.")},m(e,r){X(e,t,r)},p:U,i:U,o:U,d(e){e&&N(t)}}}class Ke extends pt{constructor(t){super(),dt(this,t,null,Ze,ht,{})}}const Je=`#version 300 es

layout(location = 0) in vec2 aPosition;
out vec2 fragCoord;

void main()
{
    fragCoord = aPosition;
    gl_Position = vec4(aPosition, 0.0, 1.0);
}
`,Qe=`#version 300 es

precision mediump float;

in vec2 fragCoord;
uniform float uTime;
uniform float uDensity;

out vec4 fragColor;

//https://iquilezles.org/articles/palettes/
vec3 palette( float t ) {
    vec3 a = vec3(0.5, 0.5, 0.5);
    vec3 b = vec3(0.5, 0.5, 0.5);
    vec3 c = vec3(1.0, 1.0, 1.0);
    vec3 d = vec3(0.263,0.416,0.557);

    return a + b*cos( 6.28318*(c*t+d) );
}

void main()
{
    vec2 uv = fragCoord;
    float d = length(uv);

    vec2 uv0 = uv;
    vec3 finalColor = vec3(0.0);

    for (float i = 0.0; i < 4.0; i++) {
        uv = fract(uv * uDensity / 10.0) - 0.5;

        float d = length(uv) * exp(-length(uv0));

        vec3 col = palette(length(uv0) + i*.4 + uTime*.4);

        d = sin(d * 8. + uTime)/8.;
        d = abs(d);

        d = pow(0.01 / d, 1.2);

        finalColor += col * d;
    }

    fragColor = vec4(finalColor, 1.0);
}
`,Pt=zt(15),Rt=zt(1e3);function tn(n){let t,e,r,i,o;return{c(){t=x("input"),e=D(),r=x("input"),c(t,"type","number"),c(t,"min","100"),c(t,"max","3000"),c(r,"id",n[0]),c(r,"type","range"),c(r,"min","100"),c(r,"max","3000")},m(a,s){X(a,t,s),z(t,n[1]),X(a,e,s),X(a,r,s),z(r,n[1]),i||(o=[it(t,"input",n[2]),it(r,"change",n[3]),it(r,"input",n[3])],i=!0)},p(a,[s]){s&2&&G(t.value)!==a[1]&&z(t,a[1]),s&1&&c(r,"id",a[0]),s&2&&z(r,a[1])},i:U,o:U,d(a){a&&(N(t),N(e),N(r)),i=!1,ft(o)}}}function en(n,t,e){let r;At(n,Rt,s=>e(1,r=s));let{id:i="speed-slider"}=t;function o(){r=G(this.value),Rt.set(r)}function a(){r=G(this.value),Rt.set(r)}return n.$$set=s=>{"id"in s&&e(0,i=s.id)},[i,r,o,a]}class nn extends pt{constructor(t){super(),dt(this,t,en,tn,ht,{id:0})}}function rn(n){let t,e,r,i,o;return{c(){t=x("input"),e=D(),r=x("input"),c(t,"type","number"),c(t,"min","1"),c(t,"max","30"),c(r,"id",n[0]),c(r,"type","range"),c(r,"min","1"),c(r,"max","30")},m(a,s){X(a,t,s),z(t,n[1]),X(a,e,s),X(a,r,s),z(r,n[1]),i||(o=[it(t,"input",n[2]),it(r,"change",n[3]),it(r,"input",n[3])],i=!0)},p(a,[s]){s&2&&G(t.value)!==a[1]&&z(t,a[1]),s&1&&c(r,"id",a[0]),s&2&&z(r,a[1])},i:U,o:U,d(a){a&&(N(t),N(e),N(r)),i=!1,ft(o)}}}function sn(n,t,e){let r;At(n,Pt,s=>e(1,r=s));let{id:i="density-slider"}=t;function o(){r=G(this.value),Pt.set(r)}function a(){r=G(this.value),Pt.set(r)}return n.$$set=s=>{"id"in s&&e(0,i=s.id)},[i,r,o,a]}class on extends pt{constructor(t){super(),dt(this,t,sn,rn,ht,{id:0})}}function an(n){let t,e,r,i,o,a,s,l,u,h,p,f,_,g;return o=new nn({props:{id:"speed-slider"}}),u=new on({props:{id:"density-slider"}}),{c(){t=x("div"),e=x("div"),r=x("label"),r.textContent="Speed",i=D(),ut(o.$$.fragment),a=D(),s=x("label"),s.textContent="Density",l=D(),ut(u.$$.fragment),h=D(),p=x("canvas"),f=D(),_=x("div"),_.innerHTML='<a href="https://www.youtube.com/watch?v=f4s1h2YETNY&amp;t=583s">Shader code by kishimisu</a>',c(r,"for","speed-slider"),c(s,"for","speed-slider"),c(e,"class","toolbar"),c(p,"class","svelte-syf6pw"),c(t,"class","shaderArt svelte-syf6pw")},m(y,d){X(y,t,d),v(t,e),v(e,r),v(e,i),ot(o,e,null),v(e,a),v(e,s),v(e,l),ot(u,e,null),v(t,h),v(t,p),n[1](p),v(t,f),v(t,_),g=!0},p:U,i(y){g||(Q(o.$$.fragment,y),Q(u.$$.fragment,y),g=!0)},o(y){rt(o.$$.fragment,y),rt(u.$$.fragment,y),g=!1},d(y){y&&N(t),at(o),at(u),n[1](null)}}}function ln(n,t,e){let r,i;At(n,Rt,s=>e(2,r=s)),At(n,Pt,s=>e(3,i=s));let o;ue(()=>{const s=o.getContext("webgl2");if(!s)return;const l=s.createProgram();if(!l)return;const u=s.createShader(s.VERTEX_SHADER);if(!u)return;s.shaderSource(u,Je),s.compileShader(u),s.attachShader(l,u);const h=s.createShader(s.FRAGMENT_SHADER);if(!h)return;s.shaderSource(h,Qe),s.compileShader(h),s.attachShader(l,h),s.linkProgram(l),s.getProgramParameter(l,s.LINK_STATUS)||(console.log(s.getShaderInfoLog(u)),console.log(s.getShaderInfoLog(h)));const p=new Float32Array([-1,-1,1,-1,-1,1,1,-1,-1,1,1,1]),f=s.getUniformLocation(l,"uResolution");s.uniform2f(f,1024,1024);const _=s.getUniformLocation(l,"uTime");s.uniform1f(_,0);const g=s.getUniformLocation(l,"uDensity");s.uniform1f(g,15);const y=s.createBuffer();s.bindBuffer(s.ARRAY_BUFFER,y),s.bufferData(s.ARRAY_BUFFER,p,s.STATIC_DRAW);const d=0;s.enableVertexAttribArray(d),s.vertexAttribPointer(d,2,s.FLOAT,!1,2*4,0);const k=(P=0)=>{(o.width!==o.clientWidth||o.height!==o.clientHeight)&&(e(0,o.width=o.clientWidth,o),e(0,o.height=o.clientHeight,o),s.viewport(0,0,s.canvas.width,s.canvas.height)),s.clearColor(0,0,0,1),s.clear(s.COLOR_BUFFER_BIT),s.uniform1f(g,i),s.uniform1f(_,P/1e6*r),s.useProgram(l),s.drawArrays(s.TRIANGLES,0,6),requestAnimationFrame(k)};k()});function a(s){$t[s?"unshift":"push"](()=>{o=s,e(0,o)})}return[o,a]}class un extends pt{constructor(t){super(),dt(this,t,ln,an,ht,{})}}function cn(n){let t,e,r,i;const o=n[3].default,a=Te(o,n,n[2],null);return{c(){t=x("a"),a&&a.c(),c(t,"href",n[0]),c(t,"class","svelte-1dzzut9"),Kt(t,"active",n[1]===n[0])},m(s,l){X(s,t,l),a&&a.m(t,null),e=!0,r||(i=Re(Xe.call(null,t)),r=!0)},p(s,[l]){a&&a.p&&(!e||l&4)&&Le(a,o,s,s[2],e?Se(o,s[2],l,null):Pe(s[2]),null),(!e||l&1)&&c(t,"href",s[0]),(!e||l&3)&&Kt(t,"active",s[1]===s[0])},i(s){e||(Q(a,s),e=!0)},o(s){rt(a,s),e=!1},d(s){s&&N(t),a&&a.d(s),r=!1,i()}}}function fn(n,t,e){let r;At(n,Oe,s=>e(1,r=s));let{$$slots:i={},$$scope:o}=t,{href:a=""}=t;return n.$$set=s=>{"href"in s&&e(0,a=s.href),"$$scope"in s&&e(2,o=s.$$scope)},[a,r,o,i]}class It extends pt{constructor(t){super(),dt(this,t,fn,cn,ht,{href:0})}}const hn=`#version 300 es

// an attribute is an input (in) to a vertex shader.
// It will receive data from a buffer
in vec4 a_position;
in vec3 a_normal;
in vec2 a_texcoord;

uniform vec3 u_lightWorldPosition;
uniform vec3 u_viewWorldPosition;

uniform mat4 u_world;
uniform mat4 u_worldViewProjection;
uniform mat4 u_worldInverseTranspose;

// a varying to pass the texture coordinates to the fragment shader
out vec2 v_texcoord;

// varying to pass the normal to the fragment shader
out vec3 v_normal;
out vec3 v_surfaceToLight;
out vec3 v_surfaceToView;

void main() {
  // Multiply the position by the matrix.
  gl_Position = u_worldViewProjection * a_position;

  // Pass the texcoord to the fragment shader.
  v_texcoord = a_texcoord;

  // Pass the normal to the fragment shader
  v_normal = mat3(u_worldInverseTranspose) * a_normal;

  // compute the world position of the surface
  vec3 surfaceWorldPosition = (u_world * a_position).xyz;

  // compute the vector of the surface to the light
  // and pass it to the fragment shader
  v_surfaceToLight = u_lightWorldPosition - surfaceWorldPosition;

  // compute the vector of the surface to the view/camera
  // and pass it to the fragment shader
  v_surfaceToView = u_viewWorldPosition - surfaceWorldPosition;
}
`,_n=`#version 300 es

precision highp float;

// Passed in and varied from the vertex shader.
in vec2 v_texcoord;
in vec3 v_normal;
in vec3 v_surfaceToLight;
in vec3 v_surfaceToView;

uniform sampler2D u_texture;

// we need to declare an output for the fragment shader
out vec4 outColor;

uniform float u_shininess;
uniform vec3 u_lightColor;
uniform vec3 u_specularColor;

void main() {
  outColor = texture(u_texture, v_texcoord);

  // because v_normal is a varying it's interpolated
  // so it will not be a unit vector. Normalizing it
  // will make it a unit vector again
  vec3 normal = normalize(v_normal);

  vec3 surfaceToLightDirection = normalize(v_surfaceToLight);
  vec3 surfaceToViewDirection = normalize(v_surfaceToView);
  vec3 halfVector = normalize(surfaceToLightDirection + surfaceToViewDirection);

  // compute the light by taking the dot product
  // of the normal to the light's reverse direction
  float light = dot(normal, surfaceToLightDirection);
  float specular = 0.0;
  if (light > 0.0) {
    specular = pow(dot(normal, halfVector), u_shininess);
  }

  // Lets multiply just the color portion (not the alpha)
  // by the light
  outColor.rgb *= light * u_lightColor;

  // Just add in the specular
  outColor.rgb += specular * u_specularColor;
}
`;class dn{constructor(t){E(this,"_gl",null);E(this,"_canvas");E(this,"_width");E(this,"_height");this._width=t.width,this._height=t.height,this._canvas=t,this.updateGL(),this.updateViewPort()}set canvas(t){this._canvas=t,this.updateGL(),this.updateViewPort()}updateGL(){const t=this._canvas.getContext("webgl2");if(!t)throw`Could not get webgl2 context of canvas element: ${this._canvas}`;this._gl=t}updateViewPort(){if(!this._gl)throw"Could not update viewport.";this._gl.viewport(0,0,this._gl.canvas.width,this._gl.canvas.height)}linkProgram(t){if(!this._gl)throw"Could not link program.";this._gl.linkProgram(t.webGLProgram),this._gl.getProgramParameter(t.webGLProgram,this._gl.LINK_STATUS)||(t.vertexShader&&console.log(this._gl.getShaderInfoLog(t.vertexShader.webGLShader)),t.fragmentShader&&console.log(this._gl.getShaderInfoLog(t.fragmentShader.webGLShader)))}get width(){return this._width}get height(){return this._height}get gl(){return this._gl}}class pe{constructor({gl:t,source:e}){E(this,"_gl");E(this,"_webGLShader");E(this,"source",null);this._gl=t,this._webGLShader=this.create(),e&&(this._gl.shaderSource(this._webGLShader,e),this._gl.compileShader(this._webGLShader))}get webGLShader(){return this._webGLShader}}class me extends pe{constructor({gl:t,source:e}){super({gl:t,source:e})}create(){const t=this._gl.createShader(this._gl.VERTEX_SHADER);if(!t)throw"Could not create VertexShader";return t}updateSource(t){}}class ge extends pe{constructor({gl:t,source:e}){super({gl:t,source:e})}create(){const t=this._gl.createShader(this._gl.FRAGMENT_SHADER);if(!t)throw"Could not create FragmentShader";return t}updateSource(t){}}class pn{constructor(t){E(this,"_gl");E(this,"_webGLProgram");E(this,"_vertexShader",null);E(this,"_fragmentShader",null);this._gl=t;const e=t.createProgram();if(!e)throw"Could not create program";this._webGLProgram=e}attachShader(t){this._gl.attachShader(this._webGLProgram,t.webGLShader),t instanceof me&&(this._vertexShader=t),t instanceof ge&&(this._fragmentShader=t)}getUniformLocation(t){return this._gl.getUniformLocation(this._webGLProgram,t)}get webGLProgram(){return this._webGLProgram}get vertexShader(){return this._vertexShader}get fragmentShader(){return this._fragmentShader}}class gt{constructor(t){E(this,"_values");this._values=this.create(t)}static substract(t,e){if(t.is1D(t)&&e.is1D(e))return new mn([t._values[0]-e._values[0]]);if(t.is2D(t)&&e.is2D(e))return new gn([t._values[0]-e._values[0],t._values[1]-e._values[1]]);if(t.is3D(t)&&e.is3D(e))return new nt([t._values[0]-e._values[0],t._values[1]-e._values[1],t._values[2]-e._values[2]]);if(t.is4D(t)&&e.is4D(e))return new Ft([t._values[0]-e._values[0],t._values[1]-e._values[1],t._values[2]-e._values[2],t._values[3]-e._values[3]]);throw new Error("Vectors must have the same dimension to subtract.")}static dot(t,e){return t._values.reduce((r,i,o)=>r+i*e._values[o],0)}get values(){return this._values}set values(t){this._values=t}is1D(t){return t.values.length===1}is2D(t){return t.values.length===2}is3D(t){return t.values.length===3}is4D(t){return t.values.length===4}normalize(){const t=Math.sqrt(this._values.reduce((r,i)=>r+i*i,0)),e=this._values.map(r=>r/t);return this._values=e,this}toNormalized(){const t=Math.sqrt(this._values.reduce((i,o)=>i+o*o,0)),e=this._values.map(i=>i/t),r=this.constructor;return new r(e)}}class mn extends gt{create(t){return t||[1]}}class gn extends gt{create(t){return t||[1,1]}}class nt extends gt{create(t){return t||[1,1,1]}static cross(t,e){const r=[t._values[1]*e._values[2]-t._values[2]*e._values[1],t._values[2]*e._values[0]-t._values[0]*e._values[2],t._values[0]*e._values[1]-t._values[1]*e._values[0]];return new nt(r)}}class Ft extends gt{create(t){return t||[1,1,1,1]}}class Nt{constructor(t){E(this,"_values");this._values=this.create(t)}transpose(){const t=Math.sqrt(this._values.length),e=Array.from({length:this._values.length},(r,i)=>{const o=Math.floor(i/t),a=i%t;return this._values[a*t+o]});return this._values=e,this}get values(){return this._values}set values(t){this._values=t}}const R=class R extends Nt{static multiply(t,e){const[r,i,o,a,s,l,u,h,p,f,_,g,y,d,k,P]=t.values,[M,w,m,b,T,S,$,q,j,Z,C,K,B,Y,A,L]=e.values;return new R([r*M+i*T+o*j+a*B,r*w+i*S+o*Z+a*Y,r*m+i*$+o*C+a*A,r*b+i*q+o*K+a*L,s*M+l*T+u*j+h*B,s*w+l*S+u*Z+h*Y,s*m+l*$+u*C+h*A,s*b+l*q+u*K+h*L,p*M+f*T+_*j+g*B,p*w+f*S+_*Z+g*Y,p*m+f*$+_*C+g*A,p*b+f*q+_*K+g*L,y*M+d*T+k*j+P*B,y*w+d*S+k*Z+P*Y,y*m+d*$+k*C+P*A,y*b+d*q+k*K+P*L])}static translation(t,e,r){return new R([1,0,0,0,0,1,0,0,0,0,1,0,t,e,r,1])}static xRotation(t){const e=Math.cos(t),r=Math.sin(t);return new R([1,0,0,0,0,e,r,0,0,-r,e,0,0,0,0,1])}static yRotation(t){const e=Math.cos(t),r=Math.sin(t);return new R([e,0,-r,0,0,1,0,0,r,0,e,0,0,0,0,1])}static zRotation(t){const e=Math.cos(t),r=Math.sin(t);return new R([e,r,0,0,-r,e,0,0,0,0,1,0,0,0,0,1])}static scaling(t,e,r){return new R([t,0,0,0,0,e,0,0,0,0,r,0,0,0,0,1])}static perspective(t,e,r,i){const o=Math.tan(Math.PI*.5-.5*t),a=1/(r-i);return new R([o/e,0,0,0,0,o,0,0,0,0,(r+i)*a,-1,0,0,r*i*a*2,0])}static orthographic(t,e,r,i,o,a){return new R([2/(e-t),0,0,0,0,2/(i-r),0,0,0,0,2/(o-a),0,(t+e)/(t-e),(r+i)/(r-i),(o+a)/(o-a),1])}static projection(t,e,r){return new R([2/t,0,0,0,0,-2/e,0,0,0,0,2/r,0,-1,1,0,1])}static lookAt(t,e,r=new nt([0,1,0])){var i=gt.substract(t,e).normalize(),o=nt.cross(r,i).normalize(),a=nt.cross(i,o).normalize();return new R([o.values[0],o.values[1],o.values[2],0,a.values[0],a.values[1],a.values[2],0,i.values[0],i.values[1],i.values[2],0,t.values[0],t.values[1],t.values[2],1])}create(t){return t||R.identity}translate(t,e,r){return R.multiply(this,R.translation(t,e,r))}rotateX(t){return R.multiply(this,R.xRotation(t))}rotateY(t){return R.multiply(this,R.yRotation(t))}rotateZ(t){return R.multiply(this,R.zRotation(t))}scale(t,e,r){return R.multiply(this,R.scaling(t,e,r))}invert(){const[t,e,r,i,o,a,s,l,u,h,p,f,_,g,y,d]=this.values,k=p*d,P=y*f,M=s*d,w=y*l,m=s*f,b=p*l,T=r*d,S=y*i,$=r*f,q=p*i,j=r*l,Z=s*i,C=u*g,K=_*h,B=o*g,Y=_*a,A=o*h,L=u*a,tt=t*g,I=_*e,W=t*h,J=u*e,V=t*a,et=o*e,ct=k*a+w*h+m*g-(P*a+M*h+b*g),F=P*e+T*h+q*g-(k*e+S*h+$*g),H=M*e+S*a+j*g-(w*e+T*a+Z*g),lt=b*e+$*a+Z*h-(m*e+q*a+j*h),O=1/(t*ct+o*F+u*H+_*lt);return new R([O*ct,O*F,O*H,O*lt,O*(P*o+M*u+b*_-(k*o+w*u+m*_)),O*(k*t+S*u+$*_-(P*t+T*u+q*_)),O*(w*t+T*o+Z*_-(M*t+S*o+j*_)),O*(m*t+q*o+j*u-(b*t+$*o+Z*u)),O*(C*l+Y*f+A*d-(K*l+B*f+L*d)),O*(K*i+tt*f+J*d-(C*i+I*f+W*d)),O*(B*i+I*l+V*d-(Y*i+tt*l+et*d)),O*(L*i+W*l+et*f-(A*i+J*l+V*f)),O*(B*p+L*y+K*s-(A*y+C*s+Y*p)),O*(W*y+C*r+I*p-(tt*p+J*y+K*r)),O*(tt*s+et*y+Y*r-(V*y+B*r+I*s)),O*(V*p+A*r+J*s-(W*s+et*p+L*r))])}transformVector(t){const e=this.values,r=[];for(let i=0;i<4;++i){r[i]=0;for(let o=0;o<4;++o)r[i]+=t.values[o]*e[o*4+i]}return new Ft(r)}};E(R,"identity",[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);let st=R;class _t{constructor({gl:t,type:e,name:r,program:i,value:o}){E(this,"_gl");E(this,"_value",null);E(this,"_type");E(this,"_name");E(this,"_program",null);this._gl=t,this._name=r,this._type=e,i&&(this._program=i),o!==void 0&&(o instanceof Nt||o instanceof gt?this.value=o.values:this.value=o)}get value(){return this._value}set value(t){t instanceof Nt||t instanceof gt?this._value=t.values:this._value=t;const e=this.getLocation();if(Array.isArray(t))switch(this._type){case"2f":this._gl.uniform2f(e,t[0],t[1]);break;case"2i":this._gl.uniform2i(e,t[0],t[1]);break;case"3f":this._gl.uniform3f(e,t[0],t[1],t[2]);break;case"3i":this._gl.uniform3i(e,t[0],t[1],t[2]);break;case"4f":this._gl.uniform4f(e,t[0],t[1],t[2],t[3]);break;case"4i":this._gl.uniform4i(e,t[0],t[1],t[2],t[3]);break;case"matrix2fv":this._gl.uniformMatrix2fv(e,!1,t);break;case"matrix3fv":this._gl.uniformMatrix3fv(e,!1,t);break;case"matrix4fv":this._gl.uniformMatrix4fv(e,!1,t);break;case"2fv":this._gl.uniform2fv(e,t);break;case"3fv":this._gl.uniform3fv(e,t);break;case"4fv":this._gl.uniform4fv(e,t);break;default:throw`Invalid value ${t} for type ${this._type}`}else switch(this._type){case"1f":this._gl.uniform1f(e,t);break;case"1i":this._gl.uniform1i(e,t);break;default:throw`Invalid value ${t} for type ${this._type}`}}getLocation(){if(!this._program)throw"Could not get location of uniform. No program attached.";return this._gl.getUniformLocation(this._program.webGLProgram,this._name)}}const vn=new Float32Array([0,150,0,0,0,0,30,150,0,0,0,0,30,0,0,30,150,0,30,150,0,30,120,0,100,150,0,30,120,0,100,120,0,100,150,0,30,90,0,30,60,0,67,90,0,30,60,0,67,60,0,67,90,0,0,150,-30,30,150,-30,0,0,-30,0,0,-30,30,150,-30,30,0,-30,30,150,-30,100,150,-30,30,120,-30,30,120,-30,100,150,-30,100,120,-30,30,90,-30,67,90,-30,30,60,-30,30,60,-30,67,90,-30,67,60,-30,0,150,0,100,150,0,100,150,-30,0,150,0,100,150,-30,0,150,-30,100,150,0,100,120,0,100,120,-30,100,150,0,100,120,-30,100,150,-30,30,120,0,30,120,-30,100,120,-30,30,120,0,100,120,-30,100,120,0,30,120,0,30,90,-30,30,120,-30,30,120,0,30,90,0,30,90,-30,30,90,0,67,90,-30,30,90,-30,30,90,0,67,90,0,67,90,-30,67,90,0,67,60,-30,67,90,-30,67,90,0,67,60,0,67,60,-30,30,60,0,30,60,-30,67,60,-30,30,60,0,67,60,-30,67,60,0,30,60,0,30,0,-30,30,60,-30,30,60,0,30,0,0,30,0,-30,0,0,0,0,0,-30,30,0,-30,0,0,0,30,0,-30,30,0,0,0,150,0,0,150,-30,0,0,-30,0,150,0,0,0,-30,0,0,0]),se=new Float32Array([0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0]),wn=new Float32Array([0,0,0,1,1,0,0,1,1,1,1,0,0,0,0,1,1,0,0,1,1,1,1,0,0,0,0,1,1,0,0,1,1,1,1,0,0,0,1,0,0,1,0,1,1,0,1,1,0,0,1,0,0,1,0,1,1,0,1,1,0,0,1,0,0,1,0,1,1,0,1,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,0,1,1,1,0,0,1,1,1,0,0,0,1,1,0,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,0,1,1,0,0,0,1,1,1,0,0,1,1,1,0,0,0,1,1,0,1,0,0,1,0,1,1,0,0,0,1,1,1,0,0,1,1,1,0,0,0,0,1,1,1,0,0,1,1,1,0]);function St(n){return n*(Math.PI/180)}class Ot{constructor({gl:t,name:e,program:r,pointerProperties:i,createVao:o}){E(this,"_gl");E(this,"_buffer");E(this,"_name");E(this,"_program",null);E(this,"_vao",null);E(this,"_pointerProperties");E(this,"_createVao");this._gl=t,this._name=e,r&&(this._program=r),this._createVao=o||!1;const a=t.createBuffer();if(!a)throw"Could not create buffer";this._pointerProperties={normalize:!1,stride:0,offset:0,...i},this._buffer=a}get name(){return this._name}get buffer(){return this._buffer}get vao(){if(!this._vao)throw"Could not get vao of attribute. Was the data set already?";return this._vao}getLocation(){if(!this._program)throw"Could not get location of attribute. No program attached.";return this._gl.getAttribLocation(this._program.webGLProgram,this._name)}setBufferData(t){this._createVao&&(this._vao=this._gl.createVertexArray(),this._gl.bindVertexArray(this._vao)),this._gl.enableVertexAttribArray(this.getLocation()),this._gl.bindBuffer(this._gl.ARRAY_BUFFER,this._buffer),this._gl.bufferData(this._gl.ARRAY_BUFFER,t,this._gl.STATIC_DRAW);const{size:e,type:r,normalize:i,stride:o,offset:a}=this._pointerProperties;this._gl.vertexAttribPointer(this.getLocation(),e,r,i,o,a)}getBufferData(){this._gl.bindBuffer(this._gl.ARRAY_BUFFER,this._buffer);const t=this._gl.getBufferParameter(this._gl.ARRAY_BUFFER,this._gl.BUFFER_SIZE),e=new Float32Array(t/Float32Array.BYTES_PER_ELEMENT);return this._gl.getBufferSubData(this._gl.ARRAY_BUFFER,0,e),e}getPointerProperties(){return this._pointerProperties}}class qt{constructor({coordinates:t,normals:e,texture:r,gl:i,program:o}){E(this,"_gl");E(this,"_positionAttribute");E(this,"_normalsAttribute");E(this,"_texture");E(this,"_coordinates");E(this,"_normals");this._coordinates=t,this._normals=e,this._gl=i,this._positionAttribute=new Ot({gl:i,name:"a_position",program:o,createVao:!0,pointerProperties:{size:3,type:i.FLOAT}}),t&&this._positionAttribute.setBufferData(t),this._normalsAttribute=new Ot({gl:i,name:"a_normal",program:o,pointerProperties:{size:3,type:i.FLOAT}}),e&&this._normalsAttribute.setBufferData(e),r&&(this._texture=r)}get coordinates(){return this._coordinates}transform(t){if(!this._coordinates||!this._positionAttribute)return;const e=this._positionAttribute.getPointerProperties().size;for(var r=0;r<this._coordinates.length;r+=e){var i=t.transformVector(new Ft([this._coordinates[r+0],this._coordinates[r+1],this._coordinates[r+2],1]));this._coordinates[r+0]=i.values[0],this._coordinates[r+1]=i.values[1],this._coordinates[r+2]=i.values[2]}if(this._positionAttribute.setBufferData(this._coordinates),!this._normals||!this._normalsAttribute)return;const o=this._positionAttribute.getPointerProperties().size;for(var r=0;r<this._normals.length;r+=o){var i=t.transformVector(new Ft([this._normals[r+0],this._normals[r+1],this._normals[r+2],1]));this._normals[r+0]=i.values[0],this._normals[r+1]=i.values[1],this._normals[r+2]=i.values[2]}this._normalsAttribute.setBufferData(this._normals)}draw(){if(!this._positionAttribute){console.log("No position attribute");return}if(!this._coordinates){console.log("No coordinates passed");return}this._texture&&this._texture.bind(),this._gl.bindVertexArray(this._positionAttribute.vao);const t=this._gl.TRIANGLES,e=0,r=this._coordinates.length/this._positionAttribute.getPointerProperties().size;this._gl.drawArrays(t,e,r),this._texture&&this._texture.draw()}}class ie{constructor({gl:t,program:e,src:r,coordinates:i,wrapS:o,wrapT:a,minFilter:s=t.LINEAR_MIPMAP_LINEAR,magFilter:l=t.LINEAR}){E(this,"_gl");E(this,"_program");E(this,"_image");E(this,"_webGlTexture");E(this,"_coordinatesAttribute");E(this,"_coordinates");this._gl=t,this._program=e,this._coordinates=i,this._coordinatesAttribute=new Ot({gl:t,name:"a_texcoord",program:e,pointerProperties:{size:2,normalize:!0,type:t.FLOAT}}),this._webGlTexture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this._webGlTexture),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array([0,0,255,255])),this._image=new Image,this._image.src=r,this._image.addEventListener("load",()=>{t.bindTexture(t.TEXTURE_2D,this._webGlTexture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,s),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,l),o&&t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,o),a&&t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,a),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,this._image),t.generateMipmap(t.TEXTURE_2D)})}bind(){this._gl.bindTexture(this._gl.TEXTURE_2D,this._webGlTexture)}draw(){this._coordinates&&this._coordinatesAttribute&&this._coordinatesAttribute.setBufferData(this._coordinates)}}const bn=new Float32Array([50,50,-50,50,-50,-50,-50,50,-50,50,-50,-50,-50,-50,-50,-50,50,-50,50,50,50,50,-50,-50,50,50,-50,50,50,50,50,-50,50,50,-50,-50,-50,50,50,50,-50,50,50,50,50,-50,50,50,-50,-50,50,50,-50,50,-50,50,-50,-50,-50,-50,-50,50,50,-50,-50,-50,-50,-50,50,-50,50,50,50,-50,50,-50,-50,-50,50,-50,-50,50,-50,50,-50,-50,50,-50,-50,-50,50,50,-50,-50,50,-50,-50,50,50,50,50,-50,-50,50,50,50,50,50]),yn=new Float32Array([0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0]);function En(n){let t,e,r,i,o,a,s,l,u,h,p,f,_,g,y,d,k,P,M,w,m,b,T,S,$,q,j,Z,C,K,B,Y,A,L,tt,I,W,J,V,et,ct;return{c(){t=x("div"),e=x("canvas"),r=D(),i=x("div"),o=x("div"),a=x("span"),a.innerHTML='<span class=".label">Positon:</span>',s=D(),l=x("span"),u=x("span"),u.textContent="x",h=D(),p=x("input"),f=D(),_=x("span"),g=x("span"),g.textContent="y",y=D(),d=x("input"),k=D(),P=x("span"),M=x("span"),M.textContent="z",w=D(),m=x("input"),b=D(),T=x("div"),S=x("span"),S.innerHTML='<span class="label svelte-1pqx7i0">Rotation:</span>',$=D(),q=x("span"),j=x("span"),j.textContent="x",Z=D(),C=x("input"),K=D(),B=x("span"),Y=x("span"),Y.textContent="y",A=D(),L=x("input"),tt=D(),I=x("span"),W=x("span"),W.textContent="z",J=D(),V=x("input"),c(e,"class","svelte-1pqx7i0"),c(a,"class","field svelte-1pqx7i0"),c(u,"class","label svelte-1pqx7i0"),c(p,"type","number"),c(p,"class","svelte-1pqx7i0"),c(l,"class","field svelte-1pqx7i0"),c(g,"class","label svelte-1pqx7i0"),c(d,"type","number"),c(d,"min",-1e3),c(d,"max",1e3),c(d,"class","svelte-1pqx7i0"),c(_,"class","field svelte-1pqx7i0"),c(M,"class","label svelte-1pqx7i0"),c(m,"type","number"),c(m,"min",-1e3),c(m,"max",1e3),c(m,"class","svelte-1pqx7i0"),c(P,"class","field svelte-1pqx7i0"),c(o,"class","control svelte-1pqx7i0"),c(S,"class","field svelte-1pqx7i0"),c(j,"class","label svelte-1pqx7i0"),c(C,"type","number"),c(C,"step",15),c(C,"min",-360),c(C,"max",360),c(C,"class","svelte-1pqx7i0"),c(q,"class","field svelte-1pqx7i0"),c(Y,"class","label svelte-1pqx7i0"),c(L,"type","number"),c(L,"step",15),c(L,"min",-360),c(L,"max",360),c(L,"class","svelte-1pqx7i0"),c(B,"class","field svelte-1pqx7i0"),c(W,"class","label svelte-1pqx7i0"),c(V,"type","number"),c(V,"step",15),c(V,"min",-360),c(V,"max",360),c(V,"class","svelte-1pqx7i0"),c(I,"class","field svelte-1pqx7i0"),c(T,"class","control svelte-1pqx7i0"),c(i,"class","controls svelte-1pqx7i0"),c(t,"class","engine svelte-1pqx7i0")},m(F,H){X(F,t,H),v(t,e),n[7](e),v(t,r),v(t,i),v(i,o),v(o,a),v(o,s),v(o,l),v(l,u),v(l,h),v(l,p),z(p,n[1]),v(o,f),v(o,_),v(_,g),v(_,y),v(_,d),z(d,n[2]),v(o,k),v(o,P),v(P,M),v(P,w),v(P,m),z(m,n[3]),v(i,b),v(i,T),v(T,S),v(T,$),v(T,q),v(q,j),v(q,Z),v(q,C),z(C,n[4]),v(T,K),v(T,B),v(B,Y),v(B,A),v(B,L),z(L,n[5]),v(T,tt),v(T,I),v(I,W),v(I,J),v(I,V),z(V,n[6]),et||(ct=[it(p,"input",n[8]),it(d,"input",n[9]),it(m,"input",n[10]),it(C,"input",n[11]),it(L,"input",n[12]),it(V,"input",n[13])],et=!0)},p(F,H){H[0]&2&&G(p.value)!==F[1]&&z(p,F[1]),H[0]&4&&G(d.value)!==F[2]&&z(d,F[2]),H[0]&8&&G(m.value)!==F[3]&&z(m,F[3]),H[0]&16&&G(C.value)!==F[4]&&z(C,F[4]),H[0]&32&&G(L.value)!==F[5]&&z(L,F[5]),H[0]&64&&G(V.value)!==F[6]&&z(V,F[6])},i:U,o:U,d(F){F&&N(t),n[7](null),et=!1,ft(ct)}}}let xn=100;function An(n,t,e){let r,i=0,o=0,a=0,s=0,l=400,u=0,h=0,p=0,f,_=[],g,y,d,k=!1,P=[0,0],M="rotate",w=[0,0,0];const m=A=>{const L=A instanceof TouchEvent;k=!0,L?(M="rotate",P=[A.touches[0].clientX,A.touches[0].clientY]):(M="rotate",P=[A.clientX,A.clientY]),w=[u,h,p]},b=()=>{k=!1,M="rotate"},T=A=>{const L=A instanceof TouchEvent;if(!k)return;const tt=L?A.touches[0].clientX:A.clientX,I=L?A.touches[0].clientY:A.clientY,W=P[0]-tt,J=P[1]-I;M==="rotate"&&(e(4,u=w[0]-J),e(5,h=w[1]-W))},S=A=>{A.key==="w"?l-=10:A.key==="s"?l+=10:A.key==="a"?s-=10:A.key==="d"&&(s+=10)};ue(()=>{const A=new dn(r);if(!A.gl)throw"Could not get gl from Engine.";r.addEventListener("contextmenu",H=>H.preventDefault()),r.addEventListener("mousedown",m),r.addEventListener("touchstart",m),r.addEventListener("mouseup",b),r.addEventListener("touchend",b),r.addEventListener("mousemove",T),r.addEventListener("touchmove",T),document.addEventListener("keydown",S),f=A.gl,d=new pn(f);const L=new me({gl:f,source:hn}),tt=new ge({gl:f,source:_n});d.attachShader(L),d.attachShader(tt),A.linkProgram(d),f.useProgram(d.webGLProgram);var I=st.translation(0,0,0);I=I.rotateX(0);const W=new ie({gl:f,program:d,coordinates:wn,src:"./static/f-texture.png"}),J=new qt({gl:f,program:d,coordinates:vn,normals:se,texture:W});J.transform(I),_.push(J);var V=st.translation(0,0,0);const et=new qt({gl:f,program:d,coordinates:bn,texture:W,normals:yn});et.transform(V),_.push(et);const ct=new ie({gl:f,program:d,coordinates:new Float32Array([0,0,6,0,6,6,0,0,6,6,0,6]),src:"./static/floor.jpeg"}),F=new qt({gl:f,program:d,coordinates:new Float32Array([-1e3,0,1e3,1e3,0,1e3,1e3,0,-1e3,-1e3,0,1e3,1e3,0,-1e3,-1e3,0,-1e3]),normals:se,texture:ct});_.push(F),new _t({gl:f,type:"3fv",name:"u_lightColor",program:d,value:new nt([1,1,1]).normalize()}),new _t({gl:f,type:"3fv",name:"u_specularColor",program:d,value:new nt([1,.2,.2]).normalize()}),new _t({gl:f,type:"1f",name:"u_shininess",program:d,value:50}),new _t({gl:f,type:"3fv",name:"u_viewWorldPosition",program:d,value:new nt([0,0,0])}),new _t({gl:f,type:"3fv",name:"u_lightWorldPosition",program:d,value:new nt([0,0,0])}),new _t({gl:f,type:"matrix4fv",name:"u_world",program:d,value:st.identity}),g=new _t({gl:f,type:"matrix4fv",name:"u_worldInverseTranspose",program:d,value:new st().transpose().invert()}),y=new _t({gl:f,type:"matrix4fv",name:"u_worldViewProjection",program:d,value:st.identity}),$()});function $(A){if(!f)return;(r.width!==r.clientWidth||r.height!==r.clientHeight)&&(e(0,r.width=r.clientWidth,r),e(0,r.height=r.clientHeight,r),f.viewport(0,0,f.canvas.width,f.canvas.height));let tt=r.width,I=r.height;f.clearColor(0,0,0,0),f.clear(f.COLOR_BUFFER_BIT|f.DEPTH_BUFFER_BIT),f.enable(f.CULL_FACE),f.enable(f.DEPTH_TEST);const W=tt/I,J=1,V=1e4,et=St(60),ct=st.perspective(et,W,J,V),F=new nt([0,0,0]),H=new nt([s,xn,l]);let lt=new st;lt=lt.rotateY(St(h)).rotateX(St(u)).rotateZ(St(p)).translate(i,o,a),new nt([lt.values[12],lt.values[13],lt.values[14]]);const ve=st.lookAt(H,F).invert();let we=st.multiply(ve,ct);const be=st.multiply(lt,we);g.value=lt.values,y.value=be.values,_.forEach(ye=>ye.draw()),requestAnimationFrame($)}function q(A){$t[A?"unshift":"push"](()=>{r=A,e(0,r)})}function j(){i=G(this.value),e(1,i)}function Z(){o=G(this.value),e(2,o)}function C(){a=G(this.value),e(3,a)}function K(){u=G(this.value),e(4,u)}function B(){h=G(this.value),e(5,h)}function Y(){p=G(this.value),e(6,p)}return[r,i,o,a,u,h,p,q,j,Z,C,K,B,Y]}class Tn extends pt{constructor(t){super(),dt(this,t,An,En,ht,{},null,[-1,-1])}}function Sn(n){let t;return{c(){t=Et("Engine")},m(e,r){X(e,t,r)},d(e){e&&N(t)}}}function Ln(n){let t;return{c(){t=Et("Home")},m(e,r){X(e,t,r)},d(e){e&&N(t)}}}function Pn(n){let t;return{c(){t=Et("Shader Art")},m(e,r){X(e,t,r)},d(e){e&&N(t)}}}function Rn(n){let t,e,r,i,o,a,s,l,u,h,p,f;return i=new It({props:{href:"/engine",$$slots:{default:[Sn]},$$scope:{ctx:n}}}),a=new It({props:{href:"/home",$$slots:{default:[Ln]},$$scope:{ctx:n}}}),l=new It({props:{href:"/shaderart",$$slots:{default:[Pn]},$$scope:{ctx:n}}}),p=new He({props:{routes:n[0]}}),{c(){t=x("div"),e=x("header"),r=x("nav"),ut(i.$$.fragment),o=D(),ut(a.$$.fragment),s=D(),ut(l.$$.fragment),u=D(),h=x("main"),ut(p.$$.fragment),c(r,"class","svelte-ucdmxf"),c(e,"class","svelte-ucdmxf"),c(h,"class","svelte-ucdmxf"),c(t,"class","content svelte-ucdmxf")},m(_,g){X(_,t,g),v(t,e),v(e,r),ot(i,r,null),v(r,o),ot(a,r,null),v(r,s),ot(l,r,null),v(t,u),v(t,h),ot(p,h,null),f=!0},p(_,[g]){const y={};g&2&&(y.$$scope={dirty:g,ctx:_}),i.$set(y);const d={};g&2&&(d.$$scope={dirty:g,ctx:_}),a.$set(d);const k={};g&2&&(k.$$scope={dirty:g,ctx:_}),l.$set(k)},i(_){f||(Q(i.$$.fragment,_),Q(a.$$.fragment,_),Q(l.$$.fragment,_),Q(p.$$.fragment,_),f=!0)},o(_){rt(i.$$.fragment,_),rt(a.$$.fragment,_),rt(l.$$.fragment,_),rt(p.$$.fragment,_),f=!1},d(_){_&&N(t),at(i),at(a),at(l),at(p)}}}function kn(n){return[{"/":Ke,"/shaderart":un,"/engine":Tn}]}class $n extends pt{constructor(t){super(),dt(this,t,kn,Rn,ht,{})}}new $n({target:document.getElementById("app")});
//# sourceMappingURL=index-DWWrZq2r.js.map
