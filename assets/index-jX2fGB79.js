var Te=Object.defineProperty;var ze=(e,t,n)=>t in e?Te(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var z=(e,t,n)=>(ze(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function N(){}function Ht(e,t){for(const n in t)e[n]=t[n];return e}function ue(e){return e()}function Zt(){return Object.create(null)}function dt(e){e.forEach(ue)}function Ot(e){return typeof e=="function"}function pt(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function je(e){return Object.keys(e).length===0}function ce(e,...t){if(e==null){for(const r of t)r(void 0);return N}const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function Pt(e,t,n){e.$$.on_destroy.push(ce(t,n))}function De(e,t,n,r){if(e){const s=fe(e,t,n,r);return e[0](s)}}function fe(e,t,n,r){return e[1]&&r?Ht(n.ctx.slice(),e[1](r(t))):n.ctx}function Fe(e,t,n,r){if(e[2]&&r){const s=e[2](r(n));if(t.dirty===void 0)return s;if(typeof s=="object"){const i=[],l=Math.max(t.dirty.length,s.length);for(let o=0;o<l;o+=1)i[o]=t.dirty[o]|s[o];return i}return t.dirty|s}return t.dirty}function Me(e,t,n,r,s,i){if(s){const l=fe(t,n,r,i);e.p(l,s)}}function Oe(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let r=0;r<n;r++)t[r]=-1;return t}return-1}function Ge(e){return e&&Ot(e.destroy)?e.destroy:N}function g(e,t){e.appendChild(t)}function M(e,t,n){e.insertBefore(t,n||null)}function F(e){e.parentNode&&e.parentNode.removeChild(e)}function y(e){return document.createElement(e)}function At(e){return document.createTextNode(e)}function P(){return At(" ")}function qt(){return At("")}function Z(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function f(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function D(e){return e===""?null:+e}function Ie(e){return Array.from(e.childNodes)}function j(e,t){e.value=t??""}function Jt(e,t,n){e.classList.toggle(t,!!n)}function Be(e,t,{bubbles:n=!1,cancelable:r=!1}={}){return new CustomEvent(e,{detail:t,bubbles:n,cancelable:r})}function jt(e,t){return new e(t)}let kt;function $t(e){kt=e}function Gt(){if(!kt)throw new Error("Function called outside component initialization");return kt}function he(e){Gt().$$.on_mount.push(e)}function Ne(e){Gt().$$.after_update.push(e)}function Ue(e){Gt().$$.on_destroy.push(e)}function Ve(){const e=Gt();return(t,n,{cancelable:r=!1}={})=>{const s=e.$$.callbacks[t];if(s){const i=Be(t,n,{cancelable:r});return s.slice().forEach(l=>{l.call(e,i)}),!i.defaultPrevented}return!0}}function Qt(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach(r=>r.call(this,t))}const Lt=[],Dt=[];let Et=[];const te=[],de=Promise.resolve();let Vt=!1;function pe(){Vt||(Vt=!0,de.then(_e))}function Ye(){return pe(),de}function Yt(e){Et.push(e)}const Bt=new Set;let yt=0;function _e(){if(yt!==0)return;const e=kt;do{try{for(;yt<Lt.length;){const t=Lt[yt];yt++,$t(t),He(t.$$)}}catch(t){throw Lt.length=0,yt=0,t}for($t(null),Lt.length=0,yt=0;Dt.length;)Dt.pop()();for(let t=0;t<Et.length;t+=1){const n=Et[t];Bt.has(n)||(Bt.add(n),n())}Et.length=0}while(Lt.length);for(;te.length;)te.pop()();Vt=!1,Bt.clear(),$t(e)}function He(e){if(e.fragment!==null){e.update(),dt(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(Yt)}}function qe(e){const t=[],n=[];Et.forEach(r=>e.indexOf(r)===-1?t.push(r):n.push(r)),n.forEach(r=>r()),Et=t}const xt=new Set;let bt;function Xt(){bt={r:0,c:[],p:bt}}function Wt(){bt.r||dt(bt.c),bt=bt.p}function et(e,t){e&&e.i&&(xt.delete(e),e.i(t))}function nt(e,t,n,r){if(e&&e.o){if(xt.has(e))return;xt.add(e),bt.c.push(()=>{xt.delete(e),r&&(n&&e.d(1),r())}),e.o(t)}else r&&r()}function Ft(e,t){const n={},r={},s={$$scope:1};let i=e.length;for(;i--;){const l=e[i],o=t[i];if(o){for(const a in l)a in o||(r[a]=1);for(const a in o)s[a]||(n[a]=o[a],s[a]=1);e[i]=o}else for(const a in l)s[a]=1}for(const l in r)l in n||(n[l]=void 0);return n}function Mt(e){return typeof e=="object"&&e!==null?e:{}}function ut(e){e&&e.c()}function it(e,t,n){const{fragment:r,after_update:s}=e.$$;r&&r.m(t,n),Yt(()=>{const i=e.$$.on_mount.map(ue).filter(Ot);e.$$.on_destroy?e.$$.on_destroy.push(...i):dt(i),e.$$.on_mount=[]}),s.forEach(Yt)}function at(e,t){const n=e.$$;n.fragment!==null&&(qe(n.after_update),dt(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Xe(e,t){e.$$.dirty[0]===-1&&(Lt.push(e),pe(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function _t(e,t,n,r,s,i,l=null,o=[-1]){const a=kt;$t(e);const u=e.$$={fragment:null,ctx:[],props:i,update:N,not_equal:s,bound:Zt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(a?a.$$.context:[])),callbacks:Zt(),dirty:o,skip_bound:!1,root:t.target||a.$$.root};l&&l(u.root);let h=!1;if(u.ctx=n?n(e,t.props||{},(m,b,...c)=>{const d=c.length?c[0]:b;return u.ctx&&s(u.ctx[m],u.ctx[m]=d)&&(!u.skip_bound&&u.bound[m]&&u.bound[m](d),h&&Xe(e,m)),b}):[],u.update(),h=!0,dt(u.before_update),u.fragment=r?r(u.ctx):!1,t.target){if(t.hydrate){const m=Ie(t.target);u.fragment&&u.fragment.l(m),m.forEach(F)}else u.fragment&&u.fragment.c();t.intro&&et(e.$$.fragment),it(e,t.target,t.anchor),_e()}$t(a)}class mt{constructor(){z(this,"$$");z(this,"$$set")}$destroy(){at(this,1),this.$destroy=N}$on(t,n){if(!Ot(n))return N;const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(n),()=>{const s=r.indexOf(n);s!==-1&&r.splice(s,1)}}$set(t){this.$$set&&!je(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const We="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(We);const St=[];function me(e,t){return{subscribe:It(e,t).subscribe}}function It(e,t=N){let n;const r=new Set;function s(o){if(pt(e,o)&&(e=o,n)){const a=!St.length;for(const u of r)u[1](),St.push(u,e);if(a){for(let u=0;u<St.length;u+=2)St[u][0](St[u+1]);St.length=0}}}function i(o){s(o(e))}function l(o,a=N){const u=[o,a];return r.add(u),r.size===1&&(n=t(s,i)||N),o(e),()=>{r.delete(u),r.size===0&&n&&(n(),n=null)}}return{set:s,update:i,subscribe:l}}function ge(e,t,n){const r=!Array.isArray(e),s=r?[e]:e;if(!s.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const i=t.length<2;return me(n,(l,o)=>{let a=!1;const u=[];let h=0,m=N;const b=()=>{if(h)return;m();const d=t(r?u[0]:u,l,o);i?l(d):m=Ot(d)?d:N},c=s.map((d,w)=>ce(d,S=>{u[w]=S,h&=~(1<<w),a&&b()},()=>{h|=1<<w}));return a=!0,b(),function(){dt(c),m(),a=!1}})}function Ke(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var n,r,s,i,l=[],o="",a=e.split("/");for(a[0]||a.shift();s=a.shift();)n=s[0],n==="*"?(l.push("wild"),o+="/(.*)"):n===":"?(r=s.indexOf("?",1),i=s.indexOf(".",1),l.push(s.substring(1,~r?r:~i?i:s.length)),o+=~r&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(o+=(~r?"?":"")+"\\"+s.substring(i))):o+="/"+s;return{keys:l,pattern:new RegExp("^"+o+(t?"(?=$|/)":"/?$"),"i")}}function Ze(e){let t,n,r;const s=[e[2]];var i=e[0];function l(o,a){let u={};if(a!==void 0&&a&4)u=Ft(s,[Mt(o[2])]);else for(let h=0;h<s.length;h+=1)u=Ht(u,s[h]);return{props:u}}return i&&(t=jt(i,l(e)),t.$on("routeEvent",e[7])),{c(){t&&ut(t.$$.fragment),n=qt()},m(o,a){t&&it(t,o,a),M(o,n,a),r=!0},p(o,a){if(a&1&&i!==(i=o[0])){if(t){Xt();const u=t;nt(u.$$.fragment,1,0,()=>{at(u,1)}),Wt()}i?(t=jt(i,l(o,a)),t.$on("routeEvent",o[7]),ut(t.$$.fragment),et(t.$$.fragment,1),it(t,n.parentNode,n)):t=null}else if(i){const u=a&4?Ft(s,[Mt(o[2])]):{};t.$set(u)}},i(o){r||(t&&et(t.$$.fragment,o),r=!0)},o(o){t&&nt(t.$$.fragment,o),r=!1},d(o){o&&F(n),t&&at(t,o)}}}function Je(e){let t,n,r;const s=[{params:e[1]},e[2]];var i=e[0];function l(o,a){let u={};if(a!==void 0&&a&6)u=Ft(s,[a&2&&{params:o[1]},a&4&&Mt(o[2])]);else for(let h=0;h<s.length;h+=1)u=Ht(u,s[h]);return{props:u}}return i&&(t=jt(i,l(e)),t.$on("routeEvent",e[6])),{c(){t&&ut(t.$$.fragment),n=qt()},m(o,a){t&&it(t,o,a),M(o,n,a),r=!0},p(o,a){if(a&1&&i!==(i=o[0])){if(t){Xt();const u=t;nt(u.$$.fragment,1,0,()=>{at(u,1)}),Wt()}i?(t=jt(i,l(o,a)),t.$on("routeEvent",o[6]),ut(t.$$.fragment),et(t.$$.fragment,1),it(t,n.parentNode,n)):t=null}else if(i){const u=a&6?Ft(s,[a&2&&{params:o[1]},a&4&&Mt(o[2])]):{};t.$set(u)}},i(o){r||(t&&et(t.$$.fragment,o),r=!0)},o(o){t&&nt(t.$$.fragment,o),r=!1},d(o){o&&F(n),t&&at(t,o)}}}function Qe(e){let t,n,r,s;const i=[Je,Ze],l=[];function o(a,u){return a[1]?0:1}return t=o(e),n=l[t]=i[t](e),{c(){n.c(),r=qt()},m(a,u){l[t].m(a,u),M(a,r,u),s=!0},p(a,[u]){let h=t;t=o(a),t===h?l[t].p(a,u):(Xt(),nt(l[h],1,1,()=>{l[h]=null}),Wt(),n=l[t],n?n.p(a,u):(n=l[t]=i[t](a),n.c()),et(n,1),n.m(r.parentNode,r))},i(a){s||(et(n),s=!0)},o(a){nt(n),s=!1},d(a){a&&F(r),l[t].d(a)}}}function ee(){const e=window.location.href.indexOf("#/");let t=e>-1?window.location.href.substr(e+1):"/";const n=t.indexOf("?");let r="";return n>-1&&(r=t.substr(n+1),t=t.substr(0,n)),{location:t,querystring:r}}const Kt=me(null,function(t){t(ee());const n=()=>{t(ee())};return window.addEventListener("hashchange",n,!1),function(){window.removeEventListener("hashchange",n,!1)}}),tn=ge(Kt,e=>e.location);ge(Kt,e=>e.querystring);const ne=It(void 0);function en(e,t){if(t=oe(t),!e||!e.tagName||e.tagName.toLowerCase()!="a")throw Error('Action "link" can only be used with <a> tags');return re(e,t),{update(n){n=oe(n),re(e,n)}}}function nn(e){e?window.scrollTo(e.__svelte_spa_router_scrollX,e.__svelte_spa_router_scrollY):window.scrollTo(0,0)}function re(e,t){let n=t.href||e.getAttribute("href");if(n&&n.charAt(0)=="/")n="#"+n;else if(!n||n.length<2||n.slice(0,2)!="#/")throw Error('Invalid value for "href" attribute: '+n);e.setAttribute("href",n),e.addEventListener("click",r=>{r.preventDefault(),t.disabled||rn(r.currentTarget.getAttribute("href"))})}function oe(e){return e&&typeof e=="string"?{href:e}:e||{}}function rn(e){history.replaceState({...history.state,__svelte_spa_router_scrollX:window.scrollX,__svelte_spa_router_scrollY:window.scrollY},void 0),window.location.hash=e}function on(e,t,n){let{routes:r={}}=t,{prefix:s=""}=t,{restoreScrollState:i=!1}=t;class l{constructor(v,_){if(!_||typeof _!="function"&&(typeof _!="object"||_._sveltesparouter!==!0))throw Error("Invalid component object");if(!v||typeof v=="string"&&(v.length<1||v.charAt(0)!="/"&&v.charAt(0)!="*")||typeof v=="object"&&!(v instanceof RegExp))throw Error('Invalid value for "path" argument - strings must start with / or *');const{pattern:k,keys:L}=Ke(v);this.path=v,typeof _=="object"&&_._sveltesparouter===!0?(this.component=_.component,this.conditions=_.conditions||[],this.userData=_.userData,this.props=_.props||{}):(this.component=()=>Promise.resolve(_),this.conditions=[],this.props={}),this._pattern=k,this._keys=L}match(v){if(s){if(typeof s=="string")if(v.startsWith(s))v=v.substr(s.length)||"/";else return null;else if(s instanceof RegExp){const T=v.match(s);if(T&&T[0])v=v.substr(T[0].length)||"/";else return null}}const _=this._pattern.exec(v);if(_===null)return null;if(this._keys===!1)return _;const k={};let L=0;for(;L<this._keys.length;){try{k[this._keys[L]]=decodeURIComponent(_[L+1]||"")||null}catch{k[this._keys[L]]=null}L++}return k}async checkConditions(v){for(let _=0;_<this.conditions.length;_++)if(!await this.conditions[_](v))return!1;return!0}}const o=[];r instanceof Map?r.forEach((p,v)=>{o.push(new l(v,p))}):Object.keys(r).forEach(p=>{o.push(new l(p,r[p]))});let a=null,u=null,h={};const m=Ve();async function b(p,v){await Ye(),m(p,v)}let c=null,d=null;i&&(d=p=>{p.state&&(p.state.__svelte_spa_router_scrollY||p.state.__svelte_spa_router_scrollX)?c=p.state:c=null},window.addEventListener("popstate",d),Ne(()=>{nn(c)}));let w=null,S=null;const A=Kt.subscribe(async p=>{w=p;let v=0;for(;v<o.length;){const _=o[v].match(p.location);if(!_){v++;continue}const k={route:o[v].path,location:p.location,querystring:p.querystring,userData:o[v].userData,params:_&&typeof _=="object"&&Object.keys(_).length?_:null};if(!await o[v].checkConditions(k)){n(0,a=null),S=null,b("conditionsFailed",k);return}b("routeLoading",Object.assign({},k));const L=o[v].component;if(S!=L){L.loading?(n(0,a=L.loading),S=L,n(1,u=L.loadingParams),n(2,h={}),b("routeLoaded",Object.assign({},k,{component:a,name:a.name,params:u}))):(n(0,a=null),S=null);const T=await L();if(p!=w)return;n(0,a=T&&T.default||T),S=L}_&&typeof _=="object"&&Object.keys(_).length?n(1,u=_):n(1,u=null),n(2,h=o[v].props),b("routeLoaded",Object.assign({},k,{component:a,name:a.name,params:u})).then(()=>{ne.set(u)});return}n(0,a=null),S=null,ne.set(void 0)});Ue(()=>{A(),d&&window.removeEventListener("popstate",d)});function B(p){Qt.call(this,e,p)}function $(p){Qt.call(this,e,p)}return e.$$set=p=>{"routes"in p&&n(3,r=p.routes),"prefix"in p&&n(4,s=p.prefix),"restoreScrollState"in p&&n(5,i=p.restoreScrollState)},e.$$.update=()=>{e.$$.dirty&32&&(history.scrollRestoration=i?"manual":"auto")},[a,u,h,r,s,i,B,$]}class sn extends mt{constructor(t){super(),_t(this,t,on,Qe,pt,{routes:3,prefix:4,restoreScrollState:5})}}function an(e){let t;return{c(){t=At("Nothing to see here. Go to Engine or Shader Art.")},m(n,r){M(n,t,r)},p:N,i:N,o:N,d(n){n&&F(t)}}}class ln extends mt{constructor(t){super(),_t(this,t,null,an,pt,{})}}const un=`#version 300 es

layout(location = 0) in vec2 aPosition;
out vec2 fragCoord;

void main()
{
    fragCoord = aPosition;
    gl_Position = vec4(aPosition, 0.0, 1.0);
}
`,cn=`#version 300 es

precision mediump float;

in vec2 fragCoord;
uniform float uTime;
uniform float uDensity;

out vec4 fragColor;

//https://iquilezles.org/articles/palettes/
vec3 palette( float t ) {
    vec3 a = vec3(0.5, 0.5, 0.5);
    vec3 b = vec3(0.5, 0.5, 0.5);
    vec3 c = vec3(1.0, 1.0, 1.0);
    vec3 d = vec3(0.263,0.416,0.557);

    return a + b*cos( 6.28318*(c*t+d) );
}

void main()
{
    vec2 uv = fragCoord;
    float d = length(uv);

    vec2 uv0 = uv;
    vec3 finalColor = vec3(0.0);

    for (float i = 0.0; i < 4.0; i++) {
        uv = fract(uv * uDensity / 10.0) - 0.5;

        float d = length(uv) * exp(-length(uv0));

        vec3 col = palette(length(uv0) + i*.4 + uTime*.4);

        d = sin(d * 8. + uTime)/8.;
        d = abs(d);

        d = pow(0.01 / d, 1.2);

        finalColor += col * d;
    }

    fragColor = vec4(finalColor, 1.0);
}
`,Tt=It(15),zt=It(1e3);function fn(e){let t,n,r,s,i;return{c(){t=y("input"),n=P(),r=y("input"),f(t,"type","number"),f(t,"min","100"),f(t,"max","3000"),f(r,"id",e[0]),f(r,"type","range"),f(r,"min","100"),f(r,"max","3000")},m(l,o){M(l,t,o),j(t,e[1]),M(l,n,o),M(l,r,o),j(r,e[1]),s||(i=[Z(t,"input",e[2]),Z(r,"change",e[3]),Z(r,"input",e[3])],s=!0)},p(l,[o]){o&2&&D(t.value)!==l[1]&&j(t,l[1]),o&1&&f(r,"id",l[0]),o&2&&j(r,l[1])},i:N,o:N,d(l){l&&(F(t),F(n),F(r)),s=!1,dt(i)}}}function hn(e,t,n){let r;Pt(e,zt,o=>n(1,r=o));let{id:s="speed-slider"}=t;function i(){r=D(this.value),zt.set(r)}function l(){r=D(this.value),zt.set(r)}return e.$$set=o=>{"id"in o&&n(0,s=o.id)},[s,r,i,l]}class dn extends mt{constructor(t){super(),_t(this,t,hn,fn,pt,{id:0})}}function pn(e){let t,n,r,s,i;return{c(){t=y("input"),n=P(),r=y("input"),f(t,"type","number"),f(t,"min","1"),f(t,"max","30"),f(r,"id",e[0]),f(r,"type","range"),f(r,"min","1"),f(r,"max","30")},m(l,o){M(l,t,o),j(t,e[1]),M(l,n,o),M(l,r,o),j(r,e[1]),s||(i=[Z(t,"input",e[2]),Z(r,"change",e[3]),Z(r,"input",e[3])],s=!0)},p(l,[o]){o&2&&D(t.value)!==l[1]&&j(t,l[1]),o&1&&f(r,"id",l[0]),o&2&&j(r,l[1])},i:N,o:N,d(l){l&&(F(t),F(n),F(r)),s=!1,dt(i)}}}function _n(e,t,n){let r;Pt(e,Tt,o=>n(1,r=o));let{id:s="density-slider"}=t;function i(){r=D(this.value),Tt.set(r)}function l(){r=D(this.value),Tt.set(r)}return e.$$set=o=>{"id"in o&&n(0,s=o.id)},[s,r,i,l]}class mn extends mt{constructor(t){super(),_t(this,t,_n,pn,pt,{id:0})}}function gn(e){let t,n,r,s,i,l,o,a,u,h,m,b,c;return s=new dn({props:{id:"speed-slider"}}),a=new mn({props:{id:"density-slider"}}),{c(){t=y("div"),n=y("label"),n.textContent="Speed",r=P(),ut(s.$$.fragment),i=P(),l=y("label"),l.textContent="Density",o=P(),ut(a.$$.fragment),u=P(),h=y("canvas"),m=P(),b=y("div"),b.innerHTML='<a href="https://www.youtube.com/watch?v=f4s1h2YETNY&amp;t=583s">Shader code by kishimisu</a>',f(n,"for","speed-slider"),f(l,"for","speed-slider"),f(t,"class","toolbar"),f(h,"width","1024"),f(h,"height","1024")},m(d,w){M(d,t,w),g(t,n),g(t,r),it(s,t,null),g(t,i),g(t,l),g(t,o),it(a,t,null),M(d,u,w),M(d,h,w),e[1](h),M(d,m,w),M(d,b,w),c=!0},p:N,i(d){c||(et(s.$$.fragment,d),et(a.$$.fragment,d),c=!0)},o(d){nt(s.$$.fragment,d),nt(a.$$.fragment,d),c=!1},d(d){d&&(F(t),F(u),F(h),F(m),F(b)),at(s),at(a),e[1](null)}}}function vn(e,t,n){let r,s;Pt(e,zt,o=>n(2,r=o)),Pt(e,Tt,o=>n(3,s=o));let i;he(()=>{const o=i.getContext("webgl2");if(!o)return;const a=o.createProgram();if(!a)return;const u=o.createShader(o.VERTEX_SHADER);if(!u)return;o.shaderSource(u,un),o.compileShader(u),o.attachShader(a,u);const h=o.createShader(o.FRAGMENT_SHADER);if(!h)return;o.shaderSource(h,cn),o.compileShader(h),o.attachShader(a,h),o.linkProgram(a),o.getProgramParameter(a,o.LINK_STATUS)||(console.log(o.getShaderInfoLog(u)),console.log(o.getShaderInfoLog(h)));const m=new Float32Array([-1,-1,1,-1,-1,1,1,-1,-1,1,1,1]),b=o.getUniformLocation(a,"uResolution");o.uniform2f(b,1024,1024);const c=o.getUniformLocation(a,"uTime");o.uniform1f(c,0);const d=o.getUniformLocation(a,"uDensity");o.uniform1f(d,15);const w=o.createBuffer();o.bindBuffer(o.ARRAY_BUFFER,w),o.bufferData(o.ARRAY_BUFFER,m,o.STATIC_DRAW);const S=0;o.enableVertexAttribArray(S),o.vertexAttribPointer(S,2,o.FLOAT,!1,2*4,0);const A=(B=0)=>{o.clearColor(0,0,0,1),o.clear(o.COLOR_BUFFER_BIT),o.uniform1f(d,s),o.uniform1f(c,B/1e6*r),o.useProgram(a),o.drawArrays(o.TRIANGLES,0,6),requestAnimationFrame(A)};A()});function l(o){Dt[o?"unshift":"push"](()=>{i=o,n(0,i)})}return[i,l]}class bn extends mt{constructor(t){super(),_t(this,t,vn,gn,pt,{})}}function wn(e){let t,n,r,s;const i=e[3].default,l=De(i,e,e[2],null);return{c(){t=y("a"),l&&l.c(),f(t,"href",e[0]),f(t,"class","svelte-1dzzut9"),Jt(t,"active",e[1]===e[0])},m(o,a){M(o,t,a),l&&l.m(t,null),n=!0,r||(s=Ge(en.call(null,t)),r=!0)},p(o,[a]){l&&l.p&&(!n||a&4)&&Me(l,i,o,o[2],n?Fe(i,o[2],a,null):Oe(o[2]),null),(!n||a&1)&&f(t,"href",o[0]),(!n||a&3)&&Jt(t,"active",o[1]===o[0])},i(o){n||(et(l,o),n=!0)},o(o){nt(l,o),n=!1},d(o){o&&F(t),l&&l.d(o),r=!1,s()}}}function yn(e,t,n){let r;Pt(e,tn,o=>n(1,r=o));let{$$slots:s={},$$scope:i}=t,{href:l=""}=t;return e.$$set=o=>{"href"in o&&n(0,l=o.href),"$$scope"in o&&n(2,i=o.$$scope)},[l,r,i,s]}class Nt extends mt{constructor(t){super(),_t(this,t,yn,wn,pt,{href:0})}}const Sn=`#version 300 es

// an attribute is an input (in) to a vertex shader.
// It will receive data from a buffer
in vec4 a_position;
in vec4 a_color;
in vec3 a_normal;

uniform mat4 u_worldViewProjection;
uniform mat4 u_worldInverseTranspose;

// // a varying the color to the fragment shader
out vec4 v_color;

// varying to pass the normal to the fragment shader
out vec3 v_normal;

void main() {
  // Multiply the position by the matrix.
  gl_Position = u_worldViewProjection * a_position;

  // // Pass the color to the fragment shader.
  v_color = a_color;

  // Pass the normal to the fragment shader
  v_normal = mat3(u_worldInverseTranspose) * a_normal;
}
`,Ln=`#version 300 es

precision highp float;

// // the varied color passed from the vertex shader
in vec4 v_color;

// Passed in and varied from the vertex shader.
in vec3 v_normal;

uniform vec3 u_reverseLightDirection;

// we need to declare an output for the fragment shader
out vec4 outColor;

void main() {
  outColor = v_color;

  // because v_normal is a varying it's interpolated
  // so it will not be a unit vector. Normalizing it
  // will make it a unit vector again
  vec3 normal = normalize(v_normal);

  // compute the light by taking the dot product
  // of the normal to the light's reverse direction
  float light = dot(normal, u_reverseLightDirection);

  // Lets multiply just the color portion (not the alpha)
  // by the light
  outColor.rgb *= light;
}
`;class En{constructor(t){z(this,"_gl",null);z(this,"_canvas");z(this,"_width");z(this,"_height");this._width=t.width,this._height=t.height,this._canvas=t,this.updateGL(),this.updateViewPort()}set canvas(t){this._canvas=t,this.updateGL(),this.updateViewPort()}updateGL(){const t=this._canvas.getContext("webgl2");if(!t)throw`Could not get webgl2 context of canvas element: ${this._canvas}`;this._gl=t}updateViewPort(){if(!this._gl)throw"Could not update viewport.";this._gl.viewport(0,0,this._gl.canvas.width,this._gl.canvas.height)}linkProgram(t){if(!this._gl)throw"Could not link program.";this._gl.linkProgram(t.webGLProgram),this._gl.getProgramParameter(t.webGLProgram,this._gl.LINK_STATUS)||(t.vertexShader&&console.log(this._gl.getShaderInfoLog(t.vertexShader.webGLShader)),t.fragmentShader&&console.log(this._gl.getShaderInfoLog(t.fragmentShader.webGLShader)))}get width(){return this._width}get height(){return this._height}get gl(){return this._gl}}class ve{constructor({gl:t,source:n}){z(this,"_gl");z(this,"_webGLShader");z(this,"source",null);this._gl=t,this._webGLShader=this.create(),n&&(this._gl.shaderSource(this._webGLShader,n),this._gl.compileShader(this._webGLShader))}get webGLShader(){return this._webGLShader}}class be extends ve{constructor({gl:t,source:n}){super({gl:t,source:n})}create(){const t=this._gl.createShader(this._gl.VERTEX_SHADER);if(!t)throw"Could not create VertexShader";return t}updateSource(t){}}class we extends ve{constructor({gl:t,source:n}){super({gl:t,source:n})}create(){const t=this._gl.createShader(this._gl.FRAGMENT_SHADER);if(!t)throw"Could not create FragmentShader";return t}updateSource(t){}}class An{constructor(t){z(this,"_gl");z(this,"_webGLProgram");z(this,"_vertexShader",null);z(this,"_fragmentShader",null);this._gl=t;const n=t.createProgram();if(!n)throw"Could not create program";this._webGLProgram=n}attachShader(t){this._gl.attachShader(this._webGLProgram,t.webGLShader),t instanceof be&&(this._vertexShader=t),t instanceof we&&(this._fragmentShader=t)}getUniformLocation(t){return this._gl.getUniformLocation(this._webGLProgram,t)}get webGLProgram(){return this._webGLProgram}get vertexShader(){return this._vertexShader}get fragmentShader(){return this._fragmentShader}}class Ut{constructor({gl:t,name:n,program:r,pointerProperties:s,createVao:i}){z(this,"_gl");z(this,"_buffer");z(this,"_name");z(this,"_program",null);z(this,"_vao",null);z(this,"_pointerProperties");z(this,"_createVao");this._gl=t,this._name=n,r&&(this._program=r),this._createVao=i||!1;const l=t.createBuffer();if(!l)throw"Could not create buffer";this._pointerProperties={normalize:!1,stride:0,offset:0,...s},this._buffer=l}get name(){return this._name}get buffer(){return this._buffer}get vao(){if(!this._vao)throw"Could not get vao of attribute. Was the data set already?";return this._vao}getLocation(){if(!this._program)throw"Could not get location of attribute. No program attached.";return this._gl.getAttribLocation(this._program.webGLProgram,this._name)}setBufferData(t){this._createVao&&(this._vao=this._gl.createVertexArray(),this._gl.bindVertexArray(this._vao)),this._gl.enableVertexAttribArray(this.getLocation()),this._gl.bindBuffer(this._gl.ARRAY_BUFFER,this._buffer),this._gl.bufferData(this._gl.ARRAY_BUFFER,t,this._gl.STATIC_DRAW);const{size:n,type:r,normalize:s,stride:i,offset:l}=this._pointerProperties;this._gl.vertexAttribPointer(this.getLocation(),n,r,s,i,l)}}class Rt{constructor({gl:t,type:n,name:r,program:s,value:i}){z(this,"_gl");z(this,"_value",null);z(this,"_type");z(this,"_name");z(this,"_program",null);this._gl=t,this._name=r,this._type=n,s&&(this._program=s),i&&(this.value=i)}get value(){return this._value}set value(t){if(this._value=t,Array.isArray(t))switch(this._type){case"2i":case"2f":this._gl.uniform2f(this.getLocation(),t[0],t[1]);break;case"3f":case"3i":this._gl.uniform3f(this.getLocation(),t[0],t[1],t[2]);break;case"4f":case"4i":this._gl.uniform4f(this.getLocation(),t[0],t[1],t[2],t[3]);break;case"matrix2fv":this._gl.uniformMatrix2fv(this.getLocation(),!1,t);break;case"matrix3fv":this._gl.uniformMatrix3fv(this.getLocation(),!1,t);break;case"matrix4fv":this._gl.uniformMatrix4fv(this.getLocation(),!1,t);break;case"2fv":this._gl.uniform2fv(this.getLocation(),t);break;case"3fv":this._gl.uniform3fv(this.getLocation(),t);break;case"4fv":this._gl.uniform4fv(this.getLocation(),t);break;default:throw`Invalid value ${t} for type ${this._type}`}else switch(this._type){case"1f":case"1i":this._gl.uniform1i(this.getLocation(),t);break;default:throw`Invalid value ${t} for type ${this._type}`}}getLocation(){if(!this._program)throw"Could not get location of uniform. No program attached.";return this._gl.getUniformLocation(this._program.webGLProgram,this._name)}}const lt=new Float32Array([0,0,0,0,150,0,30,0,0,0,150,0,30,150,0,30,0,0,30,0,0,30,30,0,100,0,0,30,30,0,100,30,0,100,0,0,30,60,0,30,90,0,67,60,0,30,90,0,67,90,0,67,60,0,0,0,30,30,0,30,0,150,30,0,150,30,30,0,30,30,150,30,30,0,30,100,0,30,30,30,30,30,30,30,100,0,30,100,30,30,30,60,30,67,60,30,30,90,30,30,90,30,67,60,30,67,90,30,0,0,0,100,0,0,100,0,30,0,0,0,100,0,30,0,0,30,100,0,0,100,30,0,100,30,30,100,0,0,100,30,30,100,0,30,30,30,0,30,30,30,100,30,30,30,30,0,100,30,30,100,30,0,30,30,0,30,60,30,30,30,30,30,30,0,30,60,0,30,60,30,30,60,0,67,60,30,30,60,30,30,60,0,67,60,0,67,60,30,67,60,0,67,90,30,67,60,30,67,60,0,67,90,0,67,90,30,30,90,0,30,90,30,67,90,30,30,90,0,67,90,30,67,90,0,30,90,0,30,150,30,30,90,30,30,90,0,30,150,0,30,150,30,0,150,0,0,150,30,30,150,30,0,150,0,30,150,30,30,150,0,0,0,0,0,0,30,0,150,30,0,0,0,0,150,30,0,150,0]),se=new Uint8Array([200,70,120,200,70,120,200,70,120,200,70,120,200,70,120,200,70,120,200,70,120,200,70,120,200,70,120,200,70,120,200,70,120,200,70,120,200,70,120,200,70,120,200,70,120,200,70,120,200,70,120,200,70,120,80,70,200,80,70,200,80,70,200,80,70,200,80,70,200,80,70,200,80,70,200,80,70,200,80,70,200,80,70,200,80,70,200,80,70,200,80,70,200,80,70,200,80,70,200,80,70,200,80,70,200,80,70,200,70,200,210,70,200,210,70,200,210,70,200,210,70,200,210,70,200,210,200,200,70,200,200,70,200,200,70,200,200,70,200,200,70,200,200,70,210,100,70,210,100,70,210,100,70,210,100,70,210,100,70,210,100,70,210,160,70,210,160,70,210,160,70,210,160,70,210,160,70,210,160,70,70,180,210,70,180,210,70,180,210,70,180,210,70,180,210,70,180,210,100,70,210,100,70,210,100,70,210,100,70,210,100,70,210,100,70,210,76,210,100,76,210,100,76,210,100,76,210,100,76,210,100,76,210,100,140,210,80,140,210,80,140,210,80,140,210,80,140,210,80,140,210,80,90,130,110,90,130,110,90,130,110,90,130,110,90,130,110,90,130,110,160,160,220,160,160,220,160,160,220,160,160,220,160,160,220,160,160,220]),ie=new Float32Array([0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0]);function Ct(e){return e*(Math.PI/180)}const vt={cross:function(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]},subtract:function(e,t){return[e[0]-t[0],e[1]-t[1],e[2]-t[2]]},normalize:function(e){var t=Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);return t>1e-5?[e[0]/t,e[1]/t,e[2]/t]:[0,0,0]}},x={identity:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],transpose:function(e){return[e[0],e[4],e[8],e[12],e[1],e[5],e[9],e[13],e[2],e[6],e[10],e[14],e[3],e[7],e[11],e[15]]},inverse:function(e){var t=e[0],n=e[0*4+1],r=e[0*4+2],s=e[0*4+3],i=e[1*4+0],l=e[1*4+1],o=e[1*4+2],a=e[1*4+3],u=e[2*4+0],h=e[2*4+1],m=e[2*4+2],b=e[2*4+3],c=e[3*4+0],d=e[3*4+1],w=e[3*4+2],S=e[3*4+3],A=m*S,B=w*b,$=o*S,p=w*a,v=o*b,_=m*a,k=r*S,L=w*s,T=r*b,O=m*s,J=r*a,q=o*s,K=u*d,G=c*h,Q=i*d,R=c*l,X=i*h,ct=u*l,rt=t*d,ft=c*n,V=t*h,ht=u*n,ot=t*l,I=i*n,U=A*l+p*h+v*d-(B*l+$*h+_*d),tt=B*n+k*h+O*d-(A*n+L*h+T*d),Y=$*n+L*l+J*d-(p*n+k*l+q*d),W=_*n+T*l+q*h-(v*n+O*l+J*h),E=1/(t*U+i*tt+u*Y+c*W);return[E*U,E*tt,E*Y,E*W,E*(B*i+$*u+_*c-(A*i+p*u+v*c)),E*(A*t+L*u+T*c-(B*t+k*u+O*c)),E*(p*t+k*i+q*c-($*t+L*i+J*c)),E*(v*t+O*i+J*u-(_*t+T*i+q*u)),E*(K*a+R*b+X*S-(G*a+Q*b+ct*S)),E*(G*s+rt*b+ht*S-(K*s+ft*b+V*S)),E*(Q*s+ft*a+ot*S-(R*s+rt*a+I*S)),E*(ct*s+V*a+I*b-(X*s+ht*a+ot*b)),E*(Q*m+ct*w+G*o-(X*w+K*o+R*m)),E*(V*w+K*r+ft*m-(rt*m+ht*w+G*r)),E*(rt*o+I*w+R*r-(ot*w+Q*r+ft*o)),E*(ot*m+X*r+ht*o-(V*o+I*m+ct*r))]},perspective:function(e,t,n,r){var s=Math.tan(Math.PI*.5-.5*e),i=1/(n-r);return[s/t,0,0,0,0,s,0,0,0,0,(n+r)*i,-1,0,0,n*r*i*2,0]},orthographic:function(e,t,n,r,s,i){return[2/(t-e),0,0,0,0,2/(r-n),0,0,0,0,2/(s-i),0,(e+t)/(e-t),(n+r)/(n-r),(s+i)/(s-i),1]},projection:function(e,t,n){return[2/e,0,0,0,0,-2/t,0,0,0,0,2/n,0,-1,1,0,1]},multiply:function(e,t){const n=t[0],r=t[0*4+1],s=t[0*4+2],i=t[0*4+3],l=t[1*4+0],o=t[1*4+1],a=t[1*4+2],u=t[1*4+3],h=t[2*4+0],m=t[2*4+1],b=t[2*4+2],c=t[2*4+3],d=t[3*4+0],w=t[3*4+1],S=t[3*4+2],A=t[3*4+3],B=e[0*4+0],$=e[0*4+1],p=e[0*4+2],v=e[0*4+3],_=e[1*4+0],k=e[1*4+1],L=e[1*4+2],T=e[1*4+3],O=e[2*4+0],J=e[2*4+1],q=e[2*4+2],K=e[2*4+3],G=e[3*4+0],Q=e[3*4+1],R=e[3*4+2],X=e[3*4+3];return[n*B+r*_+s*O+i*G,n*$+r*k+s*J+i*Q,n*p+r*L+s*q+i*R,n*v+r*T+s*K+i*X,l*B+o*_+a*O+u*G,l*$+o*k+a*J+u*Q,l*p+o*L+a*q+u*R,l*v+o*T+a*K+u*X,h*B+m*_+b*O+c*G,h*$+m*k+b*J+c*Q,h*p+m*L+b*q+c*R,h*v+m*T+b*K+c*X,d*B+w*_+S*O+A*G,d*$+w*k+S*J+A*Q,d*p+w*L+S*q+A*R,d*v+w*T+S*K+A*X]},translate:function(e,t,n,r){return x.multiply(e,x.translation(t,n,r))},xRotate:function(e,t){return x.multiply(e,x.xRotation(t))},yRotate:function(e,t){return x.multiply(e,x.yRotation(t))},zRotate:function(e,t){return x.multiply(e,x.zRotation(t))},scale:function(e,t,n,r){return x.multiply(e,x.scaling(t,n,r))},translation:function(e,t,n){return[1,0,0,0,0,1,0,0,0,0,1,0,e,t,n,1]},xRotation:function(e){const t=Math.cos(e),n=Math.sin(e);return[1,0,0,0,0,t,n,0,0,-n,t,0,0,0,0,1]},yRotation:function(e){const t=Math.cos(e),n=Math.sin(e);return[t,0,-n,0,0,1,0,0,n,0,t,0,0,0,0,1]},zRotation:function(e){const t=Math.cos(e),n=Math.sin(e);return[t,n,0,0,-n,t,0,0,0,0,1,0,0,0,0,1]},scaling:function(e,t,n){return[e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1]},transformVector:function(e,t){const n=[];for(let r=0;r<4;++r){n[r]=0;for(let s=0;s<4;++s)n[r]+=t[s]*e[s*4+r]}return n},lookAt:function(e,t,n){var r=vt.normalize(vt.subtract(e,t)),s=vt.normalize(vt.cross(n,r)),i=vt.normalize(vt.cross(r,s));return[s[0],s[1],s[2],0,i[0],i[1],i[2],0,r[0],r[1],r[2],0,e[0],e[1],e[2],1]}};function ae(e,t=!1){e=e.replace(/^#/,"");const n=parseInt(e,16),r=n>>16&255,s=n>>8&255,i=n&255;return t?[r/256,s/256,i/256]:[r,s,i]}function $n(e){let t,n,r,s,i,l,o,a,u,h,m,b,c,d,w,S,A,B,$,p,v,_,k,L,T,O,J,q,K,G,Q,R,X,ct,rt,ft,V,ht,ot,I,U,tt,Y,W,E,gt,wt;return{c(){t=y("canvas"),n=P(),r=y("div"),s=y("div"),i=y("span"),i.textContent="Positon:",l=P(),o=y("span"),o.textContent="x",a=P(),u=y("input"),h=P(),m=y("span"),m.textContent="y",b=P(),c=y("input"),d=P(),w=y("span"),w.textContent="z",S=P(),A=y("input"),B=P(),$=y("div"),p=y("span"),p.textContent="Scale:",v=P(),_=y("input"),k=P(),L=y("span"),L.textContent="y",T=P(),O=y("input"),J=P(),q=y("span"),q.textContent="z",K=P(),G=y("input"),Q=P(),R=y("div"),X=y("span"),X.textContent="Rotation:",ct=P(),rt=y("span"),rt.textContent="x",ft=P(),V=y("input"),ht=P(),ot=y("span"),ot.textContent="y",I=P(),U=y("input"),tt=P(),Y=y("span"),Y.textContent="z",W=P(),E=y("input"),f(t,"width","512"),f(t,"height","512"),f(t,"class","svelte-1tay4z7"),f(i,"class",".label"),f(o,"class","label svelte-1tay4z7"),f(u,"type","number"),f(m,"class","label svelte-1tay4z7"),f(c,"type","number"),f(w,"class","label svelte-1tay4z7"),f(A,"type","number"),f(s,"class","control"),f(p,"class","label svelte-1tay4z7"),f(_,"type","number"),f(_,"min",.1),f(_,"max",3),f(_,"step",.1),f(L,"class","label svelte-1tay4z7"),f(O,"type","number"),f(O,"min",.1),f(O,"max",3),f(O,"step",.1),f(q,"class","label svelte-1tay4z7"),f(G,"type","number"),f(G,"min",.1),f(G,"max",3),f(G,"step",.1),f($,"class","control"),f(X,"class","label svelte-1tay4z7"),f(rt,"class","label svelte-1tay4z7"),f(V,"type","number"),f(V,"step",15),f(V,"min",-360),f(V,"max",360),f(ot,"class","label svelte-1tay4z7"),f(U,"type","number"),f(U,"step",15),f(U,"min",-360),f(U,"max",360),f(Y,"class","label svelte-1tay4z7"),f(E,"type","number"),f(E,"step",15),f(E,"min",-360),f(E,"max",360),f(R,"class","control"),f(r,"class","controls svelte-1tay4z7")},m(C,H){M(C,t,H),e[10](t),M(C,n,H),M(C,r,H),g(r,s),g(s,i),g(s,l),g(s,o),g(s,a),g(s,u),j(u,e[1]),g(s,h),g(s,m),g(s,b),g(s,c),j(c,e[2]),g(s,d),g(s,w),g(s,S),g(s,A),j(A,e[3]),g(r,B),g(r,$),g($,p),g($,v),g($,_),j(_,e[7]),g($,k),g($,L),g($,T),g($,O),j(O,e[8]),g($,J),g($,q),g($,K),g($,G),j(G,e[9]),g(r,Q),g(r,R),g(R,X),g(R,ct),g(R,rt),g(R,ft),g(R,V),j(V,e[4]),g(R,ht),g(R,ot),g(R,I),g(R,U),j(U,e[5]),g(R,tt),g(R,Y),g(R,W),g(R,E),j(E,e[6]),gt||(wt=[Z(u,"input",e[11]),Z(c,"input",e[12]),Z(A,"input",e[13]),Z(_,"input",e[14]),Z(O,"input",e[15]),Z(G,"input",e[16]),Z(V,"input",e[17]),Z(U,"input",e[18]),Z(E,"input",e[19])],gt=!0)},p(C,H){H[0]&2&&D(u.value)!==C[1]&&j(u,C[1]),H[0]&4&&D(c.value)!==C[2]&&j(c,C[2]),H[0]&8&&D(A.value)!==C[3]&&j(A,C[3]),H[0]&128&&D(_.value)!==C[7]&&j(_,C[7]),H[0]&256&&D(O.value)!==C[8]&&j(O,C[8]),H[0]&512&&D(G.value)!==C[9]&&j(G,C[9]),H[0]&16&&D(V.value)!==C[4]&&j(V,C[4]),H[0]&32&&D(U.value)!==C[5]&&j(U,C[5]),H[0]&64&&D(E.value)!==C[6]&&j(E,C[6])},i:N,o:N,d(C){C&&(F(t),F(n),F(r)),e[10](null),gt=!1,dt(wt)}}}let le="#0E86E1";function Pn(e,t,n){let r,s=0,i=0,l=0,o=0,a=0,u=0,h=1,m=1,b=1,c,d,w,S,A,B,$,p,v=!1,_=[0,0],k=0,L=[0,0,0],T=[0,0,0];const O=I=>{v=!0,k=I.button,_=[I.clientX,I.clientY],L=[o,a,u],T=[h,m,b]},J=()=>{v=!1,k=0},q=I=>{if(!v)return;const U=_[0]-I.clientX,tt=_[1]-I.clientY;if(k===0&&(n(4,o=L[0]+tt),n(5,a=L[1]-U)),k===2){const Y=r.clientHeight/4;n(7,h=T[0]+tt/Y),n(8,m=T[1]+tt/Y),n(9,b=T[2]+tt/Y)}};he(()=>{const I=new En(r);if(!I.gl)throw"Could not get gl from Engine.";r.addEventListener("contextmenu",H=>H.preventDefault()),r.addEventListener("mousedown",O),r.addEventListener("mouseup",J),r.addEventListener("mousemove",q),c=I.gl,p=new An(c);const U=new be({gl:c,source:Sn}),tt=new we({gl:c,source:Ln});p.attachShader(U),p.attachShader(tt),I.linkProgram(p),c.useProgram(p.webGLProgram),A=new Ut({gl:c,name:"a_position",program:p,createVao:!0,pointerProperties:{size:3,type:c.FLOAT}});var Y=x.xRotation(Math.PI);Y=x.translate(Y,-50,-75,-15);for(var W=0;W<lt.length;W+=3){var E=x.transformVector(Y,[lt[W+0],lt[W+1],lt[W+2],1]);lt[W+0]=E[0],lt[W+1]=E[1],lt[W+2]=E[2]}A.setBufferData(lt),B=new Ut({gl:c,name:"a_color",program:p,pointerProperties:{size:3,normalize:!0,type:c.UNSIGNED_BYTE}}),B.setBufferData(se),$=new Ut({gl:c,name:"a_normal",program:p,pointerProperties:{size:3,type:c.FLOAT}}),$.setBufferData(ie),c.bindVertexArray(A.vao);const[gt,wt,C]=ae(le,!0);d=new Rt({gl:c,type:"4fv",name:"u_color",program:p,value:[gt,wt,C,1]}),new Rt({gl:c,type:"3fv",name:"u_reverseLightDirection",program:p,value:vt.normalize([.5,.7,1])}),w=new Rt({gl:c,type:"matrix4fv",name:"u_worldInverseTranspose",program:p,value:x.transpose(x.inverse(x.identity))}),S=new Rt({gl:c,type:"matrix4fv",name:"u_worldViewProjection",program:p,value:x.identity}),K()});function K(I){if(!c)return;let U=r instanceof OffscreenCanvas?r.width:r.clientWidth,tt=r instanceof OffscreenCanvas?r.height:r.clientHeight;c.clearColor(0,0,0,0),c.clear(c.COLOR_BUFFER_BIT|c.DEPTH_BUFFER_BIT),c.enable(c.CULL_FACE),c.enable(c.DEPTH_TEST);const[Y,W,E]=ae(le,!0);d.value=[Y,W,E,1];const gt=U/tt,wt=1,C=1e4,H=Ct(60),ye=x.perspective(H,gt,wt,C),Se=[100,150,200],Le=[0,1,0];let st=x.yRotate(x.identity,Ct(a));st=x.xRotate(st,Ct(o)),st=x.zRotate(st,Ct(u)),st=x.translate(st,s,i,l);const Ee=[st[12],st[13],st[14]],Ae=x.lookAt(Se,Ee,Le),$e=x.inverse(Ae);let Pe=x.multiply(ye,$e);const ke=x.multiply(Pe,st);w.value=st,S.value=ke,A.setBufferData(lt),$.setBufferData(ie),B.setBufferData(se);const Re=c.TRIANGLES,Ce=0,xe=lt.length/3;c.drawArrays(Re,Ce,xe),requestAnimationFrame(K)}function G(I){Dt[I?"unshift":"push"](()=>{r=I,n(0,r)})}function Q(){s=D(this.value),n(1,s)}function R(){i=D(this.value),n(2,i)}function X(){l=D(this.value),n(3,l)}function ct(){h=D(this.value),n(7,h)}function rt(){m=D(this.value),n(8,m)}function ft(){b=D(this.value),n(9,b)}function V(){o=D(this.value),n(4,o)}function ht(){a=D(this.value),n(5,a)}function ot(){u=D(this.value),n(6,u)}return[r,s,i,l,o,a,u,h,m,b,G,Q,R,X,ct,rt,ft,V,ht,ot]}class kn extends mt{constructor(t){super(),_t(this,t,Pn,$n,pt,{},null,[-1,-1])}}function Rn(e){let t;return{c(){t=At("Engine")},m(n,r){M(n,t,r)},d(n){n&&F(t)}}}function Cn(e){let t;return{c(){t=At("Home")},m(n,r){M(n,t,r)},d(n){n&&F(t)}}}function xn(e){let t;return{c(){t=At("Shader Art")},m(n,r){M(n,t,r)},d(n){n&&F(t)}}}function Tn(e){let t,n,r,s,i,l,o,a,u,h,m,b;return s=new Nt({props:{href:"/engine",$$slots:{default:[Rn]},$$scope:{ctx:e}}}),l=new Nt({props:{href:"/home",$$slots:{default:[Cn]},$$scope:{ctx:e}}}),a=new Nt({props:{href:"/shaderart",$$slots:{default:[xn]},$$scope:{ctx:e}}}),m=new sn({props:{routes:e[0]}}),{c(){t=y("div"),n=y("header"),r=y("nav"),ut(s.$$.fragment),i=P(),ut(l.$$.fragment),o=P(),ut(a.$$.fragment),u=P(),h=y("main"),ut(m.$$.fragment),f(r,"class","svelte-j54tjh"),f(n,"class","svelte-j54tjh"),f(h,"class","svelte-j54tjh"),f(t,"class","content svelte-j54tjh")},m(c,d){M(c,t,d),g(t,n),g(n,r),it(s,r,null),g(r,i),it(l,r,null),g(r,o),it(a,r,null),g(t,u),g(t,h),it(m,h,null),b=!0},p(c,[d]){const w={};d&2&&(w.$$scope={dirty:d,ctx:c}),s.$set(w);const S={};d&2&&(S.$$scope={dirty:d,ctx:c}),l.$set(S);const A={};d&2&&(A.$$scope={dirty:d,ctx:c}),a.$set(A)},i(c){b||(et(s.$$.fragment,c),et(l.$$.fragment,c),et(a.$$.fragment,c),et(m.$$.fragment,c),b=!0)},o(c){nt(s.$$.fragment,c),nt(l.$$.fragment,c),nt(a.$$.fragment,c),nt(m.$$.fragment,c),b=!1},d(c){c&&F(t),at(s),at(l),at(a),at(m)}}}function zn(e){return[{"/":ln,"/shaderart":bn,"/engine":kn}]}class jn extends mt{constructor(t){super(),_t(this,t,zn,Tn,pt,{})}}new jn({target:document.getElementById("app")});
